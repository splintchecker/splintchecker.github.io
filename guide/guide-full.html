<html>
<head>
<title>LCLint User's Guide</title>
</head>
<body bgcolor="#FFFFFF" link="#CC0000" alink="#FF3300" vlink="#000088">

<H1>
<center>
LCLint User's Guide<BR>
</center>
</H1>
<P>
<H2>
<center>
Version 2.4<br>
April 1998<br>
</center>
</H2>
<p>
<h4>
<center><a href="http://www.cs.virginia.edu/~evans">David Evans</A><br>
<a href="http://www.cs.virginia.edu">University of Virginia, Computer Science Group</A><br>
<A HREF="http://www.lcs.mit.edu/">MIT Laboratory for Computer Science</A><br>
</center>
</h4>
<p>

LCLint is a tool for statically checking C programs.  With minimal effort,
LCLint can be used as a better lint.<a href="guide_fn.html#fn1">[1]</a>  If
additional effort is invested adding annotations to programs, LCLint can
perform stronger checks than can be done by any standard lint.<p>
<p> 
Some problems detected by LCLint include:<p>
<ul>
<li>	Violations of information hiding.  A user-defined type can be declared
as <i>abstract</i>, and a message is reported where code inappropriately
depends on the representation of the type.  (<a href="guide-full.html#sec-3">Section 3</a>) <p>
<li>	Inconsistent modification of caller-visible state.  Functions can be
annotated with information on what caller-visible state may be modified by the
function, and an error is reported if the modifications produced by the
function contradict its declaration.  (<a href="guide-full.html#sec-4.1">Section 4.1</a>)<p>
<li>	Inconsistent use of global variables.  Information on what global and
file scope variables a function may use can be added to function declarations,
and a message is reported if the implementation of the function uses other
global variables or does not uses every global variable listed in its
declaration.  (<a href="guide-full.html#sec-4.2">Section 4.2</a>)<p>
<li>	Memory management errors.  Instances where storage that has been
deallocated is used, or where storage is not deallocated (memory leaks).
(<a href="guide-full.html#sec-5">Section 5</a>)<p>
<li>	Dangerous data sharing or unexpected aliasing.  Parameters to a function
share storage in a way that may lead to undefined or undesired behavior, or a
reference to storage within the representation of an abstract type is created.
(<a href="guide-full.html#sec-6">Section 6</a>)<p>
<li>	Using possibly undefined storage or returning storage that is not
completely defined (except as documented).  (<a href="guide-full.html#sec-7.1">Section 7.1</a>)<p>
<li>	Dereferencing a possibly null pointer.  (<a href="guide-full.html#sec-7.2">Section 7.2</a>)<p>
<li>	Dangerous macro implementations or invocations. (<a href="guide-full.html#sec-8">Section 8</a>)<p>
<li>	Violations of customizable naming conventions. (<a href="guide-full.html#sec-9">Section 9</a>)<p>
<li>	Program behavior that is undefined because it depends on order of
evaluation, likely infinite loops, fall-through cases, incomplete logic,
statements with no effect, ignored return values, unused declarations, and
exceeding certain standard limits.  (<a href="guide-full.html#sec-10">Section 10</a>)<p>
</ul>
<p>
LCLint checking can be customized to select what classes of errors are reported
using command line flags and stylized comments in the code.<p>
<p>
This document is a guide to using LCLint.  <a href="guide-full.html#sec-1">Section 1</a> is a brief overview of the
design goals of LCLint. <a href="guide-full.html#sec-2">Section 2</a> explains how to run LCLint, interpret
messages produce, and control checking. Sections 3-10 describe particular
checks done by LCLint.

<H1>
<a name="contents">
Contents<BR>
</a>
</H1>
<P>
<ol>
<li><a href="sec1.html">Overview</a>
<li><a href="sec2.html">Operation</a><ul>
<li><a href="sec2.html#sec-2.1">Messages</a>
<li><a href="sec2.html#sec-2.2">Flags</a>
<li><a href="sec2.html#sec-2.3">Stylized Comments</a><ul>
<li><a href="sec2.html#sec-2.3.1">Annotations</a>
<li><a href="sec2.html#sec-2.3.2">Control Comments</a></ul></ul>
<li><a href="sec3.html">Abstract Types</a><ul>
<li><a href="sec3.html#sec-3.1">Access</a>
<li><a href="sec3.html#sec-3.2">Mutability</a>
<li><a href="sec3.html#sec-3.3">Boulean Types</a>
<li><a href="sec3.html#sec-3.4">Primitive C Types</a><ul>
<li><a href="sec3.html#sec-3.4.1">Characters</a>
<li><a href="sec3.html#sec-3.4.2">Enumerators</a>
<li><a href="sec3.html#sec-3.4.3">Numeric Types</a>
<li><a href="sec3.html#sec-3.4.4">Arbitrary Integral Types</a></ul></ul>
<li><a href="sec4.html">Function Interfaces</a><ul>
<li><a href="sec4.html#sec-4.1">Modifications</a><ul>
<li><a href="sec4.html#sec-4.1.1">Special Modifications</a>
<li><a href="sec4.html#sec-4.1.2">Missing Modifies Clauses</a>
<li><a href="sec4.html#sec-4.1.3">Limitations</a></ul>
<li><a href="sec4.html#sec-4.2">Global Variables</a><ul>
<li><a href="sec4.html#sec-4.2.1">Controlling Globals Checking</a></ul>
<li><a href="sec4.html#sec-4.3">Declaration Consistency</a></ul>
<li><a href="sec5.html">Memory Management</a><ul>
<li><a href="sec5.html#sec-5.1">Storage Model</a>
<li><a href="sec5.html#sec-5.2">Deallocation Errors</a><ul>
<li><a href="sec5.html#sec-5.2.1">Unshared References</a>
<li><a href="sec5.html#sec-5.2.2">Temporary Parameters</a>
<li><a href="sec5.html#sec-5.2.3">Owned and Dependent References</a>
<li><a href="sec5.html#sec-5.2.4">Kept Parameters</a>
<li><a href="sec5.html#sec-5.2.5"Shared References</a>
<li><a href="sec5.html#sec-5.2.6">Stack References</a>
<li><a href="sec5.html#sec-5.2.7">Inner Storage</a></ul>
<li><a href="sec5.html#sec-5.3">Implicit Memory Annotations</a>
<li><a href="sec5.html#sec-5.4">Reference Counting</a></ul>
<li><a href="sec6.html">Sharing</a><ul>
<li><a href="sec6.html#sec-6.1">Aliasing</a><ul>
<li><a href="sec6.html#sec-6.1.1">Unique Parameters</a>
<li><a href="sec6.html#sec-6.1.2">Returned Parameters</a></ul>
<li><a href="sec6.html#sec-6.2">Exposure</a><ul>
<li><a href="sec6.html#sec-6.2.1">Read-Only Storage</a>
<li><a href="sec6.html#sec-6.2.2">Exposed Storage</a></ul></ul>
<li><a href="sec7.html">Value Constraints</a><ul>
<li><a href="sec7.html#sec-7.1">Use Before Definition</a><ul>
<li><a href="sec7.html#sec-7.1.1">Undefined Parameters</a>
<li><a href="sec7.html#sec-7.1.2">Relaxing Checking</a>
<li><a href="sec7.html#sec-7.1.3">Partially Defined Structures</a>
<li><a href="sec7.html#sec-7.1.4">Global Variables</a></ul>
<li><a href="sec7.html#sec-7.2">Null Pointers</a><ul>
<li><a href="sec7.html#sec-7.2.1">Predicate Functions</a>
<li><a href="sec7.html#sec-7.2.2">Overriding Null Types</a>
<li><a href="sec7.html#sec-7.2.3">Relaxing Null Checking</a></ul>
<li><a href="sec7.html#sec-7.3">Execution</a>
<li><a href="sec7.html#sec-7.4">Special Clauses</a></ul>
<li><a href="sec8.html">Macros</a><ul>
<li><a href="sec8.html#sec-8.1">Constant Macros</a>
<li><a href="sec8.html#sec-8.2">Function-like Macros</a><ul>
<li><a href="sec8.html#sec-8.2.1">Side-Effect Free Parameters</a>
<li><a href="sec8.html#sec-8.2.2">Polymorphism</a></ul>
<li><a href="sec8.html#sec-8.3">Controlling Macro Checking</a>
<li><a href="sec8.html#sec-8.4">Iterators</a></ul>
<li><a href="sec9.html">Naming Conventions</a><ul>
<li><a href="sec9.html#sec-9.1">Type-Based Naming Conventions</a><ul>
<li><a href="sec9.html#sec-9.1.1">Czech Names</a>
<li><a href="sec9.html#sec-9.1.2">Slovak Names</a>
<li><a href="sec9.html#sec-9.1.3">Czechoslovak Names</a></ul>
<li><a href="sec9.html#sec-9.2">Namespace Prefixes</a>
<li><a href="sec9.html#sec-9.3">Naming Restrictions</a><ul>
<li><a href="sec9.html#sec-9.3.1">Reserved Names</a>
<li><a href="sec9.html#sec-9.3.2">Distinct Identifiers</a></ul></ul>
<li><a href="sec10.html">Other Checks</a><ul>
<li><a href="sec10.html#sec-10.1">Undefined Evaluation Order</a>
<li><a href="sec10.html#sec-10.2">Problematic Control Structures</a><ul>
<li><a href="sec10.html#sec-10.2.1">Likely Infinite Loops</a>
<li><a href="sec10.html#sec-10.2.2">Switches</a>
<li><a href="sec10.html#sec-10.2.3">Deep Breaks</a>
<li><a href="sec10.html#sec-10.2.4">Loop and If Bodies</a>
<li><a href="sec10.html#sec-10.2.5">Complete if-else Logic</a></ul>
<li><a href="sec10.html#sec-10.3">Suspicious Statements</a><ul>
<li><a href="sec10.html#sec-10.3.1">Statements with No Effects</a>
<li><a href="sec10.html#sec-10.3.2">Ignored Return Values</a></ul>
<li><a href="sec10.html#sec-10.4">Unused Declarations</a>
<li><a href="sec10.html#sec-10.5">Complete Programs</a><ul>
<li><a href="sec10.html#sec-10.5.1">Unnecessary External Names</a>
<li><a href="sec10.html#sec-10.5.2">Declarations Missing from Headers</a></ul>
<li><a href="sec10.html#sec-10.6">Compiler Limits</a><ul><ul><ul>
</ul></ul></ul></ul></ol>

<h3>
Appendices
</h3>
<blockquote>
<a href="appA.html">Appendix A.  Availability</a><br>
<a href="appB.html">Appendix B.  Communication</a><br>
<a href="appC.html">Appendix C.  Flags</a><br>
<a href="appD.html">Appendix D.  Annotations</a><br>
<a href="appE.html">Appendix E.  Control Comments</a><br>
<a href="appF.html">Appendix F.  Libraries</a><br>
<a href="appG.html">Appendix G.  Specifications</a><br>
<a href="appH.html">Appendix H.  Emacs</a><br>
</blockquote>
<p>
<h2>
<a href="figures.html">Figures</a><br>
</h2>
<p>
<a href="references.html">References</a><br>
<a href="../acknowledgements.html">Acknowledgements</a><br>
<p>

<a name="overview">
<h1>
1. Overview</a></a>
</a></h1>
The main goals for LCLint are to:<p>
<ul>
<li>	Detect a large number of bugs in typical C programs, without producing
an unacceptable number of spurious messages.  We are willing to accept the
possibility that a few spurious messages are produced as long as it enables
significantly more powerful checking and the spurious messages can be
suppressed easily.<p>
<li>	Support a programming methodology involving abstract types and clean,
documented interfaces in standard C programs.<p>
<li>	Provide a gradual transition for programmers.  LCLint can be used like a
better standard lint with minimal effort.  Adding a few annotations to programs
enables significantly better checking.  As more effort is put into annotating
programs, better checking results. A representational effort/benefit curve for
using LCLint is shown in Figure 1 (not available in HTML format).  As
different checks are turned on and more information is given in code
annotations the number of bugs that can be detected increases dramatically. <p>
<li>	Provide enough flexibility so that LCLint can be used effectively with a
wide range of coding styles.  Especially important is making it easy to use
LCLint effectively to maintain and modify legacy code.<p>
<li>	Check programs quickly and with no user interaction.  LCLint
runs faster than most compilers.  Libraries can be used to enable fast
checking of a few modules in a large program.
</ul>
<p>

LCLint does many of the traditional lint checks including unused declarations,
type inconsistencies, use-before-definition, unreachable code, ignored return
values, execution paths with no return, likely infinite loops, and fall-through
cases.  This document focuses on more powerful checks that are made
possible by additional information given in source code annotations. <a
href="guide_fn.html#fn2">[2]</a>  Annotations are stylized comments that
document certain assumptions about functions, variables, parameters, and types.
They may be used to indicate where the representation of a user-defined type is
hidden, to limit where a global variable may be used or modified, to constrain
what a function implementation may do to its parameters, and to express checked
assumptions about variables, types, structure fields, function parameters, and
function results.  In addition to the checks specifically enabled by
annotations, many of the traditional lint checks are improved by exploiting
this additional information.


<h1>
<a name="operation">
2. Operation</a></a>
</a></h1>
LCLint is invoked by listing files to be checked.  Initialization files,
command line flags, and stylized comments may be used to customize checking
globally and locally.<p>
<p>
The best way to learn to use LCLint, of course, is to actually use it (if you
don't already have LCLint installed on your system, <a
href="../download.html">download it</A>).  Before you
read much further in this document, I recommend finding a small C program.
Then, try running:<p>
<code>lclint *.c</code><p>
For the most C programs, this will produce a large number of messages.  To turn
off reporting for some of the messages, try:<p>
<code>lclint -weak *.c</code><p>
The <a href="appC.html#flag-weak"><tt>-weak</tt></a> flag is a mode
flag that sets many checking parameters to select weaker checking than
is done in the default mode.  Other LCLint flags will be introduced in the following sections;  a complete list is given in <a href="appC.html">Appendix C</a>.
<h2>
<a name="sec-2.1">2.1 Messages
</a></h2>
The format and content of messages printed by LCLint can be customized by the
user. A typical message is:<p>
<blockquote>
<pre>
sample.c: (in function faucet)
sample.c:11:12: Fresh storage x not released before return
  A memory leak has been detected.  Newly-allocated or only-qualified storage
  is not released before the last reference to is it lost.  Use -mustfree to
  suppress message.
   sample.c:5:47: Fresh storage x allocated
</pre>
</blockquote>
The first line gives the name of the function in which the error is found.
This is printed before the first message reported for a function.  (The
function context is not printed if <a
href="appC.html#flag-showfunc"><tt>-showfunc</tt></a> is used.) <p> 
<p>
The second line is the text of the message.  This message reports a memory leak
- storage allocated in a function is not deallocated before the function
returns. The text is preceded by the file name, line and column number where
the error is located.  The column numbers are used by the emacs mode (see
<a href="appH.html">Appendix&nbsp;H</a>) to jump to the
appropriate line and column location.  (Column numbers are not printed
if <a href="appC.html#flag-showcolumn"><tt>-showcolumn</tt></a> is used.)  <p>
<p>
The next line is a hint giving more information about the suspected error.
Most hints also include information on how the message may be suppressed.   For
this message, setting the <a
href="appC.html#flag-mustfree"><tt>-mustfree</tt></a> flag would
prevent the message from being reported.  Hints may be turned off by
using <a href="appC.html#flag-hints"><tt>-hints</tt></a>.  Normally, a hint is given only the first time a class of error is reported.
To have LCLint print a hint for every message regardless, use <a href="appC.html#flag-forcehints"><tt>+forcehints</tt></a>.<p>
<p>
The final line of the message gives additional location information.  For this
message, it tells where the leaking storage is allocated.<p>
<p>
The generic message format is (parts enclosed in square brackets are
optional):<p>
<pre>
  [&lt;file&gt;:&lt;line&gt; (in &lt;context&gt;)]
  &lt;file&gt;:&lt;line&gt;[,&lt;column&gt;]: <i>message</i>
     [<i>hint</i>]
      &lt;file&gt;:&lt;line&gt;,&lt;column&gt;: <i>extra location information, if appopriate</i><p>
</pre>
The text of messages and hints may be longer than one line.  They are split
into lines of length less than the value set using <a href="appC.html#flag-linelen"><tt>-linelen</tt></a>
<i>&lt;number&gt;</i>.  The default line length is 80 characters.  LCLint
attempts to split lines in a sensible place as near to the line length limit as
possible.  
<p>
The <a
href="appC.html#flag-parenfileformat"><tt>+parenfileformat</tt></a> flag
can be used to generate file locations in the format recognized by
Microsoft Developer Studio.  If <tt>+parenfileformat</tt> is set, the
line number follows the file name in parentheses (e.g.,
<tt>sample.c(11)</tt>.).

<a name="_Toc344355436"><a name="_Ref344870278"><a name="_Ref344882148"><a name="_Ref348092990"><a name="_Ref348343330"><a name="_Ref348343333"><a name="_Toc349905845">
<h2>
<a name="RTFToC4">
<a name="sec-2.2">2.2 Flags</A></a></a></a></a></a></a></a>
</a></h2>
So that many programming styles can be supported, LCLint provides over 300
flags for controlling checking and message reporting.  Some of the flags are
introduced in the body of this document.  <a href="appC.html">Apppendix C</a> describes every flag.
Modes and shortcut flags are provided for setting many flags at once.
Individual flags can override the mode settings.<p>
<p>
Flags are preceded by + or -.  When a flag is preceded by + we say it is
<i>on</i>; when it is preceded by - it is <i>off</i>. The precise meaning of on
and off depends on the type of flag.  <p>
<p>
The +/- flag settings are used for consistency and clarity, but contradict
standard UNIX usage and is easy to accidentally use the wrong one.  To reduce
the likelihood of using the wrong flag, LCLint issues warnings when a flag is
set in an unusual way.  Warnings are issued when a flag is redundantly set to
the value it already had (these errors are not reported if the flag is set
using a stylized comment), if a mode flag or special flag is set after a more
specific flag that will be set by the general flag was already set, if value
flags are given unreasonable values, of if flags are set in an inconsistent
way.  The <a href="appC.html#flag-warnflags"><tt>-warnflags</tt></a> flag suppresses these warnings.<p>
<p>
Default flag settings will be read from <tt>~/.lclintrc</tt> if it is readable.  If
there is a <tt>.lclintrc</tt> file in the working directory, settings in this file will
be read next and its settings will override those in <tt>~/.lclintrc</tt>.  Command-line
flags override settings in either file.  The syntax of the <tt>.lclintrc</tt> file is
the same as that of command-line flags, except that flags may be on separate
lines and the <tt>#</tt> character may be used to indicate that the remainder of the
line is a comment. The <a href="appC.html#flag-nof"><tt>-nof</tt></a>
flag prevents the  <tt>~/.lclintrc</tt> file from being
loaded.  The <a href="appC.html#flag-f"><tt>-f</tt></a> <i>&lt;filename&gt;</i> flag loads options from <i>filename</i>.
<a name="_Ref343086686"><a name="_Toc344355442"><a name="_Toc349905846">
<h2>
<a name="RTFToC5">
<a name="sec-2.3">2.3 Stylized Comments</A></a></a></a>
</a></h2>
Stylized comments are used to provide extra information about a type, variable
or function interface to improve checking, or to control flag settings
locally.<p>
<p>
All stylized comments begin with <tt>/*@</tt> and are closed by the end of the comment.
The role of the <tt>@</tt> may be played by any printable character.  Use <a href="appC.html#flag-commentchar"><tt>-commentchar</tt></a>
<i>&lt;char&gt;</i> to select a different stylized comment marker.
<h3>
<a name="sec-2.3.1">2.3.1 Annotations
</a></h3>
Annotations are stylized comments that follow a definite syntax.  Although they
are comments, they may only be used in fixed grammatical contexts (e.g., like a
type qualifier).<p>
<p>
Syntactic comments for function interfaces are described in <a
href="sec4.html">Section 4</a>; comments for declaring constants
in <a href="sec8.html#sec-8.1">Section 8.1.</a> and comments for
declaring iterators in <a href="sec8.html#sec-8.4">Section 8.4.</a>
Sections 3-8 include descriptions of annotations for expressing
assumptions about variables, parameters, return values, structure fields
and type definitions.  A summary of annotations is found in <a
href="appD.html">Apppendix D</a>.  

<h3>
<a name="sec-2.3.2">2.3.2 Control Comments
</a></h3>
Unlike annotations, control comments may appear between any two tokens in a C
program.<a href="guide_fn.html#fn3">[3]</a>  Syntactically, they are no
different from standard comments.  Control comments are used to provide
source-level control of LCLint checking.  They may be used to suppress spurious
messages, set flags, and control checking locally in other ways.  A complete
description of control comments is found in <a href="appE.html">Apppendix E</a>.<p>
<p>
Most flags (all except those characterized as "global" in <a href="appC.html">Apppendix C</a>) can be
set locally using control comments.  A control comment can set flags locally to
override the command line settings.  The original flag settings are restored
before processing the next file. The syntax for setting flags in control
comments is the same as that of the command line, except that flags may also be
preceded by = to restore their setting to the original command-line value.  For
instance,
<pre>
/*@+boolint -modifies =showfunc@*/
</pre>
sets <a href="appC.html#flag-boolint"><tt>boolint</tt></a> on (this
makes bool and int indistinguishable types), 
sets <a href="appC.html#flag-modifies"><tt>modifies</tt></a> off (this prevents reporting of modification errors), and sets 
<a href="guide.html#flag-showfunc"><tt>showfunc</tt></a> to its original
setting (this controls  whether or not the name of a function is
displayed before a message). 


<h1>
<a name="sec-3">
3. Abstract Types</a>
</h1>
<blockquote>
<em>
Traditionally, programming books wax mathematical when they arrive at the topic
of abstract data types&#133; Such books make it seem as if you'd never actually
use an abstract data type except as a sleep aid. </em>
<p>
- Steve McConnell
</blockquote>
<p>
Information hiding is a technique for handling complexity.  By hiding
implementation details, programs can be understood and developed in distinct
modules and the effects of a change can be localized.  One technique for
information hiding is data abstraction.  An abstract type is used to represent
some natural program abstraction.  It provides functions for manipulating
instances of the type.  The module that implements these functions is called
the <i>implementation</i> module.  We call the functions that are part of the
implementation of an abstract type the <i>operations</i> of the type.  Other
modules that use the abstract type are called <i>clients</i>.<p>
<p>
Clients may use the type name and operations, but should not manipulate or rely
on the actual representation of the type.  Only the implementation module may
manipulate the representation of an abstract type.  This hides information,
since implementers and maintainers of client modules should not need to know
anything about how the abstract type is implemented. It provides modularity,
since the representation of an abstract type can be changed without having to
change any client code.<p>
<p>
LCLint supports abstract types by detecting places where client code depends on
the concrete representation of an abstract type.  <p>
To declare an abstract type, the abstract annotation is added to a typedef.
For example (in <tt>mstring.h</tt>),
<pre>
typedef /*@abstract@*/ char *mstring;
</pre>
declares <tt>mstring</tt> as an abstract type.  It is implemented using a <tt>char *</tt>, but
clients of the type should not depend on or need to be aware of this.  If it
later becomes apparent that a better representation such as a string table
should be used, we should be able to change the implementation of mstring
without having to change or inspect any client code.<p>
<p>
In a client module, abstract types are checked by name, not structure.  LCLint
reports an error if an instance of mstring is passed as a char * (for instance,
as an argument to strlen), since the correctness of this call depends on the
representation of the abstract type.  LCLint also reports errors if any C
operator except assignment (=) or sizeof is used on an abstract type.  The
assignment operator is allowed since its semantics do not depend on the
representation of the type.<a href="guide_fn.html#fn4">[4]</a>

The use of <tt>sizeof</tt> is also permitted, since this is the only way for clients
to allocate pointers to the abstract type.  Type casting objects to or from
abstract types in a client module is an abstraction violation and will generate
a warning message.</a><p>
<p>
Normally, LCLint will assume a type definition is not abstract unless the
<tt>/*@abstract@*/</tt> qualifier is used.  If instead you want all user-defined types
to be abstract types unless they are marked as concrete, the <a href="appC.html#flag-impabstract"><tt>+impabstract</tt></a> flag
can be used.  This adds an implicit abstract annotation to any typedef that is
not marked with <tt>/*@concrete@*/</tt>.<p>
<p>
Some examples of abstraction violations detected by LCLint are shown in
<a href="fig2.html">Figure 2</a>.<p>

<h2>
<a name="RTFToC9">
<a name="sec-3.1">3.1 Access</A></a></a></a></a>
</a></h2>
Where code may manipulate the representation of an abstract type, we say the
code has <i>access</i> to that type.  If code has access to an abstract type,
the representation of the type and the abstract type are indistinguishable.
Usually, an abstract type is implemented by a single program module that is the
only code that has access to the type representation.  Sometimes, more
complicated access control is desired if the implementation of an abstract type
is split across program files, or particular client code needs to access the
representation.<p>
<p>
There are a several ways of selecting what code has access the representation
of an abstract type:<p>
<ul>
<li>	Modules.  An abstract type defined in <i>M</i>.h is accessible in
<i>M</i>.c.  Controlled by the accessmodule flag.  This means when accessmodule
is on, as it is by default, the module access rule is in effect.  If
accessmodule is off (when <a href="appC.html#flag-accessmodule"><tt>-accessmodule</tt></a> is used), the module access rule is not
in effect and an abstract type defined in <i>M</i>.h is not necessarily
accessible in <i>M</i>.c<p>
<li>	File names.  An abstract type named <i>type</i> is accessible in files
named <i>type</i>.<i>&lt;extenstion&gt;</i>.  For example, the representation
of mstring is be accessible in mstring.h and mstring.c.  Controlled by the
<a href="appC.html#flag-accessfile"><tt>accessfile</tt></a> flag.<p>
<li>	Function names.  An abstract type named <i>type</i> may be accessible in
a function named <i>type</i>_<i>name</i> or <i>typeName</i>.  For example,
mstring_length and mstringLength would have access to the mstring abstract
type.  Controlled by the naming convention (see <a
href="sec9.html">Section 9</a>).<p>
<li>	Access control comments. The syntax /*@access <i>type</i>,+@*/<a
href="guide_fn.html#fn6">[6]</a> allows the following code to access the
representation of <i>type</i>.  Similarly, /*@noaccess <i>type</i>,+@*/
restricts access to the representation of <i>type</i>.  The type in a noaccess
comment must have been declared as an abstract type.
<a name="_Ref343240518"><a name="_Ref343240525"><a name="_Toc344355399"><a name="_Toc349905851">
</ul>
<h2>
<a name="RTFToC10">
<a name="sec-3.2">3.2 Mutability</A></a></a></a></a>
</a></h2>
We can view types as being <i>mutable</i> or <i>immutable</i>.  A type is
mutable if the value of an instance of the type can be changed by passing it as
a parameter to a function call.<a href="guide_fn.html#fn7">[7]</a>  For example, the
primitive type <tt>int</tt> is immutable.  If i is a local variable of type int and
no variables point to the location where i is stored, the value of i must be
the same before and after the call f(i).  Structure and union types are also
immutable, since they are copied when they are passed as arguments.  On the
other hand, pointer types are mutable.  If x is a local variable of type int *,
the value of *x (and hence, the value of the object x) can be changed by the
function call g(x).  <p>
<p>
The mutability of a concrete type is determined by its type definition. For
abstract types, mutability does not depend on the type representation but on
what operations the type provides. If an abstract type has operations that may
change the value of instances of the type, the type is mutable.  If not, it is
immutable.  The value of an instance of an immutable type never changes.  Since
object sharing is noticeable only for mutable types, they are checked
differently from immutable types.<p>
The <tt>/*@mutable@*/</tt> and <tt>/*@immutable@*/</tt> annotations are used to declare an
abstract type as mutable or immutable.  (If neither is used, the abstract type
is assumed to be mutable.)  For example,<p>
<code>
   typedef /*@abstract@*/ /*@mutable@*/ char *mstring;
   typedef /*@abstract@*/ /*@immutable@*/ int weekDay;
</code>
declares mstring as a mutable abstract type and weekDay as  an immutable
abstract type.<p>
<p>
Clients of  a mutable abstract type need to know the semantics of assignment.
After the assignment expression s = t, do s and t refer to the same object
(that is, will changes to the value of s also change the value of t)?<p>
<p>
LCLint prescribes that all abstract types have sharing semantics, so s and t
would indeed be the same object.  LCLint will report an error if a mutable type
is implemented with a representation (e.g., a struct) that does not provide
sharing semantics (controlled by mutrep flag).  <p>
<p>
The mutability of an abstract type is not necessarily the same as the
mutability of its representation. We could use the immutable concrete type int
to represent mutable strings using an index into a string table, or declare
mstring as immutable as long as no operations are provided that modify the
value of an mstring.
<a name="_Toc344355400"><a name="_Ref344892413"><a name="_Toc349905852">
<h2>
<a name="RTFToC11">
<a name="sec-3.3">3.3 Boolean Types</A></a></a></a>
</a></h2>
Standard C has no boolean representation - the result of a comparison operator
is an integer, and no type checking is done for test expressions.  Many common
errors can be detected by introducing a distinct boolean type and stronger type
checking.<p>
<p>
Use the <tt>-booltype </tt><em>name</em> flag to select the type name
used to represent boolean values<a
href="guide_fn.html#fn8">[8]</a>  Relations,
comparisons and certain standard library functions are declared to return bool
types.<p>

LCLint checks that the test expression in an if, while, or for statement
or an operand to &amp;&amp;, || or ! is a boolean.  If the type of a test
expression is not a boolean, LCLint will report an error depending on the type
of the test expression and flag settings.  If the test expression has pointer
type, LCLint reports an error if predboolptr is on (this can be used to prevent
messages for the idiom of  testing if a pointer is not null without a
comparison).  If it is type int, an error is reported if predboolint is on.
For all other types, LCLint reports an error if predboolothers is on.<p>
<p>
Since using <tt>=</tt> instead of <tt>==</tt> is such a common bug, reporting of test expressions
that are assignments is controlled by the separate predassign flag.  The
message can be suppressed by adding extra parentheses around the test
expression.<p>
<p>
<a href="appC.html">Apppendix C</a> (page 
<a name="typeflags"></a>50)
describes other flags for controlling boolean checking.
<a name="_Toc344355401"><a name="_Toc349905853">
<p>
<a href="fig3.html">Figure 3.  Boolean Checking</a>
<h2>
<a name="RTFToC12">
<a name="sec-3.4">3.4 Primitive C Types</A></a></a>
</a></h2>
<blockquote>
<em>Two types have <i>compatible type</i> if their types are the same.</em><br>
- ANSI C, 3.1.2.6.
<br>
<p>
<em>Two types need not be identical to be compatible.</em><br>
- ANSI C, footnote to 3.1.2.6.
</blockquote>
LCLint supports stricter checking of primitive C types.  The char and enum
types can be checked as distinct types, and the different numeric types can be
type-checked strictly.
<a name="_Toc349905854">
<h3>
<a name="RTFToC13">
<a name="sec-3.4.1">3.4.1 Characters</A></a>
</a></h3>
The primitive char type can be type-checked as a distinct type.  If char is
used as a distinct type, common errors involving assigning ints to chars are
detected.<p>
<p>
The <a href="appC.html#flag-charint"><tt>+charint</tt></a> flag can be used for checking legacy programs where char and int
are used interchangeably.  If charint is on, char types indistinguishable from
ints.  To keep char and int as distinct types, but allow chars to be used to
index arrays, use <a href="appC.html#flag-charindex"><tt>+charindex</tt></a>.
<a name="_Toc349905855">
<h3>
<a name="sec-3.4.2">3.4.2 Enumerators</A></a>
</a></h3>
Standard C treats user-declared enum types just like integers.  An arbitrary
integral value may be assigned to an enum type, whether or not it was listed as
an enumerator member.  LCLint checks each user-defined enum type as distinct
type.  An error is reported if a value that is not an enumerator member is
assigned to the enum type, or if an enum type is used as an operand to an
arithmetic operator.<p>
<p>
If the enumint flag is on, enum and int types may be used interchangeably.
Like charindex, if  the enumindex flag is on, enum types may be used to index
arrays.
<h3>
<a name="sec-3.4.3">3.4.3 Numeric Types</A></a>
</a></h3>
LCLint reports where numeric types are used in dangerous or inconsistent ways.
With the strictest checking, LCLint will report an error anytime numeric types
do not match exactly.  If the relaxquals flag is on, only those
inconsistencies which may corrupt values are reported.  For example, if an int
is assigned to a variable of type long (or passed as a long formal parameter),
LCLint will not report an error if relaxquals is on since a long must have
at least enough bits to store an int without data loss.  On the other hand, an
error would be reported if the long were assigned to an int, since the int type
may not have enough bits to store the long value.<p>
<p>
Similarly, if a signed value is assigned to an unsigned, LCLint will report an
error since an unsigned type cannot represent all signed values correctly.  If
the ignoresigns flag is on, checking is relaxed to ignore all sign qualifiers
in type comparisons (this is not recommended, since it will suppress reporting
of real bugs, but may be necessary for quickly checking certain legacy code).  

<h3>
<a name="sec-3.4.4">3.4.4 Arbitrary Integral Types</A></a>
</a></h3>

LCLint supports three different kinds of arbitrary integral types:
<p>
<blockquote>
<tt>/*@integraltype@*/</tt>
<blockquote>
An arbitrary integral type.  The actual type may be any one of
<tt>short</tt>, <tt>int</tt>, <tt>long</tt>, <tt>unsigned short</tt>, <tt>unsigned</tt>, or <tt>unsigned long</tt>. 
</blockquote>
<p>
<tt>/*@unsignedintegraltype@*/</tt>
<blockquote>
An arbitrary unsigned integral type.  The actual type may be any one of
<tt>unsigned short</tt>, <tt>unsigned</tt>, or <tt>unsigned long</tt>.
</blockquote>

<p>
<tt>/*@signedintegraltype@*/</tt>
<blockquote>
An arbitrary signed integral type.  The actual type may be any one of
<tt>short</tt>, <tt>int</tt>, or <tt>long</tt>. 
</blockquote>
</blockquote>
<p>
LCLint reports an error if the code depends on the actual representation
of a type declared as an arbitrary integral.  The <a
href="appC.html#flag-matchanyintegral"><tt>match-any-integral</tt></a>
flag relaxes checking and allows an arbitrary integral type is allowed
to match any integral type. 

<p>

Other flags set the arbitrary integral types to a concrete type.  These
should only be used if portability to platforms that may use different
representations is not important.  The <tt>long-integral</tt> and
<tt>long-unsigned-integral</tt> flags set the type corresponding to
<tt>/*@integraltype@*/</tt> to be <tt>unsigned long</tt> and
<tt>long</tt> respectively. The <tt>long-unsigned-unsigned-integral</tt>
flag sets the type corresponding to <tt>/*@unsignedintegraltype@*/</tt>
to be <tt>unsigned long</tt>. The <tt>long-signed-integral</tt>
flag sets the type corresponding to <tt>/*@signedintegraltype@*/</tt> to
be <tt>long</tt>.

<p>

<h1>
<a name="sec-4">
4. Function Interfaces
</a></h1>
Functions communicate with their calling environment through an interface.  The
caller communicates the values of actual parameters and global variables to the
function, and the function communicates to the caller through the return value,
global variables and storage reachable from the actual parameters.  By keeping
interfaces narrow (i.e., restricting the amount of information visible across a
function interface), we can understand and implement functions independently.
<p>
<p>
A function prototype documents the interface to a function.  It serves as a
contract between the function and its caller.  In early versions of C, the
function "prototype" was very limited.  It described the type returned by the
function but nothing about its parameters.  The main improvement provided by
ANSI C was the ability to add information on the number and types of parameter
to a function.  LCLint provides the means to express much more about a function
interface: what global variable the function may use, what values visible to
the caller it may modify, if a pointer parameter may be a null pointer or point
to undefined storage, if storage pointed to by a parameter is deallocated
before the function returns, if the function may create new aliases to a
parameter, can the caller modify or deallocate the return value, etc.  <p>
<p>
The extra interface information places constraints on both how the function may
be called and how it may be implemented.  LCLint reports places where these
constrains are not satisfied.  Typically, these indicate bugs in the code or
errors in the interface documentation.<p>
<p>
This section describes syntactic comments may be added to a function
declaration to document what global variables the function implementation may
use and what values visible to its caller it may modify.  Sections 5-7 describe
annotations may be added to parameters to constrain valid arguments to a
function and how these arguments may be used after the call and to the return
value to constrain results. 
<a name="_Toc344355403"><a name="_Ref344892358"><a name="_Ref344908335"><a name="_Ref348845225"><a name="_Toc349905858">
<h2>
<a name="RTFToC17">
<a name="sec-4.1">4.1 Modifications</A></a></a></a></a></a>
</a></h2>
The modifies clause lists what values visible to the caller may be modified by
a function.  Modifies clauses limit what values a function may modify, but they
do not require that listed values are always modified.  The declaration,
<pre>
int f (int *p, int *q) /*@modifies *p@*/;
</pre>
declares a function f that may modify the value pointed to by its first
argument but may not modify the value of its second argument or any global
state.<p>
<p>
LCLint checks that a function does not modify any caller-visible value not
encompassed by its  modifies clause and does modify all values listed in its
modifies clause on some possible execution of the function.  Figure 4 shows an
example of modifies checking done by LCLint.
<a name="_Ref344908343"><a name="_Toc349905859">
<h3>
<a name="RTFToC18">
<a name="sec-4.1.1">4.1.1 Special Modifications</A></a></a>
</a></h3>
A few special names are provided for describing function modifications:<p>
<tt>internalState</tt>
<blockquote>
The function modifies some internal state (that is, the value of a static
variable).  Even though a client cannot access the internal state directly, it
is important to know that something may be modified by the function call
both for clear documentation and for checking undefined order of
evaluation (<a href="sec10.html#sec-10.1">Section 10.1</a>) and
side-effect free parameters (Section 8.2.1).<p> 
</blockquote>
<tt>fileSystem</tt>
<blockquote>
The function modifies the file system.  Any modification that may change
the system state is considered a file system modification.  All
functions that modify an object of type pointer to <tt>FILE</tt> also
modify the file system.  In addition, functions that do not modify a
<tt>FILE</tt> pointer but modify some state that is visible outside this
process also modify the file system (e.g., <tt>rename</tt>).  The flag
<a href="appC.html#flag-modfilesys"><tt>mod-file-system</tt></a>
controls reporting of undocumented file system modifications.
</blockquote>

<tt>nothing</tt>
<blockquote>
The function modifies nothing (i.e., it is side-effect free). 
</blockquote>
<p>
The syntactic comment, <tt>/*@*/</tt> in a function declaration or definition (after the
parameter list, before the semi-colon or function body) denotes a function that
modifies nothing and does not use any global variables (see <a href="sec4.html#sec-4.2">Section 4.2</a>).
<a name="_Ref345591515"><a name="_Toc349905860">
<p>
<a href="fig4.html">Figure 4.  Modifies checking.</a>
<p>

<h3>
<a name="RTFToC19">
<a name="sec-4.1.2">4.1.2 Missing Modifies Clauses</A></a></a>
</a></h3>
LCLint is designed so programs with many functions that are declared without
modifies clauses can be checked effectively.  Unless modnomods is in on, no
modification errors are reported checking a function declared with no modifies
clause.  <p>
<p>
A function with no modifies clause is an <i>unconstrained</i> function since
there are no documented constraints on what it may modify.  When an
unconstrained function is called, it is checked differently from a function
declared with a modifies clause.  To prevent spurious errors, no modification
error is reported at the call site unless the moduncon flag is on.  Flags
control whether errors involving unconstrained functions are reported for other
checks that depend on modifications (side-effect free macro parameters
(<a href="sec8.html#sec-8.2.1">Section 8.2.1</a>), undefined evaluation order (<a href="sec10.html#sec-10.1">Section 10.1</a>), and likely infinite loops
(<a href="sec10.html#sec-10.2.1">Section 10.2.1</a>).)
<a name="_Toc349905861">
<h3>
<a name="RTFToC20">
<a name="sec-4.1.3">4.1.3 Limitations</A></a>
</a></h3>
Determining whether a function modifies a particular parameter or global is in
general an undecidable<a href="guide_fn.html#fn9">[9]</a> problem.  To enable useful
checking, certain simplifying assumptions are necessary.  LCLint assumes an
object is modified when it appears on the left hand side of an assignment or it
is passed to a function as a parameter which may be modified by that function
(according to the called function's modifies clause). Hence, LCLint will report
spurious modification errors for assignments that do not change the value
of an object or modifications that are always reversed before a procedure
returns.  The <tt>/*@-mods@*/</tt> and <tt>/*@=mods@*/</tt> control comments can be used around
these modifications to suppress the message. 
<a name="_Toc344355404"><a name="_Ref344893725"><a name="_Ref344908307"><a name="_Ref347171487"><a name="_Ref347475720"><a name="_Ref348845219"><a name="_Toc349905862">
<h2>
<a name="RTFToC21">
<a name="sec-4.2">4.2 Global Variables</A></a></a></a></a></a></a></a>
</a></h2>
Another aspect of a function's interface, is the global variables it uses.  A
globals list in a function declaration lists external variables that may be
used in the function body. LCLint checks that global variables used in a
procedure match those listed in its globals list. A global is used in a
function if it appears in the body directly, or it is in the globals list of a
function called in the body. LCLint reports if a global that is used in a
procedure is not listed in its globals list, and if a listed global is not used
in the function implementation.  <p>

<a href="fig5.html">Figure 5</a> shows an example function definition with a globals list and associated checking done by LCLint.

<h3>
<a name="RTFToC22">
<a name="sec-4.2.1">4.2.1 Controlling Globals Checking</A></a></a></a></a></a></a></a></a></a>
</a></h3>
Whether on not an error is reported for a use of a global variable in a given
function depends on the scope of the variable (file static or external), the
checking annotation used in the variable declaration or the implicit annotation
if no checking annotation is used, whether or not the function is declared with
a globals list, and flag settings. <p>
<p>
A global or file static variable declaration may be preceded by an annotation
to indicate how the variable should be checked.  In order of decreasing checks,
the annotations are:<p>
<tt>/*@checkedstrict@*/</tt>
<blockquote>
Strictest checking.  Undocumented uses and modifications of the variable are
reported in all functions whether or not they have a globals list (unless
<a href="appC.html#flag-checkstrictglobs"><tt>checkstrictglobs</tt></a> is off).
</blockquote>
<tt>/*@checked@*/</tt>
<blockquote>
Undocumented use of the variable is reported in a function with a globals list,
but not in a function declared with no globals (unless <a href="appC.html#flag-globnoglobs"><tt>globnoglobs</tt></a> is on).<p>
</blockquote>
<tt>/*@checkmod@*/</tt>
<blockquote>
Undocumented uses of the variable are not reported, but undocumented
modifications are reported.   (If <a href="appC.html#flag-modglobsnomods"><tt>modglobsnomods</tt></a> is on, errors are reported even
in functions declared with no modifies clause or globals list.)
</blockquote>
<tt>/*@unchecked@*/</tt>
<blockquote>
No messages are reported for undocumented use or modification of this global
variable.  If a variable has none of these annotations, an implicit
annotation is determined by the flag settings.  
</blockquote>
<p>
Different flags control the implicit annotation for variables declared with
global scope and variables declared with file scope (i.e., using the static
storage qualifier). To set the implicit annotation for global variables
declared in <i>context</i> (globs for external variables or statics for file
static variable) to be <i>annotation</i> (<tt>checked</tt>, <tt>checkmod</tt>, <tt>checkedstrict</tt>) use
imp<i>&lt;annotation&gt;&lt;context&gt;</i>.  For example,
<a href="appC.html#flag-impcheckedstrictstatics"><tt>+impcheckedstrictstatics</tt></a> makes the implicit checking on unqualified file static
variables checkedstrict.  (See <a href="appC.html">Apppendix C</a>, page 51, for a complete list of
globals checking flags.)
<a name="_Toc344355406"><a name="_Ref344894947"><a name="_Toc349905864">
<h2>
<a name="RTFToC23">
<a name="sec-4.3">4.3 Declaration Consistency</A></a></a></a>
</a></h2>
LCLint checks that function declarations and definitions are consistent.  The
general rule is that the <i>first</i> declaration of a function imply all later
declarations and definitions.  If a function is declared in a header file, the
first declaration processed is its first declaration (if it is declared in more
than one header file an error is reported if redecl is set).  Otherwise, the
first declaration in the file defining the function is its first declaration.<p>
<p>
Later declarations may not include variables in the globals list that were not
included in the first declaration.  The exception to this is when the first
declaration is in a header file and the later declaration or definition
includes file static variables.  Since these are not visible in the header
file, they can not be included in the header file declaration.  Similarly, the
modifies clause of a later declaration may not include objects that are not
modifiable in the first declaration.  The later declaration may be more
specific.  For example, if the header declaration is:
<pre>
extern void setName (employee e, char *s) /*@modifies e@*/;
</pre>
the later declaration could be,
<pre>
   void setName (employee e, char *) /*@modifies e-&gt;name@*/;
</pre>
If employee is an abstract type, the declaration in the header should not refer
to a particular implementation (i.e., it shouldn't rely on there being a name
field), but the implementation declaration can be more specific.  <p>
<p>
This rule also applies to file static variables.  The header declaration for a
function that modifies a file static variable should use modifies internalState
since file static variables are not visible to clients.  The implementation
declaration should list the actual file static variables that may be modified.


<h1>
<a name="sec-5">
5. Memory Management
</a></h1>
About half the bugs in typical C programs can be attributed to memory
management problems.  Memory management bugs are notoriously difficult to
detect through traditional techniques.  Often, the symptom of the bug is far
removed from its actual source.  Memory management bug often only appear
sporadically and some bugs may only be apparent when compiler optimizations are
turned on or the code is compiled on a different platform.  Run-time tools
offer some help, but are cumbersome to use and limited to detecting errors that
occur when test cases are run.  By detecting these errors statically, we can be
confident that certain types of errors will never occur and provide verified
documentation on the memory management behavior of a program.  <p>
<p>
LCLint can detect many memory management errors at compile time including:<p>
<ul>
<li>	using storage that may have been freed (<a href="sec5.html#sec-5.2">Section 5.2</a>)<p>
<li>	failing to deallocate memory (<a href="sec5.html#sec-5.2">Section 5.2</a>)<p>
<li>	returning a pointer to stack-allocated storage (<a href="sec5.html#sec-5.2.6">Section 5.2.6</a>)<p>
<li>	undocumented or dangerous aliasing or storage sharing (<a href="sec6.html">Section 6</a>)<p>
<li>	passing or returning storage that is not completely defined (<a
href="sec7.html#sec-7.1">Section 7.1</a>)<p>
<li>	dereferencing a null pointers (<a href="sec7.html#sec-7.2">Section 7.2</a>)<p>
</ul>

Most of these checks rely heavily on annotations added to programs to document
assumptions related to memory management and pointer values.  By documenting
these assumptions for function interfaces, variables, type definitions and
structure fields, memory management bugs can be detected at their source --
where an assumption is violated.  In addition, precise documentation about
memory management decisions makes its easier to change code.
<a name="_Toc344355408"><a name="_Toc349905866">
<h2>
<a name="RTFToC25">
<a name="sec-5.1">5.1 Storage Model</A></a><a href="guide_fn.html#fn10">[10]</a></a>
</a></h2>
<blockquote>
<em> Yea, from the table of my memory I'll wipe away all trivial fond records, all
saws of books, all forms, all pressures past, that youth and observation copied
there.</em><br>
- Hamlet prefers garbage collection (Shakespeare, Hamlet. Act I, Scene
v)
</blockquote>

This section describes execution-time concepts for describing the state of
storage more precisely than can be done using standard C terminology.  Certain
uses of storage are likely to indicate program bugs, and are reported as
anomalies.<p>
<p>
LCL assumes a CLU-like object storage model.<a
href="guide_fn.html#fn11">[11]</a>  An <i>object</i> is a typed region
of storage.  Some objects use a fixed amount of storage that is allocated and deallocated automatically by the
compiler.<p>
Other objects use dynamic storage that must be managed by the program.<p>
<p>
Storage is <i>undefined</i> if it has not been assigned a value, and
<i>defined</i> after it has been assigned a value.  An object is <i>completely
defined</i> if all storage that may be reached from it is defined.  What
storage is reachable from an object depends on the type and value of the
object.  For example, if p is a pointer to a structure, p is completely defined
if the value of p is NULL, or if every field of the structure p points to is
completely defined.<p>
<p>
When an expression is used as the left side of an assignment expression we say
it is <i>used as an lvalue</i>.  Its location in memory is used, but not its
value.  Undefined storage may be used as an lvalue since only its location is
needed.  When storage is used in any other way, such as on the right side of an
assignment, as an operand to a primitive operator (including the indirection
operator, *),<a href="guide_fn.html#fn12">[12]</a> or as a<p>
function parameter, we say it is <i>used as an rvalue</i>.  It is an
anomaly to use undefined storage as an rvalue.<p>
<p>
A <i>pointer</i> is a typed memory address.  A pointer is either <i>live</i> or
<i>dead</i>.  A live pointer is either NULL or an address within allocated
storage.  A pointer that points to an object is an <i>object</i> pointer.  A
pointer that points inside an object (e.g., to the third element of an
allocated block) is an <i>offset</i> pointer.  A pointer that points to
allocated storage that is not defined is an <i>allocated</i> pointer.  The
result of dereferencing an allocated pointer is undefined storage.  Hence, it
is an anomaly to use it as an rvalue.  A dead (or "dangling") pointer does not
point to allocated storage.  A pointer becomes dead if the storage it points to
is deallocated (e.g., the pointer is passed to the free library function.)  It
is an anomaly to use a dead pointer as an rvalue.<p>
<p>
There is a special object <i>null</i> corresponding to the NULL pointer in a C
program.  A pointer that may have the value NULL is a <i>possibly-null</i>
pointer.  It is an anomaly to use a possibly-null pointer where a non-null
pointer is expected (e.g., certain function arguments or the indirection
operator).
<a name="_Toc344355409"><a name="_Ref344893840"><a name="_Ref347465595"><a name="_Ref347469133"><a name="_Ref347476065"><a name="_Toc349905867">
<h2>
<a name="RTFToC26">
<a name="sec-5.2">5.2 Deallocation Errors</A></a></a></a></a></a></a>
</a></h2>
There are two kinds of deallocation errors with which we are concerned:
deallocating storage when there are other live references to the same storage,
or failing to deallocate storage before the last  reference to it is lost.  To
handle these deallocation errors, we introduce a concept of an obligation to
release storage.  Every time storage is allocated, it creates an obligation to
release the storage.  This obligation is attached to the reference to which the
storage is assigned.<a href="guide_fn.html#fn13">[13]</a>  Before the scope of the
reference is exited or it is assigned to a new value, the storage to which it
points must be released.  Annotations can be used to indicate that this
obligation is transferred through a return value, function parameter or
assignment to an external reference.
<a name="_Toc349905868">
<h3>
<a name="RTFToC27">
<a name="sec-5.2.1">5.2.1 Unshared References</A></a>
</a></h3>

<blockquote>
<em>`Tis in my memory lock'd, and you yourself shall keep the key of it.</em><br>
- Ophelia prefers explicit deallocation (Hamlet.  Act I, Scene iii)
</blockquote>

The only annotation is used to indicate a reference is the only pointer to the
object it points to.  We can view the reference as having an obligation to
release this storage.  This obligation is satisfied by transferring it to some other reference in one of three ways:<p>
<ul>
<li>	pass it as an actual parameter corresponding to a formal parameter
declared with an only annotation               
<li>	assign it to an external reference declared with an only annotation
<li>	return it as a result declared with an only annotation
</ul>

After the release obligation is transferred, the original reference is a dead
pointer and the storage it points to may not be used. <p>

<p>
All obligations to release storage stem from primitive allocation routines
(e.g., malloc), and are ultimately satisfied by calls to free.  The standard
library declared the primitive allocation and deallocation routines.
<p>
The basic memory allocator, malloc, is declared:<a
href="guide_fn.html#fn14">[14]</a>
</a><p><pre>
/*@only@*/ void *malloc (size_t size);
</pre>
It returns an object that is referenced only by the function return value.  <p>
<p>
The deallocator, free, is declared:<a href="guide_fn.html#fn15">[15]</a><p>
<pre>
void free (/*@only@*/ void *ptr);
</pre>
<a name="_Ref344990094"><p>
The parameter to free must reference an unshared object.  Since the parameter
is declared using only, the caller may not use the referenced object after the
call, and may not pass in a reference to a shared object.  There is nothing
special about malloc and free -- their behavior can be described entirely in
terms of the provided annotations</a>.
<a name="_Ref347468963"><a name="_Ref347469360"><a name="_Toc349905869">
<p>
<a href="fig6.html">Figure 6.  Deallocation errors.</a>
<p>
<h3>
<a name="RTFToC28">
<a name="sec-5.2.2">5.2.2 Temporary Parameters</A></a></a>
</a></h3>
The temp annotation is used to declare a function parameter that is used
temporarily by the function.  An error is reported if the function releases the
storage associated with a temp formal parameter or creates new aliases it that
are visible after the function returns.  Any storage may be passed as a temp
parameter, and it satisfies its original memory constraints after the function
returns.
<a name="_Toc349905870">
<h3>
<a name="RTFToC29">
<a name="sec-5.2.3">5.2.3 Owned and Dependent References</a></a></a>
</a></h3>
In real programs it is sometimes necessary to have storage that is shared
between several possibly references.  The owned and dependent annotations
provide a more flexible way of managing storage, at the cost of less checking.
The owned annotation denotes a reference with an obligation to release storage.
Unlike only, however, other external references marked with dependent
annotations may share this object.  It is up to the programmer to ensure that
the lifetime of a dependent reference is contained within the lifetime of the
corresponding owned reference.
<a name="_Ref347805800"><a name="_Toc349905871">
<h3>
<a name="RTFToC30">
<a name="sec-5.2.4">5.2.4 Kept Parameters</A></a></a>
</a></h3>
The keep annotation is similar to only, except the caller may use the reference
after the call.  The called function must assign the keep parameter to an only
reference, or pass it as a keep parameter to another function.  It is up to the
programmer to make sure that the calling function does not use this reference
after it is released.  The keep annotation is useful for adding an object to a
collection (e.g., a symbol table), where it is known that it will not be
deallocated until the collection is. 
<a name="_Ref347469304"><a name="_Toc349905872">
<h3>
<a name="RTFToC31">
<a name="sec-5.2.5">5.2.5 Shared References</A></a></a>
</a></h3>
If LCLint is used to check a program designed to be used in a garbage-collected
environment, there may be storage that is shared by one or more references and
never explicitly released.  The shared annotation declares storage that may be
shared arbitrarily, but never released.
<a name="_Ref348341639"><a name="_Toc349905873">
<h3>
<a name="RTFToC32">
<a name="sec-5.2.6">5.2.6 Stack References</A></a></a>
</a></h3>
Local variables that are not allocated dynamically are store on a call stack.
When a function returns, its stack frame is deallocated, destroying the storage
associated with the function's local variables.  A memory error occurs if a
pointer into this storage is live after the function returns.  LCLint detects
errors involving stack references exported from a function through return
values or assignments to references reachable from global variables or actual
parameters.  No annotations are needed to detect stack reference errors, since
it is clear from a declaration if storage is allocated on the function stack.
<p>
<a href="fig7.html">Figure 7.  Stack references.</a>
<p>
<a name="_Toc349905874"></b>
<h3>
<a name="RTFToC33">
<a name="sec-5.2.7">5.2.7 Inner Storage</A></a>
</a></h3>
An annotation always applies to the outermost level of storage.  For example,
<pre>
/*@only@*/ int **x;
</pre>
declares x as an unshared pointer to a pointer to an int.  The only annotation
applies to x, but not to *x.  To apply annotations to inner storage a type
definition may be used:
<pre>
  typedef /*@only@*/ int *oip;
  /*@only@*/ oip *x;
</pre>
Now, x is an only pointer to an oip, which is an only pointer to an int.<p>
<p>
When annotations are use in type definitions, they may be overridden in
instance declarations.  For example,
<pre>
/*@dependent@*/ oip x;
</pre>
makes x a dependent pointer to an int.
<a name="_Toc344355410"><a name="_Ref344893978"><a name="_Ref347812243"><a name="_Toc349905875">
<h2>
<a name="RTFToC34">
<a name="sec-5.3">5.3 Implicit Memory Annotations</A></a></a></a></a>
</a></h2>
Since it is important that LCLint can check unannotated programs effectively,
the meaning of declarations with no memory annotations is chosen to minimize
the number of annotations needed to get useful checking on an unannotated
program. <p>
<p>
An implicit memory management annotation may be assumed for declarations with
no explicit memory management annotation.  Implicit annotations are checked
identically to the corresponding explicit annotation, except error messages
indicate that they result from an implicit annotation.<p>
<p>
Unannotated function parameters are assumed to be temp.  This means if memory
checking is turned on for an unannotated program, all functions that release
storage referenced by a parameter or assign a global variable to alias the
storage will produce error messages.  (Controlled by paramimptemp.)<p>
<p>
Unannotated return values, structure fields and global variables are assumed to
be only.  With implicit annotations (on by default), turning on memory checking
for an unannotated program will produce errors for any function that does not
return unshared storage or assignment of shared storage to a global variable or
structure field.<a href="guide_fn.html#fn16">[16]</a>  (Controlled by
<a href="appC.html#flag-retimponly"><tt>retimponly</tt></a>, <a
href="appC.html#flag-structimponly"><tt>structimponly</tt></a> and <a
href="appC.html#flag-globimponly"><tt>globimponly</tt></a>.  The <a
href="appC.html#flag-codeimponly"><tt>codeimponly</tt></a> flag sets all of the implicit only flags.)   
</a><p>
<a href="fig8.html">Figure 8.  Implicit annotations</a>
<p>
<h2>
<a name="RTFToC35">
<a name="sec-5.4">5.4 Reference Counting</A></a></a></a></a>
</a></h2>
Another approach to memory management is to add a field to a type to explicitly
keep track of the number of references to that storage.  Every time a reference
is added or lost the reference count is adjusted accordingly;  if it would
become zero, the storage is released.  Reference counting it difficult to do
without automatic checking since it is easy to forget to increment or decrement
the reference count, and exceedingly difficult to track down these errors.<p>
<p>
LCLint supports reference counting by using annotations to constrain the use of
reference counted storage in a manner similar to other memory management
annotations.<p>
<p>
A reference counted type is declared using the refcounted annotation.  Only
pointer to struct types may be declared as reference counted, since reference
counted storage must have a field to count the references.  One field in the
structure (or integral type) is preceded by the refs annotation to indicate
that the value of this field is the number of live references to the structure.
<p>
 <p>
For example (in <tt>rstring.h</tt>),
<pre>
     typedef /*@abstract@*/ /*@refcounted@*/ struct {
	  /*@refs@*/ int refs;
        char *contents;
      } *rstring;
</pre>
declares rstring as an abstract, reference-counted type.  The refs field counts
the number of references and the contents field holds the contents of a
string.<p>
<p>
All functions that return refcounted storage must increase the reference count
before returning.  LCLint cannot determine if the reference count was
increased, so any function that directly returns a reference to refcounted
storage will produce an error.  This is avoided, by using a function to return
a new reference (e.g., rstring_ref in Figure 9).<p>
<p>
A reference counted type may be passed as a temp or dependent parameter.  It
may not be passed as an only parameter.  Instead, the killref annotation is
used to denote a parameter whose reference is eliminated by the function call.
Like only parameters, an actual parameter corresponding to a killref formal
parameter may not be used in the calling function after the call.  LCLint
checks that the implementation of a function releases all killref parameters,
either by passing them as killref parameters, or assigning or returning them
without increasing the reference count.<p>
<a name="_Ref343064185"><a name="_Ref343095163"><a name="_Toc344355412">
<p>
<a href="fig9.html">Figure 9.  Reference counting.</a>
</p>
<a name="_Ref345591777"></a></a><a name="_Ref343064188"><a name="_Ref343064238"><a name="_Ref344355210"><a name="_Toc344355413"><a name="_Toc349905878"><a name="_Ref348796245"><a name="_Ref348845247"><a name="_Toc349905877"></a></a></a></a></b>


<h1>
<a name="sec-6">
6. Sharing</a></a>
</a></h1>

Errors involving unexpected sharing of storage can cause serious problems.
Undocumented sharing may lead to unpredictable modifications, and some library
calls (e.g., strcpy) have undefined behavior if parameters share storage.
Another class of sharing errors occurs when clients of an abstract type may
obtain a reference to mutable storage that is part of the abstract
representation.  This exposes the representation of the abstract type, since
clients may modify an instance of the abstract type indirectly through this
shared storage.<p>

<h2>
<a name="RTFToC37">
<a name="sec-6.1">6.1 Aliasin</A></a></a></a></a></a>g
</a></h2>
LCLint detects errors involving dangerous aliasing of parameters.  Some of
these errors are already detected through the standard memory annotations
(e.g., only parameters may not be aliases.)   Two additional annotations are
provided for constraining aliasing of parameters and return values.
<a name="_Ref347469444"><a name="_Toc349905879">
<h3>
<a name="RTFToC38">
<a name="sec-6.1.1">6.1.1 Unique Parameters</A></a></a>
</a></h3>
The unique annotation denotes a parameter that may not be aliased by any other
storage reachable from the function implementation -- that is, any storage
reachable through the other parameters or global variables used by the
function.  The unique annotation places similar constraints on function
parameters as the only annotation, but it does not transfer the obligation to
release storage.<p>
LCLint will report an error if a unique parameter may be aliased by another
parameter or global variable.<p>

<a href="fig10.html">Figure 10.  Unique parameters.</a>
<a name="_Ref347469448"><a name="_Toc349905880"></b>
<h3>
<a name="RTFToC39">
<a name="sec-6.1.2">6.1.2 Returned Parameters</A></a></a>
</a></h3>
LCLint reports an error if a function returns a reference to storage reachable
from one of its parameters (if retalias is on) since this may introduce
unexpected aliases in the body of the calling function when the result is
assigned.<p>
<p>
The returned annotation denotes a parameter that may be aliased by the return
value.  LCLint checks the call assuming the result may be an alias to the
returned parameter. <a href="fig11.html">Figure 11</a> shows an example use of a returned annotation.
<a name="_Toc344355414"><a name="_Ref344809320"><a name="_Ref344894258"><a name="_Ref344907981"><a name="_Ref345591053"><a name="_Ref345591408"><a name="_Toc349905881">
<h2>
<a name="RTFToC40">
<a name="sec-6.2">6.2 Exposure</A></a></a></a>
</a></h2>
LCLint detects places where the representation of an abstract type is exposed.
This occurs if a client has a pointer to storage that is part of the
representation of an instance of the abstract type.  The client can then modify
or examine the storage this points to, and manipulate the value of the abstract
type instance without using its operations.
<p>
<b></b>There are three ways a representation may be exposed:
<ol>
<li>Returning (or assigning to a global variable) an object that includes a
pointer to a mutable component of an abstract type representation.  (Controlled
by <a href="appC.html#flag-retexpose"><tt>retexpose</tt></a>).
<li>Assigning a mutable component of an abstract object to storage reachable
from an actual parameter or a global variable that may be used after the call.
This means the client may manipulate the abstract object using the actual
parameter after the call.  Note that if the corresponding formal parameter is
declared only, the caller may not use the actual parameter after the call so
the representation is not exposed.  (Controlled by <a href="appC.html#flag-assignexpose"><tt>assignexpose</tt></a>).
<li> Casting mutable storage to or from an abstract type.  (Controlled by
<a href="appC.html#flag-castexpose"><tt>castexpose</tt></a>).
</ol>

Annotations may be used to allow exposed storage to be returned safely by
restricting how the caller may use the returned storage.
<a name="_Ref347469553"><a name="_Toc349905882">
<h3>
<a name="RTFToC41">
<a name="sec-6.2.1">6.2.1 Read-Only Storage</A></a></a>
</a></h3>
It is often useful for a function to return a pointer to internal storage (or a
instance of a mutable abstract type) that is intended only as an
<i>observer</i>.  The caller may use the result, but should not modify the
storage it points to.  For example, consider an na&iuml;ve implementation of
the employee_getName operation for the abstract employee type:
<pre>
   typedef /*@abstract@*/ struct {
      char *name;
      int id;
   } *employee;
   ...
   char *employee_getName (employee e) { return e-&gt;name; }
</pre>
LCLint produces a message to indicate that the return value exposes the
representation.  One solution would be to return a fresh copy of e-&gt;name.
This is expensive, though, especially if we expect employee_getName is used
mainly just to get a string for searching or printing.  Instead, we could
change the declaration of employee_getName to:
<pre>
extern /*@observer@*/ char *employee_getName (employee e);
</pre>
Now, the original implementation is correct.  The declaration indicates that
the result may not be modified by the caller, so it is acceptable to return
shared storage.<a href="guide_fn.html#fn17">[17]</a>  LCLint checks that the
return value is not modified by the caller.  An error is reported if observer
storage is modified directly, passed as a function parameter that may be
modified, assigned to a global variable or reference derivable from a global
variable that is not declared with an observer annotation, or returned as a
function result or a reference derivable from the function result that is not
annotation with an observer annotation.
<a name="_Ref347469563"><a name="_Ref348017065">
<h4>
<a name="RTFToC42">String
Literals</a>
</a></h4>
A program that attempts to modify a string literal has undefined behavior
[<a
href="guide.html#ref-ANSI">ANSI</a>, Section 3.1.4]. This is not enforced by most C compilers, and can lead
to particularly pernicious bugs that only appear when optimizations are turned
on and the compiler attempts to minimize storage for string literals.  LCLint
can be used to check that string literals are not modified, by treating them as
observer storage.  If readonlystrings is on (default in standard mode), LCLint
will report an error if a string literal is modified. 
<a name="_Toc349905883">
<h3>
<a name="RTFToC43">
<a name="sec-6.2.2">6.2.2 Exposed Storage</A></a></a>
</a></h3>
Sometimes it is necessary to expose the representation of an abstract type.
This may be evidence of a design flaw, but in some cases is justified for
efficiency reasons.  The exposed annotation denotes storage that is exposed.
It may be used on a return value for results that reference storage internal to
an abstract representation, on a parameter value to indicate a parameter that
may be assigned directly to part of an abstract representation,<a
href="guide_fn.html#fn18">[18]</a> or on a field of an abstract representation
to indicate that external references to the storage may exist.  
<a name="_Ref347169365"><a name="_Ref347254440"><a name="_Ref343064165"><a name="_Toc344355415">An
error is reported if exposed storage is released, but unlike an observer, no
error is reported if it is modified.<p>
<p>
<a href="fig12.html">Figure 12</a> shows examples of exposure problems detected by LCLint.
<a name="_Ref348093458"><a name="_Ref347853031"><a name="_Toc349905884">

</head>
<body bgcolor="#FFFFFF" link="#CC0000" alink="#FF3300" vlink="#000088">

<h1>
<a name="sec-7">
7. Value Constraints
</a></h1>
LCLint can be used to constrain values of parameters, function results, global
variables, and derived storage such as structure fields.  These constraints are
checked at <i>interface points</i> -- where a function is called or returns.
<a href="sec7.html#sec-7.1">Section 7.1</a> describes how to constrain parameters, return values and structures
to detect use before definition errors.  A similar approach is used for
restricting the use of possibly null pointers in <a
href="sec7.html#sec-7.2">Section 7.2.</a>  To do both well, and avoid spurious errors, information about when and if a function returns if
useful.  Annotations for documenting execution control are described in
<a href="sec7.html#sec-7.3">Section 7.3</a>.<p>
<p>

<h2>
<a name="RTFToC45">
<a name="sec-7.1">7.1 Use Before Definition</A></a></a>
</a></h2>
Like many static checkers, LCLint detects instances where the value of a
location is used before it is defined.  This analysis is done at the procedural
level.  If there is a path through the procedure that  <p>
uses a local variable before it is defined, a use before definition error is
reported.  Use before definition checking is controlled by the <a href="appC.html#flag-usedef"><tt>usedef</tt></a> flag.<p>
<p>
LCLint can do more checking than standard checkers though, because the
annotations can be used to describe what storage must be defined and what
storage may be undefined at interface points. Unannotated references are
expected to be completely defined at interface points.  This means all storage
reachable from a global variable, parameter to a function, or function return
value is defined before and after a function call.
<a name="_Ref347204458"><a name="_Ref347811030"><a name="_Toc349905886">
<h3>
<a name="RTFToC46">
<a name="sec-7.1.1">7.1.1 Undefined Parameters</A></a></a></a>
</a></h3>
Sometimes, function parameters or return values are expected to reference
undefined or partially defined storage.  For example, a pointer parameter may
be intended only as an address to store a result, or a memory allocator may
return allocated but undefined storage.  The <tt>out</tt> annotation denotes a pointer
to storage that may be undefined.<p>
<p>
LCLint does not report an error when a pointer to allocated but undefined
storage is passed as an <tt>out</tt> parameter.  Within the body of a function, LCLint
will assume an <tt>out</tt> parameter is allocated but not necessarily bound to a value,
so an error is reported if its value is used before it is defined.  <p>
<p>
LCLint reports an error if storage reachable by the caller after the call is
not defined when the function returns.  This can be suppressed by <a href="appC.html#flag-mustdefine"><tt>-mustdefine</tt></a>.
When checking a call, an actual parameter corresponding to an <tt>out</tt> parameter is
assumed to be completely defined after the call returns.<p>
<p>
When checking unannotated programs, many spurious use before definition errors
may be reported   If <a href="appC.html#flag-impouts"><tt>impouts</tt></a> is on, no error is reported when an
incompletely-defined parameter is passed to a formal parameter with no
definition annotation, and the actual parameter is assumed to be defined after
the call.  The <tt>/*@in@*/</tt> annotation can be used to denote a parameter that must
be completely defined, even if impouts is on.  If impouts is off, there is an
implicit in annotation on every parameter with no definition annotation.
<a name="_Ref347853047"><a name="_Toc349905887">

<p>
<a href="fig13.html">Figure 13.  Use before definition.</a>
</p>

<h3>
<a name="RTFToC47">
<a name="sec-7.1.2">7.1.2 Relaxing Checking</A></a></a>
</a></h3>
The reldef annotation relaxes definition checking for a particular declaration.
Storage declared with a reldef annotation is assumed to be defined when it is
used, but no error is reported if it is not defined before it is returned or
passed as a parameter.<p>
<p>
It is up to the programmer to check reldef fields are used correctly.   They
should be avoided in most cases, but may be useful for fields of structures
that may or may not be defined depending on other constraints.  
<a name="_Ref347853043"><a name="_Toc349905888">
<h3>
<a name="RTFToC48">
<a name="sec-7.1.3">7.1.3 Partially Defined Structures</A></a></a>
</a></h3>
The partial annotated can be used to relax checking of structure fields.  A
structure with undefined fields may be passed as a partial parameter or
returned as a partial result.  Inside a function body, no error is reported
when the field of a partial structure is used.  After a call, all fields of a
structure that is passed as a partial parameter are assumed to be completely
defined.<p>


<a name="_Ref347764461"><a name="_Toc349905889"></b>
<h3>
<a name="RTFToC49">
<a name="sec-7.1.4">7.1.4 Global Variables</A></a></a>
</a></h3>
Special annotations can be used in the globals list of a function declaration
(<a href="sec4.html#sec-4.2">Section 4.2</a>) to describe the states of global variables before and after the
call.<p>
<p>
If a global is preceded by undef, it is assumed to be undefined before the
call. Thus, no error is reported if the global is not defined when the function
is called, but an error is reported if the global is used in the function body
before it is defined.<p>
<p>
The killed annotation denotes a global variable that may be undefined when the
call returns.  For globals that contain dynamically allocated storage, a killed
global variable is similar to an only parameter (<a href="sec5.html#sec-5.2">Section 5.2</a>).  An error is
reported if it contains the only reference to storage that is not released
before the call returns.<p>
<p>
<a href="fig14.html">Figure 14.  Annotated globals lists.</a>
<p>
<a name="_Ref343064114"><a name="_Toc344355416"><a name="_Toc349905890"></b>
<h2>
<a name="RTFToC50">
<a name="sec-7.2">7.2 Null Pointers</A></a></a></a>
</a></h2>
A common cause of program failures is when a null pointer is dereferenced.
LCLint detects these errors by distinguishing possibly NULL pointers at
interface boundaries.<p>
<p>
The null annotation is used to indicate that a pointer value may be NULL.  A
pointer declared with no null annotation, may not be NULL.  If null checking is
turned on (controlled by null), LCLint will report an error when a possibly
null pointer is passed as a parameter, returned as a result, or assigned to an
external reference with no null qualifier.<p>
<p>
If a pointer is declared with the null annotation, the code must check that it
is not NULL on all paths leading to the a dereference of the pointer (or the
pointer being returned or passed as a value with no null annotation).
Dereferences of possibly null pointers may be protected by conditional
statements or assertions (to see how assert is declared see <a href="sec7.html#sec-7.3">Section 7.3</a>) that
check the pointer is not NULL.<p>
<p>
Consider two implementations of firstChar in <a href="fig15.html">Figure 15</a>. For firstChar1, LCLint
reports an error since the pointer that is dereferenced is declared with a null
annotation.  For firstChar2, no error is reported since the true branch of the
s == NULL if statement returns, so the dereference of s is only reached if s is
not NULL.<p>
<h3>
<a name="RTFToC51">
<a name="sec-7.2.1">7.2.1 Predicate Functions</A></a></a>
</a></h3>
Another way to protect null dereference, is to declare a function using
falsenull or truenull and call the function in a conditional statement before
the null-annotated pointer is dereferenced.  The falsenull and truenull
annotations may only be used on return values for functions that return a
boolean<a href="guide_fn.html#fn19">[19]</a> result and whose first argument is
a possibly null pointer.<p>
<p>
A function is annotated with <tt>truenull</tt> is assumed to return TRUE if its first
parameter is NULL and FALSE otherwise. For example, if isNull is declared as,
<pre>
   /*@truenull@*/ bool isNull (/*@null@*/ char *x);
</pre>
we could write firstChar2:
<pre>
   char firstChar2 (/*@null@*/ char *s)
   {
      if (isNull (s)) return '\0';
      return *s;
   }
</pre>
No error is reported since the dereference of s is only reached if isNull(s) is
false, and since isNull is declared with the truenull annotation this means s
must not be null.<p>
<p>
The <tt>falsenull</tt> annotation is not quite the opposite of truenull.  If a function
declared with falsenull returns TRUE, it means its parameter is not NULL.  If
it returns FALSE, the parameter may or may not be NULL.<p>
<p>
For example, we could define isNonEmpty to return TRUE if its parameter is not
NULL and has least one character before the NUL terminator:
<pre>
   /*@falsenull@*/ bool isNonEmpty (/*@null@*/ char *x)
   {
     return (x != NULL &amp;&amp; *x != `\0');
   }
</pre>
LCLint does not check that the implementation of a function declared with
falsenull or truenull is consistent with its annotation, but assumes the
annotation is correct when code that calls the function is checked.
<a name="_Toc349905892">
<h3>
<a name="RTFToC52">
<a name="sec-7.2.2">7.2.2 Overriding Null Types</A></a>
</a></h3>
The null annotation may be used in a type definition to indicate that all
instances of the type may be NULL.  For declarations of a type declared using
null, the null annotation in the type definition may be overridden with
notnull. This is particularly useful for parameters to hidden static operations
of abstract types where the null test has already been done before the function
is called, or function results of the type which are never NULL.  For an
abstract type, notnull may not be used for parameters to external functions,
since clients should not be aware of when the concrete representation may by
NULL.  Parameters to static functions in the implementation module, however,
may be declared using notnull, since they may only be called from places where
the representation is accessible.  Return values for static or external
functions may be declared using notnull. <p>
<p>
<a href="fig16.html">Figure 16.  Using notnull.</a>
<p>
<a name="_Ref347853058"><a name="_Toc349905893"></b>
<h3>
<a name="RTFToC53">
<a name="sec-7.2.3">7.2.3 Relaxing Null Checking</A></a></a>
</a></h3>
An additional annotation, relnull may be used to relax null checking (relnull
is analogous to reldef for definition checking).  No error is reported when a
relnull value is dereferenced, or when a possibly null value is assigned to an
identifier declared using relnull. <p>
<p>
This is generally used for structure fields that may or may not be null
depending on some other constraint.  LCLint does not report and error when NULL
is assigned to a relnull reference, or when a relnull reference is
dereferenced.  It is up to the programmer to ensure that this constraint is
satisfied before the pointer is dereferenced.
<a name="_Toc344355417"><a name="_Ref344873752"><a name="_Ref344894343"><a name="_Ref344907653"><a name="_Ref345859337"><a name="_Toc349905894">
<h2>
<a name="RTFToC54">
<a name="sec-7.3">7.3 Execution</A></a></a></a></a></a></a>
</a></h2>
To detect certain errors and avoid spurious errors, it is important to know
something about the control flow behavior of called functions. Without
additional information, LCLint assumes that all functions eventually return and
execution continues normally at the call site.  <p>
<p>
The exits annotation is used to denote a function that never returns.  For
example,
<pre>
extern /*@exits@*/ void fatalerror (/*@observer@*/ char *s);
</pre>
declares fatalerror to never return.  This allows LCLint to correctly analyze
code like,
<pre>
   if (x == NULL) fatalerror ("Yikes!");
   *x = 3;
</pre>
Other functions may exit, but sometimes (or usually) return normally.  The
mayexit annotation denotes a function that may or may not return.  This doesn't
help checking much, since LCLint must assume that a function declared with
mayexit returns normally when checking the code.<p>
<p>
To be more precise, the trueexit and falseexit annotations may be used
Similar to truenull and falsenull (see <a href="sec7.html#sec-7.2.1">Section 7.2.1</a>), trueexit and falseexit
mean that a function always exits if the value of its first argument is TRUE or
FALSE respectively.  They may be used only on functions whose first argument
has a boolean type.  <p>
<p>
A function declared with trueexit must exit if the value of its argument is
TRUE, and a function declared with falseexit must exit if the value of its
argument is FALSE.  For example, the standard library declares assert as<a
href="guide_fn.html#fn20">[20]</a>:</a><p><pre>
/*@falseexit@*/ void assert (/*@sef@*/ bool /*@alt int@*/ pred);
</pre>
This way, code like,
<pre>
   assert (x != NULL);<p>
   *x = 3;
</pre>
is checked correctly, since the falseexit annotation on assert means the
deference of x is not reached is x != NULL is false.

<h2>
<a name="sec-7.4">7.4 Special Clauses
</a></h2>

Sometimes it is necessary to specify function interfaces at a lower
level than is possible with the standard annotations.  For example, if a
function defines some fields of a returned structure but does not define
all the fields.  The <tt>/*@special@*/</tt> annotation is used to mark a
parameter, global variable, or return value that is described using
special clauses.  The usual implicit definition rules do not apply to a
special declaration.
<p>
Special clauses may be used to constrain the state of a parameter or
return value before or after a call.  One or more special clauses may
appear in a function declaration, before the modifies or globals
clauses.  Special clauses may be listed in any order, but the same
special clause should not be used more than once.  Parameters used in
special clauses must be annotated with <tt>/*@special@*/</tt> in the function
header.  In a special clause list, result is used to refer to the return
value of the function.  If result appears in a special clause, the
function return value must be annotated with <tt>/*@special@*/</tt>.
<p>
The following special clauses are used to describe the definition state
or parameters before and after the function is called and the return
value after the function returns:
<p>

<tt>/*@uses </tt><em>references</em><tt>@*/</tt> 
<blockquote>
References in the uses clause must be completely defined before the
function is called.  They are assumed to be defined at function entrance
when the function is checked.
</blockquote>

<tt>/*@sets </tt><em>references</em><tt>@*/</tt>
<blockquote>
References in the sets clause must be allocated before the function is
called.  They are completely defined after the function returns. When
the function is checked, they are assumed to be allocated at function
entrance and an error is reported if there is a path on which they are
not defined before the function returns.
</blockquote>

<tt>/*@defines </tt><em>references</em><tt>@*/</tt>
<blockquote>
References in the defines clause must not refer to unshared, allocated
storage before the function is called.  They are completely defined
after the function returns. When the function is checked, they are
assumed to be undefined at function entrance and an error is reported if
there is a path on which they are not defined before the function
returns.
</blockquote>

<tt>/*@allocates </tt><em>references</em><tt>@*/</tt>
<blockquote>
References in the allocates clause must not refer to unshared, allocated
storage before the function is called.  They are allocated but not
necessarily defined after the function returns. When the function is
checked, they are assumed to be undefined at function entrance and an
error is reported if there is a path on which they are not allocated
before the function returns.
</blockquote>

<tt>/*@releases </tt><em>references</em><tt>@*/</tt>
<blockquote>
References in the releases clause are deallocated by the function.  They
must correspond to storage which could be passed as an only parameter
before the function is called, and are dead pointers after the function
returns.  When the function is checked, they are assumed to be allocated
at function entrance and an error is reported if they refer to live,
allocated storage at any return point.
</blockquote>
<p>

Additional generic special clauses can be used to describe other aspects
of the state of inner storage before or after a call.  Generic special
clauses have the form <em>state</em><tt>:</tt><em>constraint</em>.  The
state is either <tt>pre</tt> (before the function is called), or
<tt>post</tt> (after the function is called).  The constraint is similar
to an annotation.  The following constraints are supported:

<blockquote>
<h4>Aliasing Annotations</h4>

<tt>pre:only</tt>, <tt>post:only</tt><br>
<tt>pre:shared</tt>, <tt>post:shared</tt><br>
<tt>pre:owned</tt>, <tt>post:owned</tt><br>
<tt>pre:dependent</tt>, <tt>post:dependent</tt><br>
<blockquote>
References refer to <tt>only</tt>, <tt>shared</tt>, <tt>owned</tt> or
<tt>dependent</tt> storage before (<tt>pre</tt>) or after
(<tt>post</tt>) the call.
</blockquote>

<h4>Exposure Annotations</h4>

<tt>pre:observer</tt>, <tt>post:observer</tt><br>
<tt>pre:exposed</tt>, <tt>post:exposed</tt><br>
<blockquote>

References refer to <tt>observer</tt> or <tt>exposed</tt> storage before
(<tt>pre</tt>) or after (<tt>post</tt>) the call.

</blockquote>

<h4>Null State Annotations</h4>

<tt>pre:isnull</tt>, <tt>post:isnull</tt>
<blockquote>
References have the value <tt>NULL</tt> before (<tt>pre</tt>) or after
(<tt>post</tt>) the call. Note, this is not the same name or meaning as
the null annotation (which means the value may be <tt>NULL</tt>.)  
</blockquote>
<tt>pre:notnull</tt>, <tt>post:notnull</tt>
<blockquote>
References do not have the value <tt>NULL</tt> before (<tt>pre</tt>) or
after (<tt>post</tt>) the call. 
</blockquote>
</blockquote>

Some examples of special clauses are shown in <a
href="fig17.html">Figure 17</a>. The defines clause for
<tt>record_new</tt> indicates that the <tt>id</tt> field of the
structure pointed to by the result is defined, but the <tt>name</tt>
field is not.  So, <tt>record_create</tt> needs to call
<tt>record_setName</tt> to define the <tt>name</tt> field.  Similarly,
the releases clause for <tt>record_clearName</tt> indicates that no
storage is associated with the <tt>name</tt> field of its parameter
after the return, so no failure to deallocate storage message is
produced for the call to <tt>free</tt> in <tt>record_free</tt>.


<h1>
<a name="sec-8">
8. Macros
</a></h1>
Macros are commonly used in C programs to implement constants or to mimic
functions without the overhead of a function call.  Macros that are used to
implement functions are a persistent source of bugs in C programs, since they
may not behave like the intended function when they are invoked with certain
parameters or used in certain syntactic contexts.  <p>
<p>
LCLint eliminates most of the potential problems by detecting macros with
dangerous implementations and dangerous macro invocations.  Whether or not a
macro definition is checked or expanded normally depends on flag settings and
control comments (see <a href="sec8.html#sec-8.3">Section 8.3</a>).  Stylized macros can also be used to define
control structures for iterating through many values (see <a href="sec8.html#sec-8.4">Section 8.4</a>).
<a name="_Toc344355419"><a name="_Ref344908437"><a name="_Ref344916524"><a name="_Toc349905896">
<h2>
<a name="RTFToC56">
<a name="sec-8.1">8.1 Constant Macros</A></a></a></a></a>
</a></h2>
Macros may be used to implement constants.  To get type-checking for constant
macros, use the  constant syntactic comment:
<pre>
/*@constant null char *mstring_undefined@*/
</pre>
Declared constants are not expanded and are checked according to the
declaration.  A constant with a null annotation may be used as only storage.
<a name="_Ref343363760"><a name="_Toc344355420"><a name="_Toc349905897">
<h2>
<a name="RTFToC57">
<a name="sec-8.2">8.2 Function-like Macros</a></a></a></a>
</a></h2>
Using macros to imitate functions is notoriously dangerous.  Consider this
broken macro for squaring a number:<p>
<pre>
# define square(x) x * x
</pre>
This works fine for a simple invocation like square(i).  It behaves
unexpectedly, though, if it is invoked with a parameter that has a side
effect.<p>
<p>
For example, <tt>square(i++)</tt> expands to <tt>i++ * i++</tt>.  Not
only does this give the incorrect result, it has undefined behavior
since the order in which the operands are evaluated is not defined.  (See <a href="sec10.html#sec-10.1">Section 10.1</a> for more information
on how expressions exhibiting undefined evaluation order behavior are detected
by LCLint.)  To correct the problem we either need to rewrite the macro so that
its parameter is evaluated exactly once, or prevent clients from invoking the
macro with a parameter that has a side-effect.  <p>
<p>
Another possible problem with macros is that they may produce unexpected
results because of operator precedence rules.  The invocation, <tt>square(i+1)</tt>
expands to <tt>i+1*i+1</tt>, which evaluates to <tt>i+i+1</tt> instead
of the square of <tt>i+1</tt>.  To
ensure the expected behavior, the macro parameter should be enclosed in
parentheses where it is used in the macro body.<p>
<p>
Macros may also behave unexpectedly if they are not syntactically equivalent to
an expression.  Consider the macro definition,
<pre>
# define incCounts()  ntotal++; ncurrent++;
</pre>
This works fine, unless it is used as a statement.  For example,
<pre>
if (x &lt; 3) incCounts();
</pre>
increments ntotal if <tt>x &lt; 3</tt> but always increments ncurrent.<p>
<p>
One solution is to use the comma operator to define the macro:
<pre>
# define incCounts()  (ntotal++, ncurrent++)
</pre>
More complicated macros can be written using a do &#133; while construction:<p>
<pre>
  # define incCounts() \
     do { ntotal++; ncurrent++; } while (FALSE)
</pre>
LCLint detects these pitfalls in macro definitions, and checks that a macro
behaves as much like a function as possible.  A client should only be able to
tell that a function was implemented by a macro if it attempts to use the macro
as a pointer to a function.<p>
<p>
These checks are done by LCLint on a macro definition corresponding to a
function:<p>
<ul>
<li>	Each parameter to a macro (except those declared to be side-effect free,
see <a href="sec8.html#sec-8.2.1">Section 8.2.1</a>) must be used exactly once in all possible executions of the
macro, so  side-effecting arguments behave as expected.<a
href="guide_fn.html#fn21">[21]</a>  (Controlled by <a href="appC.html#flag-macroparams"><tt>macroparams</tt></a>.)
<li>	A parameter to a macro may not be used as the left hand side of an
assignment expression or as the operand of an increment or decrement operator
in the macro text, since this produces non-functional behavior.  (Controlled by
<a href="appC.html#flag-macroassign"><tt>macroassign</tt></a>.)
<li>	Macro parameters must be enclosed in parentheses when they are used in
potentially dangerous contexts.  (Controlled by <a href="appC.html#flag-macroparens"><tt>macroparens</tt></a>.)
<li>	A macro definition must be syntactically equivalent to a statement when
it is invoked followed by a semicolon. (Controlled by <a href="appC.html#flag-macrostmt"><tt>macrostmt</tt></a>.)
<li>	The type of the macro body must match the return type of the
corresponding function.  If the macro is declared with type void, its body may
have any type but the macro value may not be used.
<li>	All variables declared in the body of a macro definition must be in the
macro variable namespace, so they do not conflict with variables in the scope
where the macro is invoked (which may be used in the macro parameters).  By
default, the macro namespace is all names prefixed by m_.  (See <a href="sec9.html#sec-9.2">Section 9.2</a> for
information on controlling namespaces.)
</ul>       
At the call site, a macro is checked like any other function call.
<a name="_Ref343109609"><a name="_Toc344355421"><a name="_Toc349905898">
<h3>
<a name="RTFToC58">
<a name="sec-8.2.1">8.2.1 Side-Effect Free Parameters</A></a></a></a>
</a></h3>
Suppose we really do want to implement square as a macro, but want do so in a
safe way.  One way to do this is to require that it is never invoked with a
parameter that has a side-effect.  LCLint will check that this constraint
holds, if the parameter is annotated to be <i>side-effect free</i>.  That is,
the expression corresponding to this parameter must not modify any state, so it
does not matter how many times it is evaluated.  The sef annotation is used to
denote a parameter that may not have any side-effects:
<pre>
   extern int square (/*@sef@*/ int x);
   # define square(x) ((x) *(x))
</pre>
Now, LCLint will not report an error checking the definition of square even
though x is used more than once.<p>
<p>
A message will be reported, however, if square is invoked with a parameter that
has a side-effect.<p>
For the code fragment,
<pre>
square (i++)
</pre>
LCLint produces the message:
<pre>
   Parameter 1 to square is declared sef, but the argument may modify i: i++
</pre>
It is also an error to pass a non-sef macro parameter as a sef macro parameter
in the body of a macro definition.  For example,
<pre>
   extern int sumsquares (int x, int y);
   # define sumsquares(x,y) (square(x) + square(y))
</pre>
Although x only appears once in the definition of sumsquares it will be
evaluated twice since square is expanded. LCLint reports an error when a
non-sef macro parameter is passed as a sef parameter.<p>
<p>
A parameter may be passed as a sef parameter without an error being reported,
if LCLint can determine that evaluating the parameter has no side-effects.  For
function calls, the modifies clause is used to determine if a side-effect is
possible.<a href="guide_fn.html#fn22">[22]</a>   To prevent many spurious
errors, if the called function has no modifies clause, LCLint will report an
error only if sefuncon is on.  Justifiably paranoid programmers will insist on
setting sefuncon on, and will add modifies clauses to unconstrained functions
that are used in sef macro arguments.
<a name="_Ref343109614"><a name="_Toc344355422"><a name="_Toc349905899">
<h3>
<a name="RTFToC59">
<a name="sec-8.2.2">8.2.2 Polymorphism</A></a></a></a>
</a></h3>
One problem with our new definition of square is that while the original macro
would work for parameters of any numeric type, LCLint will now report an error
is the new version is used with a non-integer parameter.<p>
<p>
We can use the <tt>/*@alt </tt><em>type</em><tt>;,</tt>+<tt>@&gt;</tt>
syntax to indicate that an alternate type may be used.  For example,
<pre>
  extern int /*@alt float@*/ square (/*@sef@*/ int /*@alt float@*/ x);
  # define square(x) ((x) *(x))
</pre>
declares square for both ints and floats. <p>
Alternate types are also useful for declaring functions for which the return
value may be safely ignored (see <a href="sec10.html#sec-10.3.2">Section 10.3.2</a>).
<a name="_Ref347227227"><a name="_Toc349905900">
<h2>
<a name="RTFToC60">
<a name="sec-8.3">8.3 Controlling Macro Checking</A></a></a>
</a></h2>
By default, LCLint expands macros normally and checks the resulting code after
macros have been expanded.  Flags and control comments may be used to control
which macros are expanded and which are checked as functions or constants.<p>
<p>
If  the fcnmacros flag is on, LCLint assumes all macros defined with parameter
lists implement functions and checks them accordingly.  Parameterized macros
are not expanded and are checked as functions with unknown result and parameter
types (or using the types in the prototype, if one is given).  The analogous
flag for macros that define constants is constmacros.  If it is on, macros with
no parameter lists are assumed to be constants, and checked accordingly.  The
allmacros flag sets both fcnmacros and constmacros.  If the macrofcndecl flag
is set, a message reports parameterized macros with no corresponding function
prototype.  If the macroconstdecl flag is set, a similar message reports macros
with no parameters with no corresponding constant declaration.<p>
<p>
The macro checks described in the previous sections make sense only for macros
that are intended to replace functions or constants.  When fcnmacros or
constmacros is on, more general macros need to be marked so they will not be
checked as functions or constants, and will be expanded normally.  Macros which
are not meant to behave like functions should be preceded by the
<tt>/*@notfunction@*/</tt> comment.  For example,
<pre>
   /*@notfunction@*/
   # define forever for(;;)
</pre>
Macros preceded by notfunction are expanded normally before regular checking is
done.  If a macro that is not syntactically equivalent to a statement without a
semi-colon (e.g., a macro which enters a new scope) is not preceded by
notfunction, parse errors may result when fcnmacros or constmacros is on.
<a name="_Toc344355424"><a name="_Ref344908410"><a name="_Ref344916532"><a name="_Toc344355423"><a name="_Ref345489124"><a name="_Ref345771875"><a name="_Ref349897909"><a name="_Toc349905901">
<h2>
<a name="RTFToC61">
<a name="sec-8.4">8.4 Iterators</A></a></a></a></a></a>
</a></h2>
It is often useful to be able to execute the same code for many different
values.  For example, we may want to sum all elements in an intSet that
represents a set of integers.  If intSet is an abstract type, there is no easy
way of doing this in a client module without depending on the concrete
representation of the type.  Instead, we could provide such a mechanism as part
of the type's implementation.  We call a mechanism for looping through many
values an <i>iterator</i>.<p>
 <p>
The C language provides no mechanism for creating user-defined iterators.
LCLint supports a stylized form of iterators declared using syntactic comments
and defined using macros.<p>
<p>
Iterator declarations are similar to function declarations except instead of
returning a value, they assign values to their yield parameters in each
iteration.  For example, we could add this iterator declaration to
<tt>intSet.h</tt>:
<pre>
/*@iter intSet_elements (intSet s, yield int el);@*/
</pre>
The yield annotation means that the variable passed as the second actual
argument is declared as a local variable of type int and assigned a value in
each loop iteration.
<h4>
<a name="RTFToC62">Defining
Iterators
</a></h4>
An iterator is defined using a macro.  Here's one (not particularly efficient)
way of defining intSet_elements:
<pre>
   typedef /*@abstract@*/ struct {
      int nelements;
      int *elements;
   } intSet;
   ...
   # define intSet_elements(s,m_el) \
     { int m_i; \ 
       for (m_i = (0); m_i &lt;= ((s)-&gt;nelements); m_i++) { \
           int m_el = (s)-&gt;elements[(m_i)];

   # define end_intSet_elements }}
</pre>
Each time through the loop, the yield parameter m_el is assigned to the next
value.  After all values have been assigned to m_el for one iteration, the loop
terminates.  Variables declared by the iterator macro (including the yield
parameter) are preceded by the macro variable namespace prefix m_ (see Section
8.2) to avoid conflicts with variables defined in the scope where the iterator
is used.
<h4>
<a name="RTFToC63">Using
Iterators
</a></h4>
The general structure for using an iterator is,<p>
<i>iter</i> (<i>&lt;params&gt;</i>) stmt; end_<i>iter</i><p>
For example, a client could use intSet_elements to sum the elements of an
intSet:
<pre>
   intSet s;
   int sum = 0;
   ...
   intSet_elements (s, el) { 
      sum += el; 
   } end_intSet_elements;
</pre>
The actual parameter corresponding to a yield parameter, el, is not declared in
the function scope.  Instead, it is declared by the iterator and assigned to an
appropriate value for each iteration.<p>
<p>
LCLint will do the following checks for uses of stylized iterators:<p>
<ul>
<li>	An invocation of the iterator <i>iter</i> must be balanced by a
corresponding end, named end_<i>iter</i>.
<li>	All actual parameters must be defined, except those corresponding to
yield parameters.
<li>	Yield parameters must be new identifiers, not declared in the current
scope or any enclosing scope.
</ul>
Iterators are a bit awkward to implement, but they enable compact, easily
understood client code.  For abstract collection types, an iterator can be used
to enable clients to operate on elements of the collection without breaking
data abstraction.
<a name="_Ref343247905"><a name="_Toc344355425"><a name="_Ref348845281"><a name="_Toc349905902"></a></a></a><a name="_Ref350065611">


<h1>
<a name="sec-9">
9.  Naming Conventions
</a></h1>
Naming conventions tend to be a religious issue. Generally, it doesn't matter
too much what naming convention is followed as long as one is chosen and
followed religiously.  There are two kinds of naming conventions supported by
LCLint.  Type-based naming conventions (<a href="sec9.html#sec-9.1">Section 9.1</a>) constrain identifier names
according to the abstract types that are accessible where the identifier is
defined.  Prefix naming conventions (<a href="sec9.html#sec-9.2">Section 9.2</a>) constrain the initial
characters of identifier names according to what is being declared and its
scope.  Naming conventions may be combined or different conventions may be
selected for different kinds of identifiers.  In addition, LCLint supports
checking that names do not conflict with names reserved for the standard
library or implementation (<a href="sec9.html#sec-9.3">Section 9.3</a>) and that names are sufficiently
distinguishable from other names. 
<a name="_Toc344355426"><a name="_Ref347240654"><a name="_Ref348079373"><a name="_Toc349905903">
<h2>
<a name="sec-9.1">9.1 Type-Based Naming Conventions</A></a></a></a></a>
</a></h2>
Generic naming conventions constrain valid names of identifiers.  By limiting
valid names, namespaces may be preserved and programs may be more easily
understood since the name gives clues as to how and where the name is defined
and how it should be used.<p>
<p>
Names may be constrained by the scope of the name (external, file static,
internal), the file in which the identifier is defined, the type of the
identifier, and global constraints.
<h3>
<a name="sec-9.1.1">9.1.1 Czech Names</A></a></a>
</a></h3>
<blockquote>
<em>Of course, this is a complete jumble to the uninitiated, and that's the joke.</em><br>
- Charles Simonyi, on the Hungarian naming convention
</blockquote>
<p>
Czech<a href="guide_fn.html#fn23">[23]</a> names denote operations and variables
of abstract types by preceding the names by <i>&lt;type</i><i>&gt;</i>_.  The
remainder of the name should begin with a lowercase character, but may use any
other character besides the underscore.  Types may be named using any
non-underscore characters.   <p>
<p>
The Czech naming convention is selected by the czech flag.  If accessczech is
on, a function, variable, constant or iterator named
<i>&lt;type&gt;</i>_<i>&lt;name</i><i>&gt;</i> has access to the abstract type
<i>&lt;type&gt;</i>.<p>
<p>
Reporting of violations of the Czech naming convention is controlled by
different flags depending on what is being declared:<p>
<tt>czechfcns</tt>
<blockquote>
Functions and iterators.  An error is reported for a function name of the form
<i>&lt;prefix&gt;_&lt;name&gt;</i> where <i>&lt;prefix&gt;</i> is not the name
of an accessible type.  Note that if accessczech is on, a type named
<i>&lt;prefix&gt;</i> would be accessible in a function beginning with
<i>&lt;prefix&gt;_</i>.  If accessczech is off, an error is reported instead.
An error is reported for a function name that does not have an underscore if
any abstract types are accessible where the function is defined.
</blockquote>
<tt>czechvars</tt><br>
<tt>czechconstants</tt><br>
<tt>czechmacros</tt><br>
<blockquote>
Variables, constants and expanded macros.  An error is reported if the
identifier name starts with <i>&lt;prefix&gt;</i>_ and <i>prefix</i> is not the
name of an accessible abstract type, or if an abstract type is accessible and
the identifier name does not begin with <i>&lt;type&gt;_</i> where type is the
name of an accessible abstract type.  If accessczech is on, the representation
of the type is visible in the constant or variable definition.
</blockquote>
<tt>czechtypes</tt>
<blockquote>
User-defined types.  An error is reported if a type name includes an underscore
character.
</blockquote>
<h3>
<a name="sec-9.1.2">9.1.2 Slovak Names</A></a></a>
</a></h3>
Slovak names are similar to Czech names, except they are spelled differently.
A Slovak name is of the form <i>&lt;type&gt;&lt;Name&gt;</i>.  The type prefix
may not use uppercase characters.  The remainder of the name starts with the
first uppercase character.<p>
<p>
The slovak flag selects the Slovak naming convention.  Like Czech names, it may
be used with accessslovak to control access to abstract representations. The
slovakfcns, slovakvars, slovakconstants, and slovakmacros flags are analogous
to the similar Czech flags.  If slovaktype is on, an error is reported if a
type name includes an uppercase letter.
<a name="_Ref347994743"><a name="_Toc349905906">
<h3>
<a name="RTFToC68">
<a name="sec-9.1.3">9.1.3 Czechoslovak Names</A></a></a>
</a></h3>
Czechoslovak names are a combination of Czech names and Slovak names.
Operations may be named either <i>&lt;type</i><i>&gt;</i>_ followed by any
sequence of non-underscore characters, or <i>&lt;type&gt;</i> followed by an
uppercase letter and any sequence of characters.  Czechoslovak names have been
out of favor since 1993, but may be necessary for checking legacy code. The
czechoslovakfcns, czechoslovakvars, czechoslovakmacros, and
czechoslovakconstants flags are analogous to the similar Czech flags.  If
czechoslovaktype is on, an error is reported if a type name contains either an
uppercase letter or an underscore character.
<a name="_Ref347222192"><a name="_Ref347240687"><a name="_Toc349905907">
<h2>
<a name="RTFToC69">
<a name="sec-9.2">9.2 Namespace Prefixes</A></a></a></a>
</a></h2>
Another way to restrict names is to constrain the leading character sequences
of various kinds of identifiers.  For example, a the names of all user-defined
types might begin with "T" followed by an uppercase letter and all file static
names begin with an uppercase letter.  This may be useful for enforcing a
namespace (e.g., all names exported by the X-windows library should begin with
"X") or just making programs easier to understand by establishing an enforced
convention.  LCLint can be used to constrain identifiers in this way to detect
identifiers inconsistent with prefixes.<p>
<p>
All namespace flags are of the form, -<i>&lt;context&gt;</i>prefix
<i>&lt;string&gt;</i>.  For example, the macro variable namespace restricting
identifiers declared in macro bodies to be preceded by "m_" would be selected
by -macrovarprefix "m_".  The string may contain regular characters that may
appear in a C identifier.  These must match the initial characters of the
identifier name.  In addition, special characters (shown in Table 1) can be
used to denoted a class of characters.<a href="guide_fn.html#fn24">[24]</a>  The
* character may be used at the end of a prefix string to specify the
rest of the identifier is zero or more characters matching the character
immediately before the *. For example, the prefix string "T&amp;*"
matches "T" or "TWINDOW" but not "Twin".<p>

<pre>
^    Any uppercase letter, A-Z                                                 
&amp;    Any lowercase letter, a-z                                                 
%    Any character that is not an uppercase letter (allows lowercase           
     letters, digits and underscore)                                           
~    Any character that is not a lowercase letter (allows uppercase letters,   
     digits and underscore)                                                    
$    Any letter (a-z, A-Z)                                                     
/    Any letter or digit (A-Z, a-z, 0-9)                                       
?    Any character valid in a C identifier                                     
#    Any digit, 0-9                                                            
<a name="_Ref347222045"><a name="_Ref347222037"><a name="_Toc347255399"><a name="_Ref347220226"><a name="_Ref347220245"><a name="_Ref348090273"><a name="_Toc349905995">
</pre>
<b>Table
</a>1.  Prefix character codes.</a></a></a></a></a></a></b><p>

Different prefixes can be selected for the following identifier
contexts:<br>
<p> 
<tt>macrovarprefix</tt>
<blockquote> Any variable declared inside a macro body </blockquote>
<tt>uncheckedmacroprefix</tt>
<blockquote> Any macro that is not checked as a function or constant
(see <a href="sec8.html#sec-8.4">Section 8.4</a>)                 </blockquote>
<tt>tagprefix</tt>
<blockquote>Tags for struct, union and enum declarations  
</blockquote>
<tt>enumprefix</tt>
<blockquote>Members of enum types                         
</blockquote>
<tt>typeprefix</tt>
<blockquote>
Name of a user-defined type               
</blockquote>
<tt>filestaticprefix</tt>
<blockquote>Any identifier with file static scope</blockquote>
<tt>globvarprefix</tt>
<blockquote>
Any variable (not of function type) with global variables scope 
</blockquote>      
<tt>externalprefix</tt>
<blockquote>
Any exported identifier                       
</blockquote>
<p>
If an identifier is in more than one of the namespace contexts, the most specific
defined namespace prefix is used (e.g., a global variable is also an exported
identifier, so if globalvarprefix is set, it is checked against the variable
name; if not, the identifier is checked against the externalprefix.)<p>
<p>
For each prefix flag, a corresponding flag named
<i>&lt;prefixname&gt;</i>exclude controls  whether errors are reported if
identifiers in a different namespace match the namespace prefix.  For example,
if macrovarprefixexclude is on, LCLint checks that no identifier that is not a
variable declared inside a macro body uses the macro variable prefix. <p>
<p>
Here is a (somewhat draconian) sample naming convention:
<p>
<a href="appC.html#flag-uncheckedmacroprefix"><tt>-uncheckedmacroprefix "~*"</tt></a><br>
       unchecked macros have no lowercase letters <br> <a
href="appC.html#flag-typeprefix"><tt>-typeprefix
"T^&amp;*"</tt></a><br> all type typenames begin with T followed by an
uppercase letter.  The rest of the name is all lowercase letters.  <br>
<a
href="appC.html#flag-typeprefixexclude"><tt>+typeprefixexclude</tt></a><br>
no identifier that does not name a user-defined type may begin with the
type name prefix (set above) <br> <a
href="appC.html#flag-filestaticprefix"><tt>-filestaticprefix"^&amp;&amp;&amp;"</tt></a>
<br> file static scope variables begin with an uppercase letter and
three lowercase letters<br> <a
href="appC.html#flag-globvarprefix"><tt>-globvarprefix "G"</tt></a>
<br> all global variables variables start with G <br> <a
href="appC.html#flag-globvarprefixexclude"><tt>+globvarprefixexclude</tt></a><br>
no identifier that is not a global variable starts with G <p> <a
name="_Toc344355427"><a name="_Ref347240790"><a name="_Ref348079479"><a
name="_Toc349905908"> <h2> <a name="RTFToC70"> <a name="sec-9.3">9.3
Naming Restrictions</A></a></a></a></a> </a></h2> Additional naming
restrictions can be used to check that names do no conflict with names
reserved for the standard library, and that identifier are sufficiently
distinct (either for the compiler and linker, or for the programmer.)
Restrictions may be different for names that are needed by the linker
(<i>external</i> names) and names that are only needed during
compilations (<i>internal</i> names).  Names of non-static functions and
global variables are external; all other names are internal.  <a
name="_Toc349905909"> <h3> <a name="RTFToC71"> <a name="sec-9.3.1">9.3.1
Reserved Names</A></a> </a></h3> Many names are reserved for the
implementation and standard library.  A complete list of reserved names
can
be
found in [<a href="references.html#ref-vdL">vdL</A>, p. 126-128] or [<a href="guide.html#ref-ANSI">ANSI</A>, <a
href="sec4.html">Section 4</a>].  Some name prefixes such as str
followed by a lowercase character are reserved for future library
extensions.  Most C compilers do not detect naming conflicts, and they
can lead to unpredictable program behavior.  If ansireserved is on,
LCLint reports errors for external names that conflict with reserved
names.  If ansireservedinternal is on, errors are also reported for
internal names.  <a name="_Toc349905910"> <h3> <a name="RTFToC72"> <a
name="sec-9.3.2">9.3.2 Distinct Identifiers</A></a> </a></h3>
<blockquote> <em>The decision to retain the old six-character
case-insensitive restriction on significance was most painful.</em><br>
- ANSI C Rationale </blockquote> <p> LCLint can check that identifiers
differ within a given number of characters, optionally ignoring
alphabetic case and differences between characters that look similar.
The number of significant characters may be different for external and
internal names.  <p> <p> Using <a
href="appC.html#flag-distinctexternalnames"><tt>+distinctexternalnames</tt></a>
sets the number of significant characters for external names to six and
makes alphabetical case insignificant for external names.  This is the
minimum significance acceptable in an ANSI-conforming compiler.  Most
modern compilers exceed these minimums (which are particularly hard to
follow if one uses the Czech or Slovak naming convention).  The number
of significant characters can be changed using the externalnamelength
<i>&lt;number&gt;</i> flag.  If externalnamecaseinsensitive is on,
alphabetical case is ignored in comparing external names. LCLint reports
identifiers that differ only in alphabetic case. <p> <p> For internal
identifiers, a conforming compiler must recognize at least 31 characters
and treat alphabetical cases distinctly.  Nevertheless, it may still be
useful to check that internal names are more distinct then required by
the compiler to minimize the likelihood that identifiers are confused in
the program.  Analogously to external names, the internalnamelength
<i>&lt;number&gt;</i> flag sets the number of significant characters in
an internal name and internalnamecaseinsensitive sets the case
sensitivity.  The internalnamelookalike flag further restricts
distinctions between identifiers.  When set, similar-looking characters
match -- the lowercase letter "l" matches the uppercase letter "I" and
the number "1"; the letter "O" or "o" matches the number "0"; "5"
matches "S"; and "2" matches "Z".  Identifiers that are not distinct
except for look-alike characters will produce an error message.
External names are also internal names, so they must satisfy both the
external and internal distinct identifier checks.<p> <p> <a
href="fig18.html">Figure 18</a> illustrates some of the name checking
done by LCLint.<p> <p> 



<h1> <a name="sec-10"> 10. Other Checks </h1> 

The section describes other errors detected by LCLint that are not
directly related to extra information provided in annotations.  Many of
the checks are significantly improved, however, because of the extra
information that is known about the program.

<h2> 
<a name="sec-10.1">10.1 Undefined Evaluation Order
</a></h2> 

The order in which side effects take place in a C program is
not entirely defined by the code.  Certain execution points are known as
<i>sequence points</i> -- a function call (after the arguments have been
evaluated), the end of a full expression (an initializer, expression in
an expression statement, the control expression of an if, switch, while
or do statement, each expression of a for statement, and the expression
in a return statement), and after the first operand or a &amp;&amp;, ||,
? or , operand.<p> <p> All side effects before a sequence point must be
complete before the sequence point, and no evaluations after the
sequence
point shall have taken place [<a href="references.html#ref-ANSI">ANSI</A>, <a
href="sec2.html#sec-2.1.2.3">Section 2.1.2.3</a>].  Between sequence
points, side effects and evaluations may take place in any order.
Hence, the order in which expressions or arguments are evaluated is not
specified.  Compilers are free to evaluate function arguments and parts
of expressions (that do not contain sequence points) in any order.  The
behavior of code that uses a value that is modified by another
expression that is not required to be evaluated before or after the
other use is undefined.<p> <p> LCLint detects instances where
undetermined order of evaluation produces undefined behavior.  If
modifies clauses and globals lists are used, this checking is enabled in
expressions involving function calls. Evaluation order checking is
controlled by the evalorder flag.<p> <p> When checking systems without
modifies and globals information, evaluation order checking may report
errors when unconstrained functions are called in procedure arguments.
Since LCLint has no annotations to constrain what these functions may
modify, it cannot be guaranteed that the evaluation order is defined if
another argument calls an unconstrained function or uses a global
variable or storage reachable from a parameter to the unconstrained
function.  Its best to add modifies and globals clauses to constrain the
unconstrained functions in ways that eliminate the possibility of
undefined behavior.  For large legacy systems, this may require too much
effort.  Instead, the <a
href="appC.html#flag-evalorderuncon"><tt>-evalorderuncon</tt></a> flag
may be used to prevent reporting of undefined behavior due to the order
of evaluation of unconstrained functions. <p>
<p>
<a href="fig19.html">Figure 19.  Evaluation order</a>
<p>

<h2>
<a name="sec-10.2">10.2 Problematic Control Structures</A></a></a></a>
</a></h2>

A number of control structures that are syntactically legal may indicate
likely bugs in programs.  LCLint can detect errors involving likely
infinite loops (<a href="sec10.html#sec-10.2.1">Section 10.2.1</a>),
fall through cases and missing cases in switch statements (<a
href="sec10.html#sec-10.2.2">Section 10.2.2</a>), break statements
within deeply nested loops or switches (<a
href="sec10.html#sec-10.2.3">Section 10.2.3</a>), clauses of if, while
or for statements that are empty statements or unblocked single
statements (<a href="sec10.html#sec-10.2.4">Section 10.2.4</a>) and
incomplete if-else logic (<a href="sec10.html#sec-10.2.5">Section
10.2.5</a>).  Although any of these may appear in a correct program,
depending on the programming style used they may indicate likely bugs or
style violations that should be detected and eliminated.

<h3>
<a name="sec-10.2.1">10.2.1 Likely Infinite Loops
</a>
</h3>

LCLint reports an error if it detects a loop that appears to be
infinite.  An error is reported for a loop which does not modify any
value used in its condition test inside the body of the loop or in the
condition test itself.  This checking is enhanced by modifies clauses
and globals lists since they provide more information about what global
variable may be used in the condition test and what values may be
modified by function calls in the loop body.<p> <p>

<a href="fig20.html">Figure 20</a> shows examples of infinite loops
detected by LCLint. An error is reported for the loop in line 14, since
neither of the values used in the loop condition (x directly and glob1
through the call to f) is modified by the body of the loop.  If the
declaration of g is changed to include glob1 in the modifies clause no
error is reported.  (In this example, if we assume the annotations are
correct, then the programmer has probably called the wrong function in
the loop body.  This isn't surprising, given the horrible choices of
function and variable names!)<p>

<p>
If an unconstrained function is called within the loop body, LCLint will assume
that it modifies a value used in the condition test and not report an infinite
loop error, unless infloopsuncon is on.  If infloopsuncon is on, LCLint will
report infinite loop errors for loops where there is no explicit modification
of a value used in the condition test, but where they may be an undetected
modification through a call to an unconstrained function (e.g., line 15 in
<a href="fig20.html">Figure 20</a>).  <p>
<h3>
<a name="sec-10.2.2">10.2.2 Switches
</a></h3>
The automatic fall-through of C switch statements is almost never the intended
behavior.<a href="guide_fn.html#fn25">[25]</a>  LCLint detects case statements
with code that may fall through to the next case.  The casebreak flag controls
reporting of fall through cases.  A single fall through case may be marked by
preceding the case keyword with <tt>/*@fallthrough@*/</tt> to indicate explicitly that
execution falls through to this case.<p>
<p>
For switches on enum types, LCLint reports an error if a member of the
enumerator does not appear as a case in the switch body (and there is no
default case).  (Controlled by <a href="appC.html#flag-misscase"><tt>misscase</tt></a>.)<p>
<p>
An example of switch checking is shown in <a href="fig21.html">Figure 21</a>.
<h3>
<a name="sec-10.2.3">10.2.3 Deep Breaks
</a></h3>
There is no syntax provided by C (other than goto) for breaking out of a nested
loop.  All break and continue statements act only on the innermost surrounding
loop or switch.  This often leads to serious problems<a
href="guide_fn.html#fn26">[26]</a> when a programmer intends to break the outer loop
or switch instead.  LCLint optionally reports errors for break and
continue statements in nested contexts.<p>
<ul>
<li>	break inside a loop (while or for) that is inside a loop.  Controlled by
looploopbreak.  To indicate that a break is inside an inner loop, precede the
break by <tt>/*@innerbreak@*/</tt>.
<li>	break inside a loop that is inside a switch statement.  Controlled by
switchloopbreak.  To mark the break as a loop break, precede the break by
<tt>/*@loopbreak@*/</tt>.
<li>	break inside a switch statement that is inside a loop.  Controlled by
loopswitchbreak.  To mark the break as a switch break, precede the break by
<tt>/*@switchbreak@*/</tt>.
<li>	break inside a switch inside another switch.  Controlled by
switchswitchbreak.  To indicate that the break is for the inner switch, use
<tt>/*@innerbreak@*/</tt>.
</Ul>

Since continue only makes sense within loops, errors are only reported for
continue statements within nested loops.  (Controlled by <a href="appC.html#flag-looploopcontinue"><tt>looploopcontinue</tt></a>.)  A
safe inner continue may be precede by <tt>/*@innercontinue@*/</tt> to suppress error
messages locally. The deepbreak flag sets all nested break and continue
checking flags.<p>
<p>
LCLint reports an error if the marker preceding a break is not consistent with
its effect.  An error is reported if innerbreak precedes a break that is not
breaking an inner loop, switchbreak precedes a break that is not breaking a
switch, or loopbreak precedes a break that is not breaking a loop.
<h3>
<a name="sec-10.2.4">10.2.4 Loop and If Bodies
</a></h3>
An empty statement after an if, while or for often indicates a potential bug.
A single statement (i.e., not a compound block) after an if, while or for is
not likely to indicate a bug, but make the code harder to read and edit.
LCLint can report errors for if or loop statements with empty bodies or bodies
that are not compound statements.  Separate flags control checking for
statements following an  if, while or for:<p>
<ul>
<li>	[<tt>if</tt>, <tt>while</tt>, <tt>for</tt>]<tt>empty</tt> --
report errors for empty bodies (e.g., <tt>if (x &gt; 3) ;</tt>)
<li>	[<tt>if</tt>, <tt>while</tt>, <tt>for</tt>]<tt>block</tt> --
report errors for non-block bodies (e.g., <tt>if (x &gt; 3) x++;</tt>)
</ul>

The if statement checks also apply to the body of the else clause.  An ifblock
error is not reported if the body of the else clause is an if statement, to
allow else if chains.  
<h3>
<a name="sec-10.2.5">10.2.5 Complete if-else Logic
</a></h3>
Although it may be perfectly reasonable in many contexts, an if-else chain with
no final else may indicate missing logic or forgetting to check error cases.
If <a href="appC.html#flag-elseifcomplete"><tt>elseifcomplete</tt></a>
is on, LCLint reports errors when an if statement that is the body of an
else clause does not have a matching else clause.  For example, the code,
<pre>
   if (x == 0) { return "nil"; }
   else if (x == 1) { return "many"; }
</pre>
produces an error message since the second if has no matching else branch.
<h2>
<a name="sec-10.3">10.3 Suspicious Statements
</a></h2>

LCLint detects errors involving statements with no apparent effects (<a
href="sec10.html#sec-10.3.1">Section 10.3.1</a>) and statements that
ignore the result of a called function (<A
href="sec10.html#sec-10.3.2">Section 10.3.2</a>).

<h3>
<a name="sec-10.3.1">10.3.1 Statements with No Effects
</a></h3>

LCLint can report errors for statements that have no effect.  (Controlled by
noeffect.)   Because of modifies clauses, LCLint can detect more errors than
traditional checkers.  Unless the noeffectuncon flag is on, errors are not
reported for statements that involve calls to unconstrained functions since the
unconstrained function may cause a modification.<p>
<p>
<a href="fig22.html">Figure 22.  Statements with no effect.</a>
<p>
<h3>
<a name="RTFToC83">
<a name="sec-10.3.2">10.3.2 Ignored Return Values</A></a></a></a>
</a></h3>
LCLint reports an error when a return value is ignored.  Checking may be
controlled based on the type of the return value: retvalint controls reporting
of ignored return values of type int, and retvalbool for return values of type
bool, and retvalothers for all other types.  A function statement may be cast
to void to prevent this error from being reported. <p>
<p>
Alternate types (<a href="sec8.html#sec-8.2.2">Section 8.2.2</a>) can be used to declare functions that return
values that may safely be ignored by declaring the result type to alternately
by void.  Several functions in the standard library are specified to
alternately return void to prevent ignored return value errors for standard
library functions (e.g., strcpy) where the result may be safely ignored (see
<a href="appF.html">Apppendix F</a>).  <p>
<p>
<A href="fig23.html">Figure 23</a> shows example of ignored return value
errors reported by LCLint.<p>

<h2>
<a name="sec-10.4">10.4 Unused Declarations
</a></h2>
LCLint detects constants, functions, parameters, variables, types, enumerator
members, and structure or union fields that are declared but never used.  The
flags 
<a href="appC.html#flag-constuse"><tt>constuse</tt></a>, 
<a href="appC.html#flag-fcnuse"><tt>fcnuse</tt></a>, 
<a href="appC.html#flag-paramuse"><tt>paramuse</tt></a>,
<a href="appC.html#flag-varuse"><tt>varuse</tt></a>, 
<a href="appC.html#flag-typeuse"><tt>typeuse</tt></a>, 
<a href="appC.html#flag-enummemuse"><tt>enummemuse</tt></a> and
<a href="appC.html#flag-fielduse"><tt>fielduse</tt></a> control whether
unused declaration errors are reported for each kind of declaration.
Errors for exported declarations are reported only if 
<a href="appC.html#flag-topuse"><tt>topuse</tt></a> is on (see <a
href="sec10.html#sec-10.5">Section 10.5</a>).<p> 
<p>
The <tt>/*@unused@*/</tt> annotation can be used before a declaration to indicate that
the item declared need not be used.  Unused declaration errors are not reported
for identifiers declared with unused.
<a name="_Ref343110504"><a name="_Toc344355433"><a name="_Toc349905923">
<h2>
<a name="RTFToC85">
<a name="sec-10.5">10.5 Complete </A></a></a></a>Programs</a></a></a>
</a></h2>
LCLint can be used on both complete and partial programs.  When checking
complete programs, additional checks can be done to ensure that every
identifier declared by the program is defined and used, and that functions that
do not need to be exported are declared static.<p>
<p>
LCLint checks that all declared variables and functions are defined (controlled
by <a href="appC.html#flag-compdef"><tt>compdef</tt></a>).
Declarations of functions and variables that are defined in an external
library, may be preceded by <tt>/*@external@*/</tt> to suppress
undefined declaration errors.<p> 
<p>
LCLint reports external declarations which are unused (Controlled by <a href="appC.html#flag-topuse"><tt>topuse</tt></a>).
Which declarations are reported also depends on the declaration use flags (see
<a href="sec10.html#sec-10.4">Section 10.4</a>).  <p>
<p>
The <a href="appC.html#flag-partial"><tt>partial</tt></a> flag sets
flags for checking a partial system.  Top-level unused declarations,
undefined declarations, and unnecessary external names are not reported
if <tt>partial</tt> is set.
<a name="_Toc349905924">
<h3>
<a name="RTFToC86">
<a name="sec-10.5.1">10.5.1 Unnecessary External Names</A></a>
</a></h3>
LCLint can report variables and functions that are declared with global scope
(i.e., without using static), that are not used outside the file in which they
are defined.  In a stand-alone system, these identifiers should usually be
declared using static to limit their scope.  If the exportstatic flag is on,
LCLint will report declarations that could have file scope.  It should only be
used when all relevant source files are listed on the LCLint command line;
otherwise, variables and functions may be incorrectly identified as only used
in the file scope since LCLint did not process the other file in which they are
used.
<a name="_Toc349905925">
<h3>
<a name="RTFToC87">
<a name="sec-10.5.2">10.5.2 Declarations Missing from Headers</a></a>
</a></h3>
A common practice in C programming styles, is that every function or variable
exported by <i>M</i><tt>.c</tt> is declared in <i>M</i><tt>.h</tt>.  If
the <a href="appC.html#flag-exportheader"><tt>exportheader</tt></a> flag is on, LCLint will report exported declarations in <i>M</i><tt>.c</tt> that are not declared in <i>M</i><tt>.h</tt>.
<a name="_Ref348079997"><p>
<a name="_Ref349497354"><a name="_Toc349905926"></i>
<h2>
<a name="RTFToC88">
<a name="sec-10.6">10.6 Compiler Limits</A></a></a></a>
</a></h2>
The ANSI Standard includes limits on minimum numbers that a conforming compiler
must support.  Whether of not a particular compiler exceeds these limits, it is
worth checking that a program does not exceed them so that it may be safely
compiled by other compilers.  In addition, exceeding a limit may indicate a
problem in the code (e.g., it is too complex if the control nest depth limit is
exceeded) that should be fixed regardless of the compiler.  The following
limits are checked by LCLint.  For each  limit, the maximum value may be set
from the command line (or locally using a stylized comment).  If the 
<a href="appC.html#flag-ansilimits"><tt>ansilimits</tt></a>
flag is on, all limits are checked with the minimum values of a conforming
compiler.<p>
<a href="appC.html#flag-includenest"><tt>includenest</tt></a>
<blockquote>
Maximum nesting depth of file inclusion (#include).  (ANSI minimum is 8)
</blockquote>
<a href="appC.html#flag-controlnestdepth"><tt>controlnestdepth</tt></a>
<blockquote>
Maximum nesting of compound statements, control structures.  (ANSI
minimum is 15)	
</blockquote>
<a href="appC.html#flag-numenummembers"><tt>numenummembers</tt></a>
<blockquote>
Number of members in an enum declaration. (ANSI minimum is 127)
</blockquote>
<a href="appC.html#flag-numstructfields"><tt>numstructfields</tt></a>
<blockquote>
Number of fields in a struct or union declaration. (ANSI minimum is 127)
</blockquote>
<pre>






</pre>
<blockquote>
<em>
Since human beings themselves are not fully debugged yet, there will be bugs in
your code no matter what you do.</em><br>
- Chris Mason, Zero-defects  memo (<i>Microsoft Secrets</i>, Cusumano
and Selby)
</blockquote>


<h2>
Appendix A  Availability</a></a></a><p>
</h2>
<b></b>The web home page for LCLint is <a
href="http://lclint.cs.virginia.edu/index.html"><tt>http://lclint.cs.virginia.edu/index.html</tt></a>.
It includes a <a href="index.html">this guide in postscript format</a>, <a href="../samples/index.html">samples demonstrating LCLint</a>, and <a href="../links.html">links</a> to related web sites.<p>
<p>
LCLint can be downloaded from <a
href="http://lclint.cs.virginia.edu/download.html"><tt>http://lclint.cs.virginia.edu/download.html</tt></a>.
<p>
Several <a href="../download.html">platforms</a> are supported and
<a href="../source.html">source code</a> is provided for other platforms.

<p>
LCLint can also be run remotely using a form at <a href="http://lclint.cs.virginia.edu/run.html"><tt>http://lclint.cs.virginia.edu/run.html</tt></a>
<a name="_Toc344355452"><a name="_Ref344870231"><a name="_Ref348330377"><a name="_Toc349905928"><p>


<a name="app-B">
<h2>
Appendix B  Communication
</h2></a></a></a></a>
<p>
<b></b>LCLint development is largely driven by suggestions and comments from
users.  We are also very interested in hearing about your experiences using
LCLint in developing or maintaining programs, enforcing coding standards, or
teaching courses.  For general information, suggestions, and questions on
LCLint send mail to <a href="mailto:lclint@cs.virginia.edu"><tt>lclint@cs.virginia.edu</tt></a>.<p>
<p>
To report a bug in LCLint send a message to <a href="mailto:lclint-bug@cs.virginia.edu"><tt>lclint-bug@cs.virginia.edu</tt></a>.<p>
<p>
There are two <a href="../lists.html">mailing lists</A> associated with LCLint:<p>
<tt>lclint-announce@virginia.edu</tt>
<blockquote>
Reserved for announcements of new releases and bug fixes.  (Everyone who sends
mail regarding LCLint is added to this list.)
</blockquote>
<tt>lclint-interest@virginia.edu</tt>
<blockquote>
Informal discussions on the use and development of LCLint.  To subscribe, send
a majordomo message to <a
href="mailto:majordomo@virginia.edu"><tt>majordomo@virginia.edu</tt></a> containing the body <tt>subscribe lclint-interest</tt>.
</blockquote>
<p>
LCLint discussions relating to checks enabled by specifications or annotations
are welcome in the <a href="news:comp.specification.larch"><tt>comp.specification.larch</tt></a>
<a name="_Ref344870294"><a name="_Ref344870532"><a name="_Ref344871249"><a name="_Ref344882161">
usenet group.  Messages more focused on C-specific checking would be more
appropriate for the lclint-interest list of one of the C language groups.
<a name="_Ref348330382"><a name="_Ref348343340"><a
name="_Toc349905929">


<a name="app-C">
<h2>Appendix C  Flags</h2>
<p>

<b></b>Flags can be grouped into four major categories: <p>
<ul>
<li>	Global flags for controlling initializations and global behavior
<li>	Message format flags for controlling how messages are displayed
<li>	Mode selectors for coarse control of LCLint checking
<li>	Checking flags that control checking and what classes of
        messages are reported
</ul>
Global flags can be used in initialization files and at the command line; all
other flags may also be used in control comments.
<p>
<b>Global Flags</a></b><p>
<b></b>Global flags can be set at the command line or in an options file, but
cannot be set locally using stylized comments.  These flags control on-line
help, initialization files, pre-processor flags, libraries and output. 
<p>

<b><i>Help</a></i></b><p>
<b><i></i></b>On-line help provides documentation on LCLint operation and
flags.  When a help flag is used, no checking is done by LCLint.  Help flags
may be preceded by <tt>-</tt> or <tt>+</tt>.<p>
<a name="flag-help"><tt>help</tt>
<blockquote>
Display general help overview, including list of additional help topics.
</blockquote>
<tt>help</tt> &lt;<em>topic</em>&gt;
<blockquote>
Display help on <i>&lt;topic&gt;</i>. Available topics:
<blockquote>
<table>
<tr><td><tt>annotations</tt></td><td>describe annotations</td></tr>
<tr><td><tt>comments</tt></td><td>describe control comments</td></tr>
<tr><td><tt>flags</tt></td><td>summarize flag categories</td></tr>
<tr><td><tt>flags </tt>&lt;<em>category</em>&gt;</td><td>all flags pertaining to
&lt;<em>category</em>&gt; (one of the categories listed by <tt>lclint -help
flags</tt>)</td></tr>         
<tr><td><tt>flags alpha</tt></td><td>all flags in alphabetical order</td></tr>
<tr><td><tt>flags full</tt></td><td>print a full description of all flags</td></tr>
<tr><td><tt>mail</tt></td><td>print information on mailing lists</td></tr>
<tr><td><tt>modes</tt></td><td>flags settings in modes</td></tr>
<tr><td><tt>prefixcodes</tt></td><td>character codes for setting namespace prefixes</td></tr>
<tr><td><tt>references</tt></td><td>print references to relevant papers and web sites</td></tr>
<tr><td><tt>vars</tt></td><td>describe environment variables</td></tr>
<tr><td><tt>version</tt></td><td>print maintainer and version information</td></tr>
</table>
</blockquote>
</blockquote>
<tt>help</tt> &lt;<em>flag</em>&gt;
<blockquote>
Describe flag <i>&lt;flag&gt;</i>.  (May list several flags.)
</blockquote>
<a name="flag-warnflags"><tt>warnflags</tt>
<blockquote>
Display a warning when a flag is set in a surprising way.  An error is reported
if an obsolete (LCLint Version 1.4 or earlier) flag is set, a flag is set to
its current value (i.e., the + or - may be wrong), or a mode selector flag is
set after mode checking flags that will be reset by the mode were set.  By
default, warnflags is on.  To suppress flag warnings, use <tt>-warnflags</tt>.<a name="_Toc349905932">
</blockquote>
<p>
<b><i>Initialization</a></i></b><p>
<b><i></i></b>These flags control directories and files used by LCLint.  They
may be used from the command line or in an options file, but may not be used as
control comments in the source code.  Except where noted. they have the same
meaning preceded by - or +.  <p>
<a name="flag-tmpdir">
<tt>tmpdir</tt> <i>&lt;directory&gt;</i><p>
<blockquote>
Set directory for writing temp files.  Default is <tt>/tmp/</tt>.
</blockquote>
<a name="flag-I">
<tt>I</tt><i>&lt;directory&gt;</i>
<blockquote>
Add directory to path searched for C include files.  Note there is no space
after the I, to be consistent with C preprocessor flags.
</blockquote>
<a name="flag-S">
<tt>S</tt><i>&lt;directory&gt;</i>
<blockquote>
Add directory to path search for .lcl specification files.
</blockquote>
<p>
<p>
<a name="flag-f">
<tt>f </tt><i>&lt;file&gt;</i><p>
<blockquote>
Load options file <i>&lt;file&gt;</i>.  If this flag is used from the command
line, the default <tt>~/.lclintrc</tt> file is not loaded.  This flag may be used in an
options file to load in another options file.
</blockquote>
<a name="flag-nof">
<tt>nof</tt>
<blockquote>
Prevents the default options files (<tt>./.lclintrc</tt> and
<tt>~/.lclintrc</tt>) from being loaded.  (Setting <tt>-nof</tt>
overrides <tt>+nof</tt>, causing the options files to be loaded normally.)
</blockquote>
<a name="flag-systemdirs"><tt>systemdirs</tt>
<blockquote>
Set directories for system files (default is "<tt>/usr/include</tt>").  Separate
directories with colons (e.g., "<tt>/usr/include:/usr/local/lib</tt>").  Flag settings
propagate to files in a system directory.  If <tt>-systemdirerrors</tt> is set, no
errors are reported for files in system directories.
</blockquote>
<a name="_Ref345883190"><a name="_Toc349905933"><p>
<b><i>Pre-processor</a></a></i></b><p>
<b><i></i></b>These flags are used to define or undefine pre-processor
constants.  The -I<i>&lt;directory&gt;</i> flag is also passed to the C
pre-processor.<p>
<a name="flag-D">
<tt>D</tt>&lt;<em>initializer</em>&gt;
<blockquote>
Passed to the C pre-processor.
</blockquote>
<a name="flag-U">
<tt>U</tt>&lt;<em>initializer</em>&gt;
<blockquote>
Passed to the C pre-processor
</blockquote>
<a name="_Ref344793948"><a name="_Toc349905934"><p>
<b><i>Libraries</a></a></i></b><p>
<b><i></i></b>These flags control the creation and use of libraries.<p>
<tt>dump </tt><i>&lt;file&gt;</i>
<blockquote>
Save state in <i>&lt;file&gt;</i> for loading.  The default extension .lcd is
added if <i>&lt;file&gt;</i> has no extension.
</blockquote>
<tt>load </tt><i>&lt;file&gt;</i>
<blockquote>
Load state from <i>&lt;file&gt;</i> (created by <tt>-dump</tt>).  The default extension
<tt>.lcd</tt> is added if <i>&lt;file&gt;</i> has no extension.  Only one library file
may be loaded.
</blockquote>
<p>
By default, the standard library is loaded if the -load flag is not used to
load a user library.  If no user library is loaded, one of the following flags
may be used to select a different standard library.  Precede the flag by + to
load the described library (or prevent a library from being loaded using
nolib).  See <a href="appF.html">Apppendix F</a> for information on the
provided libraries.

<p>
<a name="flag-nolib"><tt>nolib</tt>
<blockquote>
Do not load any library.  This prevents the standard library from being loaded.
</blockquote>
<a name="flag-ansilib"><tt>ansi-lib</tt>
<blockquote>
Use the ANSI standard library (selected by default). 
</blockquote>

<a name="flag-strictlib"><tt>strict-lib</tt>
<blockquote>
Use strict version of the ANSI standard library.
</blockquote>

<a name="flag-posixlib"><tt>posix-lib</tt>
<blockquote>
Use the POSIX standard library.
</blockquote>

<a name="flag-posixstrictlib"><tt>posix-strict-lib</tt>
<blockquote>
Use the strict version of the POSIX standard library.
</blockquote>

<a name="flag-unixlib"><tt>unix-lib</tt>
<blockquote>
Use UNIX version of standard library.
</blockquote>

<a name="flag-unixstrictlib"><tt>unix-strict-lib</tt>
<blockquote>
Use the strict version of the UNIX standard library. 
</blockquote>

<p>
<b><i>Output</a></i></b><p>
<b><i></i></b>These flags control what additional information is printed by
LCLint.  Setting +<i>&lt;flag&gt;</i> causes the described information to be
printed;  setting -<i>&lt;flag&gt;</i> prevents it.  By default, all these
flags are off.<p>
<a name="flag-usestderr"><tt>usestderr</tt>
<blockquote>
Send error messages to standard error (instead of standard out).
</blockquote>
<a name="flag-showsummary"><tt>showsummary</tt>
<blockquote>
Show a summary of all errors reported and suppressed.  Counts of suppressed
errors are not necessarily correct since turning a flag off may prevent some
checking from being done to save computation, and errors that are not
reported may propagate differently from when they are reported.
</blockquote>
<a name="flag-showscan"><tt>showscan</tt>
<blockquote>
Show file names are they are processed.
</blockquote>
<a name="flag-showalluses"><tt>showalluses</tt>
<blockquote>
Show list of uses of all external identifiers sorted by number of uses.
</blockquote>
<a name="flag-stats"><tt>stats</tt>
<blockquote>
Display number of lines processed and checking time.
</blockquote>
<a name="flag-timedist"><tt>timedist</tt>
<blockquote>
Display distribution of where checking time is spent.
</blockquote>
<a name="flag-quiet"><tt>quiet</tt>
<blockquote>
Suppress herald and error count.  (If quiet is not set, LCLint prints out a
herald with version  information before checking begins, and a line summarizing
the total number of errors reported.)
</blockquote>
<a name="flag-whichlib"><tt>whichlib</tt>
<blockquote>
Print out the standard library filename and creation information.
</blockquote>
<a name="flag-limit">
<tt>limit </tt><i>&lt;number&gt;</i>
<blockquote>
At most <i>&lt;number&gt;</i> similar errors are reported consecutively.
Further errors are suppressed, and a message showing the number of suppressed
messages is printed.
</blockquote>
<a name="_Toc349905936"><p>
<b><i>Expected Errors</a></i></b><p>
<b><i></i></b>Normally, LCLint will expect to report no errors.  The exit
status will be success (0) if no errors are reported, and failure if any errors
are reported.  Flags can be used to set the expected number of reported errors.
Because of the provided error suppression mechanisms, these options should
probably not be used for final checking real programs but may be useful in
developing programs using make.<p>
<tt>expect </tt><i>&lt;number&gt;</i>
<blockquote>
Exactly <i>&lt;number&gt;</i> code errors are expected.  LCLint will exit with
failure exit status unless <i>&lt;number&gt;</i> code errors are
detected. 
</blockquote>
<a name="_Toc349905937"><p>
<b>Message Format</a></b><p>
<b></b>These flags control how messages are printed.  They may be set at the
command line, in options files, or locally in syntactic comments.  The linelen
and limit flags may be preceded by + or - with the same meaning; for the other
flags, + turns on the describe printing and - turns it off.  The box to the
left of each flag gives its default value.<p>

<a name="flag-showcolumn"><tt>showcolumn</tt>
<blockquote>
Show column number where error is found.  Default: <tt>+</tt>
</blockquote>
<a name="flag-showfunc"><tt>showfunc</tt>
<blockquote>
Show name of function (or macro) definition containing error.  The function
name is printed once before the first message detected in that function.
Default: <tt>+</tt><p>
</blockquote>
<a name="flag-showallconjs"><tt>showallconjs</tt>
<blockquote>
Show all possible alternate types (see <a
href="sec8.html#sec-8.2.2">Section 8.2.2</a>).  Default: <tt>-</tt>
</blockquote>
<a name="flag-parenfileformat"><tt>paren-file-format</tt>
<blockquote>
Use <em>file</em>(<em>line</em>) format in messages.
</blockquote>
<a name="flag-hints"><tt>hints</tt>
<blockquote>
Provide hints describing an error and how a message may be suppressed for the
first error reported in each error class. Default: <tt>+</tt>
</blockquote>
<a name="flag-forcehints"><tt>forcehints</tt>
<blockquote>
Provide hints for all errors reported, even if the hint has already been
displayed for the same error class.  Default: <tt>-</tt>
</blockquote>
<a name="flag-linelen">
<tt>linelen</tt> <i>&lt;number&gt;</i>
<blockquote>
Set length of maximum message line to <i>&lt;number&gt;</i> characters.  LCLint
will split messages longer than <i>&lt;number&gt;</i> characters long into
multiple lines.  Default: <tt>80</tt>
</blockquote>
<a name="_Toc349905938"><p>
<b>Mode Selector Flags</a></a></b><p>
<b></b>Mode selects flags set the mode checking flags to predefined values.
They provide a quick coarse-grain way of controlling what classes of errors are
reported. Specific checking flags may be set after a mode flag to override the
mode settings.  Mode flags may be used locally, however the mode settings will
override specific command line flag settings.  A warning is produced if a mode
flag is used after a mode checking flag has been set. <p>
<p>
These are brief descriptions to give a general idea of what each mode does.  To
see the complete flag settings in each mode, use lclint -help modes. A mode
flag has the same effect when used with either + or -.<p>
<a name="flag-weak"><tt>weak</tt>
<blockquote>
Weak checking, intended for typical unannotated C code.  No modifies checking,
macro checking, rep exposure, or clean interface checking is done.  Return
values of type int may be ignored.  The types bool, int, char and user-defined
enum types are all equivalent.  Old style declarations are unreported. 
</blockquote>
<a name="flag-standard"><tt>standard</tt>
<blockquote>
The default mode.  All checking done by weak, plus modifies checking, global
alias checking, use all parameters, using released storage, ignored return
values or any type, macro checking, unreachable code, infinite loops, and
fall-through cases.  The types bool, int and char are distinct.  Old style
declarations are reported.
</blockquote>
 <a name="flag-checks"><tt>checks</tt>
<blockquote>
Moderately strict checking.  All checking done by standard, plus must
modification checking, rep exposure, return alias, memory management and
complete interfaces.
</blockquote>
<a name="flag-strict"><tt>strict</tt>
<blockquote>
Absurdly strict checking.  All checking done by checks, plus modifications and
global variables used in unspecified functions, strict standard library, and
strict typing of C operators. A special reward will be presented to the first
person to produce a real program that produces no errors with strict checking.
</blockquote>
<a name="_Ref344798116"><a name="_Toc349905939">
<b>Checking Flags</a></b><p>
<b></b>These flags control checking done by LCLint.  They may be set locally
using syntactic comments, from the command line, or in an options file.  Some
flags directly control whether a certain class of message is reported.
Preceding the flag by + turns reporting on, and preceding the flag by - turns
reporting off.  Other flags control checking less directly by determining
default values (what annotations are implicit), making types equivalent (to
prevent certain type errors), controlling representation access, etc.  For
these flags, the effect of + is described, and the effect of - is the opposite
(or explicitly explained if there is no clear opposite).  The organization of
this section mirrors Sections 3-10.
<a name="_Toc349905940"><p>
<b><i>Key</a></i></b><p>
<b><i></i></b>Under each flag name is a flag descriptor encoding the
what kind of flag it is and its default value.  The descriptions are:
<p>
<a name="plain-key">
plain: <tt>-</tt>
<blockquote>
A plain flag.  The value after the colon gives the default setting
(e.g., this flag is off.)  
</blockquote>
<a name="mode-key">
m: <tt>--++</tt> 
<blockquote>
A mode checking flag.  The value of the flag is set by the mode selector.  The
four signs give the setting in the weak, standard, checks and strict modes.
(e.g., this flag is off in the weak and standard modes, and on in the checks
and strict modes.) 
</blockquote>
<a name="shortcut-key">
shortcut
<blockquote>
A shortcut flag.  This flag sets other flags, so it has no default value.
</blockquote>
<a name="_Toc349905941"><p>
<b><i>Types</a></i></b><p>
<b><i></i>Abstract Types</b><p>
<a href="appC.html#plain-key">plain</a>: <tt>-</tt><br>
<a name="flag-impabstract"><tt>impabstract</tt><p>
Implicit abstract annotation for type declarations that do not use concrete.<p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-mutrep"><tt>mutrep</tt><p>
Representation of mutable type has sharing semantics.<p>
<b>Access </b>(<a href="sec3.html#sec-3.1">Section 3.1</a>)<b></b><p>
<b></b>
<a href="appC.html#plain-key">plain</a>: <tt>+</tt><br>
<a name="flag-accessmodule"><tt>accessmodule</tt><p>
An abstract type defined in <i>M</i><tt>.h</tt> (or specified in <i>M</i><tt>.lcl</tt>) is
accessible in <i>M</i><tt>.c</tt>.
<p>
<a href="appC.html#plain-key">plain</a>: <tt>+</tt><br>
<a name="flag-accessfile"><tt>accessfile</tt><p>
An abstract type named <i>type</i> is accessible in files named
<i>type</i>.<i>&lt;extenstion&gt;</i>.
<p>
<a href="appC.html#plain-key">plain</a>: <tt>+</tt><br>
<a name="flag-accessczech"><tt>accessczech</tt><p>
An abstract type named <i>type</i> may be accessible in a function named
<i>type</i>_<i>name</i>. (see <a href="sec9.html#sec-9.1.1">Section 9.1.1</a>)
<p><a href="appC.html#plain-key">plain</a>: <tt>-</tt><br>
<a name="flag-accessslovak"><tt>accessslovak</tt><p>
An abstract type named <i>type</i> may be accessible in a function named
<i>typeName</i>.  (see <A href="sec9.html#sec-9.1.2">Section.9.1.2</a>)
<p>
<a href="appC.html#plain-key">plain</a>: <tt>-</tt><br>
<a name="flag-accessczechoslovak"><tt>accessczechoslovak</tt><p>
An abstract type named <i>type</i> may be accessible in a function named
<i>type</i>_<i>name</i> or <i>typeName</i>.  (see <a href="sec9.html#sec-9.1.3">Section 9.1.3</a>)<p>
<a href="appC.html#shortcut-key">shortcut</a><br>
<a name="flag-accessall"><tt>accessall</tt><p>
Sets accessmodule, accessfile and accessczech.<p>
<b>Boolean Types </b>(<a href="sec3.html#sec-3.3">Section 3.3</a>)<b></b><p>
<b></b>These flags control the type name used to represent booleans, and
whether the boolean type is abstract.<p>

<p>
<a href="appC.html#plain-key">plain</a>: <tt>-</tt><br>
<a name="flag-bool"><tt>bool</tt><p>
Boolean type is an abstract type.<p>
<a href="appC.html#plain-key">plain</a>: <em>unset</em><br>
<a name="flag-booltype">
booltype <i>&lt;name</i><i>&gt;</i> <p>
Set name of boolean type to <i>&lt;name&gt;</i>.<p>
<a href="appC.html#plain-key">plain</a>: <tt>FALSE</tt><br>
<a name="flag-boolfalse">
<tt>boolfalse </tt><i>&lt;name</i><i>&gt;</i><p>
Set name of boolean false to <i>&lt;name&gt;</i>.<p>
<a href="appC.html#plain-key">plain</a>: <tt>TRUE</tt><br>
<a name="flag-booltrue">
<tt>booltrue </tt><i>&lt;name</i><i>&gt;</i><p>
Set name of boolean true to <i>&lt;name&gt;</i>.
<a name="_Ref344871224"><p>
<b>Predicates</b><p>
<b></b><a href="appC.html#mode-key">m: </a><tt>--++</tt><br>
<a name="flag-predboolptr"><tt>predboolptr</tt><p>
Type of condition test is a pointer.<p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-predboolint"><tt>predboolint</tt><p>
Type of condition test is an integral type.<p>
<a href="appC.html#mode-key">m: </a><tt>++++</tt><br>
<a name="flag-predboolothers"><tt>predboolothers</tt><p>
Type of condition test is not a boolean, pointer or integral type.<p>
<a href="appC.html#shortcut-key">shortcut</a><br>
<a name="flag-predbool"><tt>predbool</tt><p>
Sets predboolint, predboolptr and preboolothers.
<p>
<a href="appC.html#plain-key">plain</a>: <tt>+</tt><br>
<a name="flag-predassign"><tt>predassign</tt><p>
The condition test is an assignment expression. If an assignment is intended,
add an extra      parentheses nesting (e.g., <tt>if ((a = b)) ...</tt>).<p>
<b>Primitive Operations</b><p>
<b></b><a href="appC.html#mode-key">m: </a><tt>---+</tt><br>
<a name="flag-ptrarith"><tt>ptrarith</tt><p>
Arithmetic involving pointer and integer.<p>
<a href="appC.html#mode-key">m: </a><tt>++--</tt><br>
<a name="flag-ptrnegate"><tt>ptrnegate</tt><p>
Allow the operand of the ! operator to be a pointer.<p>

<a href="appC.html#mode-key">m: </a><tt>---+</tt><br>
<a name="flag-bitwisesigned"><tt>bitwisesigned</tt><p>
An operand to a bitwise operator is not an unsigned values.  This may
have unexpected results depending on the signed representations.
<p>

<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-shiftsigned"><tt>shiftsigned</tt><p>
An operand to a shift operator is not unsigned values.  This may have
unexpected results depending on the signed representations.
<p>

<a href="appC.html#mode-key">m: </a><tt>---+</tt><br>
<a name="flag-strictops"><tt>strictops</tt><p>
Primitive operation does not type check strictly.<p>
<a href="appC.html#mode-key">m: </a><tt>---+</tt><br>
<a name="flag-sizeoftype"><tt>sizeoftype</tt><p>
Operand of sizeof operator is a type.  (Safer to use expression, int *x =
sizeof (*x); instead of sizeof (int).)<p>
<p>
<b>Format Codes</b><p>
<b></b><p>
<a href="appC.html#plain-key">plain</a>: <tt>+</tt><br>
<a name="flag-formatcode"><tt>formatcode</tt><p>
Invalid format code in format string for printflike or scanflike function.
<p>
<a href="appC.html#plain-key">plain</a>: <tt>+</tt><br>
<a name="flag-formattype"><tt>formattype</tt><p>
Type-mismatch in parameter corresponding to format code in a printflike or
scanflike function.<p>
<b>Main</b><p>
<b></b><p>
<a href="appC.html#plain-key">plain</a>: <tt>+</tt><br>
<a name="flag-maintype"><tt>maintype</tt><p>
Type of main does not match expected type (function returning an int, taking no
parameters or two parameters of type int and char **.)<p>
<b>Comparisons</b><p>
<a name="boolcompare">
<b></b><a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<tt>boolcompare</tt></a></a><p>
Comparison between boolean values.  This is dangerous since there may be
multiple TRUE values if any non-zero value is interpreted at TRUE.<p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-realcompare"><tt>realcompare</tt><p>
Comparison involving float or double values.  This is dangerous since it may
produce unexpected results because floating point representations are
inexact.<p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-ptrcompare"><tt>ptrcompare</tt><p>
Comparison between pointer and number.<p>
<b>Type Equivalence</a>
<a name="globs"></a></b><p>
<b></b><a href="appC.html#mode-key">m: </a><tt>+---</tt><br>
<a name="flag-voidabstract"><tt>voidabstract</tt><p>
Allow <tt>void *</tt> to match pointers to abstract types.  (Casting a pointer to an
abstract type to a pointer to <tt>void</tt> is okay if <a href="appC.html#flag-voidabstract"><tt>+voidabstract</tt></a> is set.)<p>
<a href="appC.html#plain-key">plain</a>: <tt>+</tt><br>
<a name="flag-castfcnptr">
<tt>castfcnptr</tt>
<p>
 A pointer to a function is cast to (or used as) a pointer to void (or
vice versa).
<p>
<a href="appC.html#mode-key">m: </a><tt>+---</tt><br>
<a name="flag-forwarddecl"><tt>forwarddecl</tt><p>
Forward declarations of pointers to abstract representation match abstract
type.<p>

<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-imptype"><tt>imptype</tt><p>
A variable declaration has no explicit type.  The type is
implicitly int.
<p>
<a href="appC.html#plain-key">m: </a><tt>+</tt><br>
<a name="flag-incompletetype"><tt>incompletetype</tt><p>
A formal parameter is declared with an incomplete type (e.g.,
<tt>int[][]</tt>).
<p>
<a href="appC.html#mode-key">m: </a><tt>+---</tt><br>
<a name="flag-charindex"><tt>charindex</tt><p>
Allow char to index arrays.<p>
<a href="appC.html#mode-key">m: </a><tt>----</tt><br>
<a name="flag-enumindex"><tt>enumindex</tt><p>
Allow members of enum type  to index arrays.<p>
<a href="appC.html#mode-key">m: </a><tt>+---</tt><br>
<a name="flag-boolint"><tt>boolint</tt><p>
Make bool and int types equivalent.  (No type errors are reported when a boolean
is used where an integral type is expected and vice versa.) <p>
<a href="appC.html#mode-key">m: </a><tt>+---</tt><br>
<a name="flag-charint"><tt>charint</tt><p>
Make <tt>char</tt> and <tt>int</tt> types equivalent.<p>
<a href="appC.html#mode-key">m: </a><tt>++--</tt><br>
<a name="flag-enumint"><tt>enumint</tt><p>
Make <tt>enum</tt> and <tt>int</tt> types equivalent.<p>
<a href="appC.html#mode-key">m: </a><tt>+---</tt><br>
<a name="flag-floatdouble"><tt>floatdouble</tt><p>
Make <tt>float</tt> and <tt>double</tt> types equivalent.<p>
<a href="appC.html#mode-key">m: </a><tt>----</tt><br>
<a name="flag-ignorequals"><tt>ignorequals</tt><p>
Ignore type qualifiers (<tt>long</tt>, <tt>short</tt>, <tt>unsigned</tt>).<p>
<a href="appC.html#mode-key">m: </a><tt>++--</tt><br>
<a name="flag-relaxquals"><tt>relaxquals</tt><p>
Report qualifier mismatches only if dangerous (information may be lost since a
larger type is assigned to (or passed as) a smaller one or a comparison uses
signed and unsigned values.)<p>
<a href="appC.html#mode-key">m: </a><tt>----</tt><br>
<a name="flag-ignoresigns"><tt>ignoresigns</tt><p>
Ignore signs in type comparisons (<tt>unsigned</tt> matches <tt>signed</tt>).<p>
<p>
<a href="appC.html#plain-key">plain</a>: <tt>-</tt><br>
<a name="flag-longintegral">
<tt>longintegral</tt>
<p>
Allow <tt>long</tt> type to match an arbitrary integral type (e.g., <tt>size_t</tt>).
<p>
<a href="appC.html#mode-key">m: </a><tt>+---</tt><br>
<a name="flag-longunsignedintegral">
<tt>longunsignedintegral</tt>
<p>
Allow <tt>long unsigned</tt> type to match an arbitrary integral type (e.g.,
<tt>dev_t</tt>).
<p>
<a href="appC.html#plain-key">plain</a>: <tt>-</tt><br>
<a name="flag-matchanyintegral">
<tt>matchanyintegral</tt>
<p>
Allow any integral type to match an arbitrary integral type (e.g.,
<tt>dev_t</tt>).<p>
<p>

<a href="appC.html#mode-key">m: </a><tt>+---</tt><br>
<a name="flag-longunsignedunsignedintegral">
<tt>long-unsigned-unsigned-integral</tt>
<p>
Allow unsigned long type to match an arbitrary unsigned integral type
(e.g., <tt>size_t</tt>).
<p>
<a href="appC.html#mode-key">m: </a><tt>+---</tt><br>
<a name="flag-longsignedintegral">
<tt>long-signed-integral</tt>
<p>
Allow long type to match an arbitrary signed integral type (e.g.,
<tt>ssize_t</tt>).
</p>
<a href="appC.html#mode-key">m: </a><tt>++++</tt><br>
<a name="flag-numliteral"><tt>num-literal</tt><p>
Integer literals can be used as floats.<p>
<a href="appC.html#plain-key">plain</a>: <tt>+</tt><br>
<a name="flag-charintliteral">
<tt>char-int-literal</tt>
<p>A character constant may be used as an <tt>int</tt>.<p>
<a href="appC.html#mode-key">m: </a><tt>++++</tt><br>
<a name="flag-zeroptr"><tt>zeroptr</tt><p>
Literal <tt>0</tt> may be used as a pointer.<p>
<a href="appC.html#mode-key">m: </a><tt>----</tt><br>
<a name="flag-relaxtypes"><tt>relaxtypes</tt><p>
Allow all numeric types to match.
<a name="_Toc349905942"><p>
<p>
<a href="appC.html#plain-key">plain: </a><tt>+</tt><br>
<a name="flag-fullinitblock"><tt>fullinitblock</tt><p>
Initializer does not set every field in the structure.
<p>
<b><i>Function Interfaces</a></i></b><p>
<b><i></i>Modification </b>(<a href="sec4.html#sec-4.1">Section 4.1</a>)<b></b><p>
<b></b><a href="appC.html#mode-key">m: </a><tt>++++</tt><br>
<a name="flag-modifies"><tt>modifies</tt><p>
Undocumented modification of caller-visible state.  Without <a href="appC.html#flag-moduncon"><tt>+moduncon</tt></a>,
modification errors are only reported in the definitions of functions declared
with a modifies clause (or specified).<p>
<a href="appC.html#mode-key">m: </a><tt>--++</tt><br>
<a name="flag-mustmod"><tt>mustmod</tt><p>
Documented modification is not detected.  An object listed in the modifies
clause for a function, is not modified by the implementation.<p>
<a href="appC.html#shortcut-key">shortcut</a><br>
<a name="flag-moduncon"><tt>mod-uncon</tt><p>
Report modification errors in functions declared without a modifies
clause.(Sets <a href="appC.html#flag-modnomods"><tt>modnomods</tt></a>, <a href="appC.html#flag-modglobsnomods"><tt>mod-globs-nomods</tt></a> and <a href="appC.html#flag-modstrictglobsnomods"><tt>mod-strict-globs-nomods</tt></a>.)<p>
<a href="appC.html#mode-key">m: </a><tt>---+</tt><br>
<a name="flag-modnomods"><tt>mod-nomods</tt><p>
Report modification errors (not involving global variables) in functions
declared without a modifies clause.<p>
<a href="appC.html#mode-key">m: </a><tt>---+</tt><br>
<a name="flag-modunconnomods"><tt>mod-uncon-nomods</tt><p>
An unconstrained function is called in a function body where  modifications are
checked.  Since the unconstrained function may modify anything, there may be
undetected modifications in the checked function.<p>
<a href="appC.html#mode-key">m: </a><tt>---+</tt><br>
<a name="flag-modinternalstrict"><tt>mod-internal-strict</tt><p>
A function that modifies <tt>internalState</tt> is called from a function that does not
list <tt>internalState</tt> in its modifies clause.<p>
<a href="appC.html#mode-key">m: </a><tt>---+</tt><br>
<a name="flag-modfilesys"><tt>mod-file-sys</tt><p>

A function modifies the file system but does not list fileSystem in its
modifies clause.  <p>

<b>Global Variables<i> </i></b>(<a href="sec4.html#sec-4.2">Section 4.2</a>)<i>
<a name="globflags"></a></i><p>
<i></i>Errors involving the use and modification of global and file static
variables are reported depending on flag settings, annotations where the global
variable is declared, and whether or not the function where the global is used
was declared with a globals clause.<p>
<a href="appC.html#mode-key">m: </a><tt>++++</tt><br>
<a name="flag-globs"><tt>globs</tt><p>
Undocumented use of a checked global variable in a function with a globals
list.<p>
<a href="appC.html#mode-key">m: </a><tt>++++</tt><br>
<a name="flag-globuse"><tt>globuse</tt><p>
A global listed in the globals list is not used in the implementation.<p>
<a href="appC.html#mode-key">m: </a><tt>---+</tt><br>
<a name="flag-globnoglobs"><tt>globnoglobs</tt><p>
Use of a checked global in a function with no globals list.<p>
<a href="appC.html#mode-key">m: </a><tt>---+</tt><br>
<a name="flag-internalglobs"><tt>internalglobs</tt><p>
Undocumented use of internal state (should have <tt>globals internalState</tt>).<p>
<a href="appC.html#mode-key">m: </a><tt>---+</tt><br>
<a name="flag-internalglobsnoglobs"><tt>internalglobsnoglobs</tt><p>
        Use of internal state in function with no globals list.<p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-globstate"><tt>globstate</tt><p>
A function returns with global in inconsistent state (null or undefined)<p>
<a href="appC.html#mode-key">m: </a><tt>--++</tt><br>
<a name="flag-allglobs"><tt>allglobs</tt><p>
Report use and modification errors for globals not annotated with unchecked.<p>
<a href="appC.html#mode-key">m: </a><tt>++++</tt><br>
<a name="flag-checkstrictglobs"><tt>checkstrictglobs</tt><p>
Report use and modification errors for checkedstrict globals.<p>
<i>Modification of Global Variables</i><p>
<i></i><a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-modglobs"><tt>modglobs</tt><p>
Undocumented modification of a checked global variable. <p>
<a href="appC.html#mode-key">m: </a><tt>---+</tt><br>
<a name="flag-modglobsunchecked"><tt>modglobsunchecked</tt><p>
Undocumented modification of an unchecked global variable.<p>
<a href="appC.html#mode-key">m: </a><tt>---+</tt><br>
<a name="flag-modglobsnomods"><tt>modglobsnomods</tt><p>
Undocumented modification of a checked global variable in a function with no
modifies clause. <p>
<a href="appC.html#mode-key">m: </a><tt>---+</tt><br>
<a name="flag-modstrictglobsnomods"><tt>modstrictglobsnomods</tt><p>
Undocumented modification of a checkedstrict global variable in a function
declared with no modifies clause.<p>
<i>Globals Lists and Modifies Clauses</i><p>
<i></i><a href="appC.html#mode-key">m: </a><tt>---+</tt><br>
<a name="flag-warnmissingglobs"><tt>warnmissingglobs</tt><p>
Global variable used in modifies clause is not listed in globals list.  (The
global is added to the globals list.)<p>
<a href="appC.html#mode-key">m: </a><tt>---+</tt><br>
<a name="flag-warnmissingglobsnoglobs"><tt>warnmissingglobsnoglobs</tt><p>
Global variable used in modifies clause of a function with no globals list.<p>
<a href="appC.html#mode-key">m: </a><tt>--++</tt><br>
<a name="flag-globsimpmodsnothing"><tt>globsimpmodsnothing</tt><p>
A function declared with a globals list but no modifies clause is assumed to
modify nothing.<p>
<a href="appC.html#mode-key">m: </a><tt>----</tt><br>
<a name="flag-modsimpnoglobs"><tt>modsimpnoglobs</tt><p>
A function declared with a modifies clause but no globals list is assumed to
use no globals.<p>
<i>Implicit Checking Qualifiers</i><p>
<i></i><a href="appC.html#mode-key">m: </a><tt>----</tt><br>
<a name="flag-impcheckedglobs"><tt>impcheckedglobs</tt><p>
Implicit checked qualifier on global variables with no checking annotation.<p>
<a href="appC.html#mode-key">m: </a><tt>----</tt><br>
<a name="flag-impcheckedstatics"><tt>impcheckedstatics</tt><p>
Implicit checked qualifier file static scope variables with no checking
annotation. <p>
<a href="appC.html#mode-key">m: </a><tt>----</tt><br>
<a name="flag-impcheckmodglobs"><tt>impcheckmodglobs</tt><p>
Implicit checkmod qualifier on global variables with no checking annotation.<p>
<a href="appC.html#mode-key">m: </a><tt>----</tt><br>
<a name="flag-impcheckmodstatics"><tt>impcheckmodstatics</tt><p>
Implicit checkmod qualifier file static scope variables with no checking
annotation.<p>
<a href="appC.html#mode-key">m: </a><tt>---+</tt><br>
<a name="flag-impcheckedstrictglobs"><tt>impcheckedstrictglobs</tt><p>
Implicit checked qualifier on global variables with no checking annotation.<p>
<a href="appC.html#mode-key">m: </a><tt>---+</tt><br>
<a name="flag-impcheckedstrictstatics"><tt>impcheckedstrictstatics</tt><p>
Implicit checked qualifier file static scope variables with no checking
annotation.<p>
<a href="appC.html#mode-key">m: </a><tt>--++</tt><br>
<a name="flag-impcheckmodinternals"><tt>impcheckmodinternals</tt><p>
Implicit checkmod qualifier on function scope static variables with no checking
annotation.<p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-impglobsweak"><tt>impglobsweak</tt><p>
<i>Global Aliasing</i><p>
<i></i><a href="appC.html#shortcut-key">shortcut</a><br>
<a name="flag-globalias"><tt>globalias</tt><p>
Function returns with global aliasing external state (sets
<a href="appC.html#flag-checkstrictglobalias"><tt>checkstrictglobalias</tt></a>, <a href="appC.html#flag-checkedglobalias"><tt>checkedglobalias</tt></a>, <a href="appC.html#flag-checkmodglobalias"><tt>checkmodglobalias</tt></a> and
<a href="appC.html#flag-uncheckedglobalias"><tt>uncheckedglobalias</tt></a>).<p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-checkstrictglobalias"><tt>checkstrictglobalias</tt><p>
Function returns with a checkstrict global aliasing external state.<p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-checkedglobalias"><tt>checkedglobalias</tt><p>
Function returns with a checked global aliasing external state.<p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-checkmodglobalias"><tt>checkmodglobalias</tt><p>
Function returns with a checkmod global aliasing external state.<p>
<a href="appC.html#mode-key">m: </a><tt>--++</tt><br>
<a name="flag-uncheckedglobalias"><tt>uncheckedglobalias</tt><p>
Function returns with an unchecked global aliasing external state.<p>
<b>Declaration Consistency </b><i>(<a href="sec4.html#sec-4.3">Section 4.3</a>)</i><p>
<i></i><a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-incondefs"><tt>incondefs</tt><p>
Identifier redeclared or redefined with inconsistent type.<p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-incondefslib"><tt>incondefslib</tt><p>
Identifier defined in a library is redefined with inconsistent <a name="flag-type"><tt>type</tt><p>
<a href="appC.html#mode-key">m: </a><tt>----</tt><br>
<a name="flag-overload"><tt>overload</tt><p>
Standard library function overloaded.<p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-matchfields"><tt>matchfields</tt><p>
A struct or enum type is redefined with inconsistent fields or members.
<a name="_Toc349905943"><p>
<b><i>Memory Management</a></i></b><p>
<b><i></i></b>Reporting of memory management errors is controlled by flags
setting checking and implicit annotations and code annotations.  <p>
<b>Deallocation Errors </b>(<a href="sec5.html#sec-5.2">Section 5.2</a>)<b><i></i></b><p>
<b><i></i></b><a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-usereleased"><tt>usereleased</tt><p>
Storage used after it may have been released.<p>
<a href="appC.html#mode-key">m: </a><tt>---+</tt><br>
<a name="flag-strictusereleased"><tt>strictusereleased</tt><p>
An array element used after it may have been released.<p>
<b>Inconsistent Branches</b><p>
<b></b><a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-branchstate"><tt>branchstate</tt><p>
Storage has inconsistent states of alternate paths through a branch (e.g., it
is released in the true branch of an if-statement, but there is no else
branch.)<p>
<a href="appC.html#mode-key">m: </a><tt>---+</tt><br>
<a name="flag-strictbranchstate"><tt>strictbranchstate</tt><p>
Storage through array fetch has inconsistent states of alternate paths through
a branch.  Since array elements are not checked accurately, this may lead to
spurious errors.<p>
<a href="appC.html#mode-key">m: </a><tt>--++</tt><br>
<a name="flag-deparrays"><tt>deparrays</tt><p>
Treat array elements as dependent storage.  Checking of array elements cannot
be done accurately by LCLint.  If deparrays is not set, array elements are
assumed to be independent, so code that releases the same element more than
once will produce no error.  If deparrays is set, array elements are assumed to
be dependent, so code that releases the same element more that once will
produce an error, but so will code that releases different elements correctly
will produce a spurious error.<p>
<b>Memory Leaks</b><p>
<b></b><a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-mustfree"><tt>mustfree</tt><p>
Allocated storage was not released before return or scope exit  Errors are
reported for only, fresh or owned storage.<p>
<p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-compdestroy"><tt>compdestroy</tt><p>
All only references derivable from out only parameter of type void * must be
released.  (This is the type of the parameter to free, but may also be used for
user-defined deallocation functions.)<p>
<a href="appC.html#mode-key">m: </a><tt>---+</tt><br>
<a name="flag-strictdestroy"><tt>strictdestroy</tt><p>
Report complete destruction errors for array elements that may have been
released.  (If strictdestroy is not set, LCLint will assume that if any array
element was released, the entire array was correctly released.)<p>
<p>
<b>Transfer Errors </b><p>
<b></b>A transfer error is reported when storage is transferred (by an
assignment, passing a parameter, or returning) in a way that is inconsistent.
<p>
<a href="appC.html#shortcut-key">shortcut</a><br>
<a name="flag-memtrans"><tt>memtrans</tt><p>
Sets all memory transfer errors flags.<p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-onlytrans"><tt>onlytrans</tt><p>
Only storage transferred to non-only reference (memory leak).<p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-ownedtrans"><tt>ownedtrans</tt><p>
Owned storage transferred to non-owned reference (memory leak).<p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-freshtrans"><tt>freshtrans</tt><p>
Newly-allocated storage transferred to non-only reference (memory leak).<p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-sharedtrans"><tt>sharedtrans</tt><p>
Shared storage transferred to non-shared reference.<p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-dependenttrans"><tt>dependenttrans</tt><p>
Inconsistent dependent transfer. Dependent storage is transferred to a
non-dependent reference.<p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-temptrans"><tt>temptrans</tt><p>
Temporary storage (associated with a temp formal parameter) is transferred to a
non-temporary reference.  The storage may be released or new aliases created.<p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-kepttrans"><tt>kepttrans</tt><p>
Kept storage transferred to non-temporary reference.<p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-keeptrans"><tt>keeptrans</tt><p>
Keep storage is transferred in a way that may add a new alias to it, or release
it.<p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-refcounttrans"><tt>refcounttrans</tt><p>
Reference counted storage is transferred in an inconsistent way.<p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-newreftrans"><tt>newreftrans</tt><p>
A new reference transferred to a reference counted reference (reference count
is not set correctly).<p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-immediatetrans"><tt>immediatetrans</tt><p>
An immediate address (result of &amp;) is transferred inconsistently.<p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-statictrans"><tt>statictrans</tt><p>
Static storage is transferred in an inconsistent way.<p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-exposetrans"><tt>exposetrans</tt><p>
Inconsistent exposure transfer. Exposed storage is transferred to a
non-exposed, non-observer reference.<p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-observertrans"><tt>observertrans</tt><p>
Inconsistent observer transfer. Observer storage is transferred to a
non-observer reference.<p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-unqualifiedtrans"><tt>unqualifiedtrans</tt><p>
Unqualified storage is transferred in an inconsistent way.<p>

<i>Initializers</i><p>
<a href="appC.html#mode-key">m:</a> <tt>--++</tt><br>
<a name="onlyunqglobaltrans">
<tt>onlyunqglobaltrans</tt>
<p>

Only storage transferred to an unqualified global or static reference.
This may lead to a memory leak, since the new reference is not
necessarily released.
<p>
<a href="appC.html#mode-key">m:</a> <tt>--++</tt></a><br>
<a name="staticinittrans">
<tt>staticinittrans</tt>
<p>
Static storage is used as an initial value in an inconsistent way.
<p>
<a href="appC.html#mode-key">m:</a> <tt>--++</tt><br>
<a name="unqualifiedinittrans">
<tt>unqualifiedinittrans</tt>
<p>
Unqualified storage is used as an initial value in an inconsistent way.
<p>

<i>Derived Storage</i><p>
<i></i><a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-compmempass"><tt>compmempass</tt><p>
Storage derivable from a parameter does not match the alias kind expected for
the formal parameter.<p>
<i>Stack References</i><p>
<i></i><a href="appC.html#mode-key">m: </a><tt>++++</tt><br>
<a name="flag-stackref"><tt>stackref</tt><p>
A stack reference is pointed to by an external reference when the function
returns.  Since the call frame will be destroyed when the function returns the
return value will point to dead storage. (<a href="sec5.html#sec-5.2.6">Section 5.2.6</a>)<p>
<b>Implicit Memory Annotations </b>(<a href="sec5.html#sec-5.3">Section 5.3</a>)<i></i><p>
<i></i><p>
<a href="appC.html#plain-key">plain</a>: <tt>+</tt><br>
<a name="flag-globimponly"><tt>globimponly</tt><p>
Assume unannotated global storage is only.
<p>
<a href="appC.html#plain-key">plain</a>: <tt>+</tt><br>
<a name="flag-paramimptemp"><tt>paramimptemp</tt><p>
Assume unannotated parameter is temp.
<p>
<a href="appC.html#plain-key">plain</a>: <tt>+</tt><br>
<a name="flag-retimponly"><tt>retimponly</tt><p>
Assume unannotated returned storage is only.
<p>
<a href="appC.html#plain-key">plain</a>: <tt>+</tt><br>
<a name="flag-structimponly"><tt>structimponly</tt><p>
Assume unannotated structure or union field is only.<p>
<a href="appC.html#shortcut-key">shortcut</a><br>
<a name="flag-codeimponly"><tt>codeimponly</tt><p>
Sets globimponly, retimponly and structimponly.<p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-memimp"><tt>memimp</tt><p>
Report memory errors for unqualified storage.<p>
<a href="appC.html#mode-key">m: </a><tt>----</tt><br>
<a name="flag-passunknown"><tt>passunknown</tt><p>
Passing a value as an unannotated parameter clears its annotation.  This will
prevent many spurious errors from being report for unannotated programs, but
eliminates the possibility of detecting many errors.
<a name="_Toc349905944"><p>
<b><i>Sharing</a></i></b><p>
<b><i></i>Aliasing </b>(<a href="sec6.html">Section 6</a>)<i></i><p>
<i></i><a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-aliasunique"><tt>aliasunique</tt><p>
A actual parameter that is passed as a unique formal parameter is aliased by
another parameter or global variable.<p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-mayaliasunique"><tt>mayaliasunique</tt><p>
A actual parameter that is passed as a unique formal parameter may be aliased
by another parameter or global variable.<p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-mustnotalias"><tt>mustnotalias</tt><p>
An alias has been added to a temp-qualifier parameter or global that is visible
externally when the function returns.  <p>
<a href="appC.html#mode-key">m: </a><tt>--++</tt><br>
<a name="flag-retalias"><tt>retalias</tt><p>
A function returns an alias to parameter or global.<p>
<b>Exposure </b>(<a href="sec6.html#sec-6.2">Section 6.2</a>)<b></b><p>
<b></b><a href="appC.html#shortcut-key">shortcut</a><br>
<a name="flag-repexpose"><tt>repexpose</tt><p>
The internal representation of an abstract type is visible to the caller.  This
means clients may have access to a pointer into the abstract representation.
(Sets assignexpose, retexpose, and castexpose.)<p>
<a href="appC.html#mode-key">m: </a><tt>--++</tt><br>
<a name="flag-assignexpose"><tt>assignexpose</tt><p>
Abstract representation is exposed by an assignment or passed parameter.<p>
<a href="appC.html#mode-key">m: </a><tt>--++</tt><br>
<a name="flag-castexpose"><tt>castexpose</tt><p>
Abstract representation is exposed through a cast.<p>
<a href="appC.html#mode-key">m: </a><tt>--++</tt><br>
<a name="flag-retexpose"><tt>retexpose</tt><p>
Abstract representation is exposed by a return value.<p>
<i>Observer Modifications</i><p>
<i></i><p>
<a href="appC.html#plain-key">plain</a>: <tt>+</tt><br>
<a name="flag-modobserver"><tt>modobserver</tt><p>
Possible modification of observer storage.<p>
<a href="appC.html#mode-key">m: </a><tt>---+</tt><br>
<a name="flag-modobserveruncon"><tt>modobserveruncon</tt><p>
Storage declared with observer may be modified through a call to an
unconstrained function.<p>
<i>String Literals  </i>(<a href="sec6.html#sec-6.2.1">Section 6.2.1</a>)<i> </i><p>
<i></i><a href="appC.html#mode-key">m: </a><tt>--++</tt><br>
<a name="flag-readonlytrans"><tt>readonlytrans</tt><p>
Report memory transfer errors for initializations to read-only string literals
<p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-readonlystrings"><tt>readonlystrings</tt><p>
String literals are read-only (ANSI semantics).  An error is reported if a
string literal may be modified or released.
<a name="_Toc349905945"><p>
<b><i>Use Before Definition </i></b>(<a href="sec7.html#sec-7.1">Section 7.1</a></a>)<i></i><p>
<i></i><a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-usedef"><tt>usedef</tt><p>
The value of a location that may not be initialized on some execution path is
used.<p>
<a href="appC.html#mode-key">m: </a><tt>----</tt><br>
<a name="flag-impouts"><tt>impouts</tt><p>
Allow unannotated pointer parameters to functions to be implicit out
parameters.<p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-compdef"><tt>compdef</tt><p>
Storage derivable from a parameter, return value or global variable is not
completely defined.<p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-uniondef"><tt>uniondef</tt><p>
No field of a union is defined.  (No error is reported if at least one union
field is defined.)<p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-mustdefine"><tt>mustdefine</tt><p>
Parameter declared with out is not defined before return or scope exit.
<a name="_Toc349905946"><p>
<b><i>Null Pointers </i></b>(<a href="sec7.html#sec-7.2">Section 7.2</a></a>)<b><i></i></b><p>

<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-nullderef"><tt>nullderef</tt><p>
A possibly null pointer may be dereferenced.
<p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-nullpass"><tt>nullpass</tt><p>
A possibly null pointer is passed as a parameter not annotated with <tt>null</tt>.

<p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-nullret"><tt>nullret</tt><p>
A possibly null pointer is return as a result not annotated with
<tt>null</tt>.
<p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-nullstate"><tt>nullstate</tt><p>
Possibly null pointer reachable from a reference with no null
annotation.
<p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-nullassign"><tt>nullassign</tt><p>
<p>
Inconsistent assignment or initialization involving null pointer.
<p>
<a href="appC.html#shortcut-key">shortcut</a><br>
<a name="flag-null"><tt>null</tt><p>
Sets all null checking flags.

<a name="_Toc349905947"><p>
<b><i>Macros </i></b>(<a href="sec8.html">Section 8</a>)</a><b><i></i></b><p>
<b><i></i></b>These flags control expansion and checking of macro definitions
and invocations.<p>
<b>Macro Expansion</b><p>
<b></b>These flags control which macros are checked as functions or constants,
and which are expanded in the pre-processing phase.  Macros preceded by
<tt>/*@notfunction@*/</tt> are never expanded regardless of these flag settings.  These
flags may be used in source-file control comments.
<p>
<a href="appC.html#plain-key">plain</a>: <tt>-</tt><br>
<a name="flag-fcnmacros"><tt>fcnmacros</tt><p>
Macros defined with parameter lists are not expanded and are checked as
functions.
<p>
<a href="appC.html#plain-key">plain</a>: <tt>-</tt><br>
<a name="flag-constmacros"><tt>constmacros</tt><p>
Macros defined without parameter lists are not expanded and are checked as
constants.<p>
<a href="appC.html#shortcut-key">shortcut</a><br>
<a name="flag-allmacros"><tt>allmacros</tt><p>
Sets allfcnmacros and allconstmacros.<p>
<p>

<p>
<a href="appC.html#plain-key">plain</a>: <tt>-</tt><br>
<a name="flag-libmacros"><tt>libmacros</tt><p>
Macros defining identifiers declared in a loaded library are not expanded and
are checked according to the library information.	<p>
<b>Macro Definitions</b><p>
<b></b>These flags control what errors are reported in macro definitions.<p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-macrostmt"><tt>macrostmt</tt><p>
Macro definition is not syntactically equivalent to function.  This means if
the macro is used as a statement (e.g., <tt>if (test) macro();</tt>) unexpected behavior
may result.  One fix is to surround the macro body with <tt>do { ...; } while
(FALSE)</tt>. <p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-macroparams"><tt>macroparams</tt><p>
A macro parameter is not used exactly once in all possible invocations of the
macro.<p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-macroassign"><tt>macroassign</tt><p>
A macro parameter is used as the left side of an assignment expression.<p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-macroparens"><tt>macroparens</tt><p>
A macro parameter is used without parentheses (in potentially dangerous
context).<p>
<a href="appC.html#mode-key">m: </a><tt>---+</tt><br>
<a name="flag-macroempty"><tt>macroempty</tt><p>
Macro definition of a function is empty.   <p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-macroredef"><tt>macroredef</tt><p>
Macro is redefined.  There is another macro defined with the same name.<p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
macrounrecog <p>
An unrecognized identifier appears in a macro definition.  Since the identifier
may be defined where the macro is used, this could be okay, but LCLint will not
be able to check the unrecognized identifier appropriately.<p>
<i>Corresponding Declarations</i><p>
<i></i><a href="appC.html#mode-key">m: </a><tt>++++</tt><br>
<a name="flag-macromatchname"><tt>macromatchname</tt><p>
A iter or constant macro is defined using a different name from the one used in
the previous syntactic comment.<p>
<a href="appC.html#shortcut-key">shortcut</a><br>
<a name="flag-macrodecl"><tt>macrodecl</tt><p>
A macro definition has no corresponding declaration.  (Sets macrofcndecl and
macroconstdecl.)<p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-macrofcndecl"><tt>macrofcndecl</tt><p>
Macro definition with parameter list has no corresponding function prototype.
Without a prototype, the types of the macro result and parameters is unknown.<p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-macroconstdecl"><tt>macroconstdecl</tt><p>
A macro definition without parameter list has no corresponding constant
declaration.	
<p>
<a href="appC.html#plain-key">plain</a>: <tt>+</tt><br>
<a name="flag-nextlinemacros"><tt>nextlinemacros</tt><p>
A constant or iter declaration is not immediately followed by a macro
definition.<p>
<b>Side-Effect Free Parameters </b>(<a href="sec8.html#sec-8.2.1">Section 8.2.1</a>)<i></i><p>
<i></i>These flags control error reporting for parameters with inconsistent
side-effects in invocations of checked function macros and function calls.<p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-sefparams"><tt>sefparams</tt><p>
An actual parameter with side-effects is passed as a formal parameter declared
with <tt>sef</tt>.<p>
<a href="appC.html#mode-key">m: </a><tt>--++</tt><br>
<a name="flag-sefuncon"><tt>sefuncon</tt><p>
An actual parameter involving a call to an unconstrained function (declared
without modifies clause) that may modify anything is passed as a <tt>sef</tt> parameter.
<a name="_Toc349905948"><p>
<b><i>Iterators</a></i></b><p>
<b><i></i></b><p>
<a href="appC.html#plain-key">plain</a>: <tt>-</tt><br>
<a name="flag-hasyield"><tt>hasyield</tt><p>
An iterator has been declared with no parameters annotated with yield.
<a name="_Toc349905949"><p>
<b><i>Naming Conventions</a></i></b><p>
<b><i></i></b><p>
<a href="appC.html#plain-key">plain</a>: <tt>+</tt><br>
<a name="flag-namechecks"><tt>namechecks</tt><p>
 Turns all name checking on or off without changing other settings.<p>
<b>Type-Based Naming Conventions </b>(<a href="sec9.html#sec-9.1">Section 9.1</a>)<b></b><p>
<b></b><i>Czech Naming Convention</i><p>
<i></i><a href="appC.html#shortcut-key">shortcut</a><br>
<a name="flag-czech"><tt>czech</tt><p>
Selects complete Czech naming convention (sets 
<a href="appC.html#flag-accessczech"><tt>accessczech</tt></a>, 
<a href="appC.html#flag-czechfcns"><tt>czechfcns</tt></a>,
<a href="appC.html#flag-czechvars"><tt>czechvars</tt></a>, 
<a href="appC.html#flag-czechconsts"><tt>czechconsts</tt></a>, 
<a href="appC.html#flag-czechmacros"><tt>czechmacros</tt></a>, and 
<a href="appC.html#flag-czechtypes"><tt>czechtypes</tt></a>).
<p>
<a href="appC.html#plain-key">plain</a>: <tt>+</tt><br>
<a name="flag-accessczech"><tt>accessczech</tt><p>
Allow access to abstract types following Czech naming convention.  The
representation of an abstract type named <i>t</i> is accessible in the
definition of a function or constant named <i>t_name</i>.
<p>
<a href="appC.html#plain-key">plain</a>: <tt>-</tt><br>
<a name="flag-czechfcns"><tt>czechfcns</tt><p>
Function or iterator name is not consistent with Czech naming convention.
<p>
<a href="appC.html#plain-key">plain</a>: <tt>-</tt><br>
<a name="flag-czechvars"><tt>czechvars</tt><p>
 Variable name is not consistent with Czech naming convention.
<p>
<a href="appC.html#plain-key">plain</a>: <tt>-</tt><br>
<a name="flag-czechmacros"><tt>czechmacros</tt><p>
 Expanded macro name is not consistent with Czech naming convention.
<p>
<a href="appC.html#plain-key">plain</a>: <tt>-</tt><br>
<a name="flag-czechconsts"><tt>czechconsts</tt><p>
Constant name is not consistent with Czech naming convention.
<p>
<a href="appC.html#plain-key">plain</a>: <tt>-</tt><br>
<a name="flag-czechtypes"><tt>czechtypes</tt><p>
 Type name is not consistent with Czech naming convention.  Czech type names
must not use the underscore character.<p>
<i>Slovak Naming Convention</i><p>
<i></i><a href="appC.html#shortcut-key">shortcut</a><br>
<a name="flag-slovak"><tt>slovak</tt><p>
Selects complete Slovak naming convention (sets 
<a href="appC.html#flag-accessslovak"><tt>accessslovak</tt></a>, 
<a href="appC.html#flag-slovakfcns"><tt>slovakfcns</tt></a>, 
<a href="appC.html#flag-slovakvars"><tt>slovakvars</tt></a>, 
<a href="appC.html#flag-slovakconsts"><tt>slovakconsts</tt></a>, 
<a href="appC.html#flag-slovakmacros"><tt>slovakmacros</tt></a>,  and 
<a href="appC.html#flag-slovaktypes"><tt>slovaktypes</tt></a>).
<p>
<a href="appC.html#plain-key">plain</a>: <tt>-</tt><br>
<a name="flag-accessslovak"><tt>accessslovak</tt><p>
Allow access to abstract types following Slovak naming convention. The
representation of an abstract type named <i>t</i> is accessible in the
definition of a function or constant named <i>tName</i>.
<p>
<a href="appC.html#plain-key">plain</a>: <tt>-</tt><br>
<a name="flag-slovakfcns"><tt>slovakfcns</tt><p>
Function or iterator name is not consistent with Slovak naming convention.
<p>
<a href="appC.html#plain-key">plain</a>: <tt>-</tt><br>
<a name="flag-slovakmacros"><tt>slovakmacros</tt><p>
Expanded macro name is not consistent with Slovak naming convention.
<p>
<a href="appC.html#plain-key">plain</a>: <tt>-</tt><br>
<a name="flag-slovakvars"><tt>slovakvars</tt><p>
 Variable name is not consistent with Slovak naming convention.
<p>
<a href="appC.html#plain-key">plain</a>: <tt>-</tt><br>
<a name="flag-slovakconsts"><tt>slovakconsts</tt><p>
 Constant name is not consistent with Slovak naming convention.
<p>
<a href="appC.html#plain-key">plain</a>: <tt>-</tt><br>
<a name="flag-slovaktypes"><tt>slovaktypes</tt><p>
Type name is not consistent with Slovak naming convention.  Slovak type names
may not include uppercase letters.<p>
<p>
<p>
<p>
<i>Czechoslovak Naming Convention</i><p>
<i></i><a href="appC.html#shortcut-key">shortcut</a><br>
<a name="flag-czechoslovak"><tt>czechoslovak</tt><p>
Selects complete Czechoslovak naming convention (sets 
<a
href="appC.html#flag-accessczechoslovak"><tt>accessczechoslovak</tt></a>,
<a href="appC.html#flag-czechoslovakfcns"><tt>czechoslovakfcns</tt></a>,
<a href="appC.html#flag-czechoslovakvars"><tt>czechoslovakvars</tt></a>, 
<a href="appC.html#flag-czechoslovakconsts"><tt>czechoslovakconsts</tt></a>, 
<a href="appC.html#flag-czechoslovakmacros"><tt>czechoslovakmacros</tt></a>, and
<a href="appC.html#flag-czechoslovaktypes"><tt>czechoslovaktypes</tt></a>).
<p>
<a href="appC.html#plain-key">plain</a>: <tt>-</tt><br>
<a name="flag-accessczechoslovak"><tt>accessczechoslovak</tt><p>
Allow access to abstract types by Czechoslovak naming convention. The
representation of an abstract type named <i>t</i> is accessible in the
definition of a function or constant named <i>t_name</i> or <i>tName</i>.
<p>
<a href="appC.html#plain-key">plain</a>: <tt>-</tt><br>
<a name="flag-czechoslovakfcns"><tt>czechoslovakfcns</tt><p>
 Function name is not consistent with Czechoslovak naming convention.
<p>
<a href="appC.html#plain-key">plain</a>: <tt>-</tt><br>
<a name="flag-czechoslovakmacros"><tt>czechoslovakmacros</tt><p>
Expanded macro name is not consistent with Czechoslovak naming convention.
<p>
<a href="appC.html#plain-key">plain</a>: <tt>-</tt><br>
<a name="flag-czechoslovakvars"><tt>czechoslovakvars</tt><p>
 Variable name is not consistent with Czechoslovak naming convention.
<p>
<a href="appC.html#plain-key">plain</a>: <tt>-</tt><br>
<a name="flag-czechoslovakconsts"><tt>czechoslovakconsts</tt><p>
 Constant name is not consistent with Czechoslovak naming convention.
<p>
<a href="appC.html#plain-key">plain</a>: <tt>-</tt><br>
<a name="flag-czechoslovaktypes"><tt>czechoslovaktypes</tt><p>
 Type name is not consistent with Czechoslovak naming convention. Czechoslovak
type names may not include uppercase letters or the underscore character.<p>
<b>Namespace Prefixes  </b>(<a href="sec9.html#sec-9.2">Section
9.2</a>)
<p>
<a name="flag-macrovarprefix">
<tt>macrovarprefix </tt><i>&lt;prefix string&gt;</i><p>
Set namespace prefix for variables declared in a macro body.  (Default is
m_.)
<p>
<a href="appC.html#plain-key">plain</a>: <tt>+</tt><br>
<a name="flag-macrovarprefixexclude"><tt>macrovarprefixexclude</tt><p>
A variable declared outside a macro body starts with the macrovarprefix.<p>
<a name="flag-tagprefix">
<tt>tagprefix </tt><i>&lt;prefix string&gt;</i><p>
Set namespace prefix of struct, union or enum tag identifiers.
<p>
<a href="appC.html#plain-key">plain</a>: <tt>-</tt><br>
<a name="flag-tagprefixexclude"><tt>tagprefixexclude</tt><p>
 An identifier that is not a tag starts with the tagprefix.<p>
<a name="flag-enumprefix">
<tt>enumprefix </tt><i>&lt;prefix string&gt;</i><p>
Set namespace prefix for enum members.
<p>
<a href="appC.html#plain-key">plain</a>: <tt>-</tt><br>
<a name="flag-enumprefixexclude"><tt>enumprefixexclude</tt><p>
 An identifier that is not an enum member starts with the enumprefix.<p>
<a name="flag-filestaticprefix">
<tt>filestaticprefix </tt><i>&lt;prefix string&gt;</i><p>
Set namespace prefix for file static declarations.
<p>
<a href="appC.html#plain-key">plain</a>: <tt>-</tt><br>
<a name="flag-filestaticprefixexclude"><tt>filestaticprefixexclude</tt><p>
An identifier that is not file static starts with the filestaticprefix.<p>
<a name="flag-globalprefix">
<tt>globalprefix </tt><i>&lt;prefix string&gt;</i><p>
Set namespace prefix for global variables.
<p>
<a href="appC.html#plain-key">plain</a>: <tt>-</tt><br>
<a name="flag-globalprefixexclude"><tt>globalprefixexclude</tt><p>
An identifier that is not a global variable starts with the globalprefix.<p>
<a name="flag-typeprefix">
<tt>typeprefix </tt><i>&lt;prefix string&gt;</i><p>
Set namespace prefix for user-defined types.
<p>
<a href="appC.html#plain-key">plain</a>: <tt>-</tt><br>
<a name="flag-typeprefixexclude"><tt>typeprefixexclude</tt><p>
An identifier that is not a type name starts with the typeprefix.<p>
<a name="flag-externalprefix">
<tt>externalprefix </tt><i>&lt;prefix string&gt;</i><p>
Set namespace prefix for external identifiers.
<p>
<a href="appC.html#plain-key">plain</a>: <tt>-</tt><br>
<a name="flag-externalprefixexclude"><tt>externalprefixexclude</tt><p>
An identifier that is not external starts with the externalprefix.<p>
<a name="flag-localprefix">
<tt>localprefix </tt><i>&lt;prefix string&gt;</i><p>
Set namespace prefix for local variables.
<p>
<a href="appC.html#plain-key">plain</a>: <tt>-</tt><br>
<a name="flag-localprefixexclude"><tt>localprefixexclude</tt><p>
 An identifier that is not a local variable starts with the localprefix.<p>
<a name="flag-uncheckedmacroprefix">
<tt>uncheckedmacroprefix </tt><i>&lt;prefix string&gt;</i><p>
<i></i>Set namespace prefix for unchecked macros.
<p>
<a href="appC.html#plain-key">plain</a>: <tt>-</tt><br>
<a name="flag-uncheckedmacroprefixexclude"><tt>uncheckedmacroprefixexclude</tt><p>
An identifier that is not the name of an unchecked macro starts with the
uncheckedmacroprefix.<p>
<a name="flag-constprefix">
<tt>constprefix </tt><i>&lt;prefix string&gt;</i><p>
Set namespace prefix for constants.
<p>
<a href="appC.html#plain-key">plain</a>: <tt>-</tt><br>
<a name="flag-constprefixexclude"><tt>constprefixexclude</tt><p>
An identifier that is not a constant starts with the constantprefix.<p>
<a name="flag-iterprefix">
<tt>iterprefix </tt><i>&lt;prefix string&gt;</i><p>
Set namespace prefix for iterators.
<p>
<a href="appC.html#plain-key">plain</a>: <tt>-</tt><br>
<a name="flag-iterprefixexclude"><tt>iterprefixexclude</tt><p>
An identifier that is not a iter starts with the iterprefix.<p>

<a name="flag-protoparamprefix">
<tt>proto-param-prefix </tt><i>&lt;prefix string&gt;</i><p>
Set namespace prefix for parameters in function prototypes.
<p>

<a href="appC.html#plain-key">plain</a>: <tt>-</tt><br>
<a name="flag-protoparamprefixexclude"><tt>proto-param-prefix-exclude</tt><p>
An identifier that is not a parameter in a function prototype starts with the 
protoprarmprefix. <p>

<a href="appC.html#mode-key">m: </a><tt>--++</tt><br>
<a name="flag-protoparamname">
<tt>proto-param-name</tt>
<p>
A parameter in a function prototype has a name (can interfere with macro
definitions). 
<p>

<a href="appC.html#mode-key">m: </a><tt>---+</tt><br>
<a name="flag-protoparammatch">
<tt>proto-param-match</tt>
<p>

The name of a parameter in a function definition does not match the
corresponding name of the parameter in a function prototype (after
removing the protoparamprefix).
<p>

<b>Naming Restrictions  </b>(<a href="sec9.html#sec-9.3">Section 9.3</a>)<i></i><p>
<i></i><a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-shadow"><tt>shadow</tt><p>
Declaration reuses name visible in outer scope.<p>
<i>Reserved Names</i><p>
<i></i><a href="appC.html#mode-key">m: </a><tt>--++</tt><br>
<a name="flag-ansireserved"><tt>ansi-reserved</tt><p>
External name conflicts with name reserved for the compiler or standard
library.<p>
<a href="appC.html#mode-key">m: </a><tt>---+</tt><br>
<a name="flag-ansireservedinternal"><tt>ansi-reserved-internal</tt><p>
 Internal name conflicts with name reserved for the compiler or standard
library.<p>

<a href="appC.html#mode-key">m: </a><tt>--++</tt><br>
<a name="flag-cppnames"><tt>cpp-names</tt><p>
Internal or external name conflicts with a C++ reserved word.  (Will
cause problems if program is compiled with a C++ compiler.)
<p>

<i>Distinct External Names</i><p>
<i></i><p>
<a href="appC.html#plain-key">plain</a>: <tt>-</tt><br>
<a name="flag-distinctexternalnames"><tt>distinct-external-names</tt><p>
An external name is not distinguishable from another external name using
externalnamelen significant characters.<p>
<a name="flag-externalnamelen">
<tt>external-name-len</tt><i>&lt;number&gt;</i><p>
Sets the number of significant characters in an external name (ANSI default
minimum is 6).  Sets <a href="appC.html#flag-distinctexternalnames"><tt>+distinctexternalnames</tt></a>.
<p>
<a href="appC.html#plain-key">plain</a>: <tt>-</tt><br>
<a name="flag-externalnamecaseinsensitive"><tt>external-name-case-insensitive</tt><p>
Make alphabetic case insignificant in external names.  According to ANSI
standard, case need not be significant in an external name.  If
<a href="appC.html#flag-distinctexternalnames"><tt>+distinctexternalnames</tt></a> is not set, sets <a href="appC.html#flag-distinctexternalnames"><tt>+distinctexternalnames</tt></a> with unlimited
external name length.<p>
<i>Distinct Internal Names</i><p>
<i></i><a href="appC.html#mode-key">m: </a><tt>----</tt><br>
<a name="flag-distinctinternalnames"><tt>distinct-internal-names</tt><p>
An internal name is not distinguishable from another internal name using
internalnamelen significant characters.   (Also effected by
internalnamecaseinsensitive and internalnamelookalike.)<p>
<a name="flag-internalnamelen">
<tt>internal-name-len </tt><i>&lt;number&gt;</i><p>
Set the number of significant characters in an internal name. Sets
<a href="appC.html#flag-distinctinternalnames"><tt>+distinctinternalnames</tt></a>.
<p>
<a href="appC.html#plain-key">plain</a>: <tt>-</tt><br>
<a name="flag-internalnamecaseinsensitive"><tt>internal-name-case-insensitive</tt><p>
Set whether case is significant an internal names (-internalnamecaseinsensitive
means case is significant).  If <a href="appC.html#flag-distinctinternalnames"><tt>+distinctinternalnames</tt></a> is not set, sets
<a href="appC.html#flag-distinct-internal-names"><tt>+distinct-internal-names</tt></a> with unlimited internal name length.<p>

<p>
<a href="appC.html#plain-key">plain</a>: <tt>-</tt><br>
<a name="flag-internalnamelookalike"><tt>internalnamelookalike</tt><p>
 Set whether similar looking characters (e.g., "1" and "l") match in internal
names.
<a name="_Ref344891223"><a name="_Toc349905950"><p>
<b><i>Other Checks</a></a></i></b><p>
<b><i></i>Undefined Evaluation Order  </b>(<a href="sec10.html#sec-10.1">Section 10.1</a>)<p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
evalorder <p>
Behavior of an expression is undefined because sub-expressions contain
interfering side effects that may be evaluated in any order.<p>
<a href="appC.html#mode-key">m: </a><tt>---+</tt><br>
<a name="flag-evalorderuncon"><tt>evalorderuncon</tt><p>
An expression may be undefined because a sub-expression contains a call to an
unconstrained function (no modifies clause) that may modify something that may
be modified or used by another sub-expression.<p>
<b>Problematic Control Structures </b>(<a href="sec10.html#sec-10.2">Section 10.2</a>)<i></i><p>
<i></i><a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-infloops">
<tt>infloops</tt><p>
Likely infinite loop is detected (<a href="sec10.html#sec-10.2.1">Section 10.2.1</a>).<p>
<a href="appC.html#mode-key">m: </a><tt>--++</tt><br>
<a name="flag-infloopsuncon">
<tt>infloopsuncon</tt><p>
Likely infinite loop is detected.  Loop test or body calls an unconstrained
function, that may produce an undetected modification.<p>
<a href="appC.html#mode-key">m: </a><tt>---+</tt><br>
<a name="flag-elseifcomplete"><tt>elseifcomplete</tt><p>
There is no final else following an else if construct (<a href="sec10.html#sec-10.2.5">Section 10.2.5</a>).
<b><i></i></b><p>
<b><i></i></b><a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-casebreak"><tt>casebreak</tt><p>
These is a non-empty case in a switch not followed by a break (Section
10.2.2).<i></i><p>
<i></i><a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-misscase"><tt>misscase</tt><p>
A switch on an enum type is missing a case for a member of the enumerator.<p>
<a href="appC.html#mode-key">m: </a><tt>----</tt><br>
<a name="flag-loopexec"><tt>loopexec</tt><p>
Assume all loops execute at least once.  This effects use-before-definition and
memory checking.  It should probably not be used globally, but may be used
surrounding a particular loop that is known to always execute to prevent
spurious messages.<p>
<b>Deep Break  </b>(<a href="sec10.html#sec-10.2.3">Section 10.2.3</a>)<b></b><p>
<b></b><a href="appC.html#shortcut-key">shortcut</a><br>
<a name="flag-deepbreak"><tt>deepbreak</tt><p>
Report errors for break statements inside a nested while, for or switch.  (Sets
all nested break and continue flags.)<p>
<a href="appC.html#mode-key">m: </a><tt>--++</tt><br>
<a name="flag-looploopbreak"><tt>looploopbreak</tt><p>
There is a break inside a while, for or iterator loop that is inside a while,
for or iterator loop. Mark with <tt>/*@innerbreak@*/</tt> to suppress the message.<p>
<a href="appC.html#mode-key">m: </a><tt>--++</tt><br>
<a name="flag-switchloopbreak"><tt>switchloopbreak</tt><p>
There is a break inside a while, for or iterator loop that is inside a switch
statement.  Mark with <tt>/*@loopbreak@*/</tt>.<p>
<a href="appC.html#mode-key">m: </a><tt>---+</tt><br>
<a name="flag-loopswitchbreak"><tt>loopswitchbreak</tt><p>
There is a break inside a switch statement that is inside a while, for or
iterator loop.  Mark with <tt>/*@switchbreak@*/</tt>.<p>
<a href="appC.html#mode-key">m: </a><tt>---+</tt><br>
<a name="flag-switchswitchbreak"><tt>switchswitchbreak</tt><p>
There is a break inside a switch statement that is inside another switch
statement.  Mark with  <tt>/*@innerbreak@*/</tt>.<p>
<a href="appC.html#mode-key">m: </a><tt>---+</tt><br>
<a name="flag-looploopcontinue"><tt>looploopcontinue</tt><p>
There is a continue inside a while, for or iterator loop that is inside a
while, for or iterator loop.  Mark with <tt>/*@innercontinue@*/</tt>.<p>
<b>Loop and if Bodies  </b>(<a href="sec10.html#sec-10.2.4">Section 10.2.4</a>)<b><i></i></b><p>
<b><i></i></b><a href="appC.html#shortcut-key">shortcut</a><br>
<a name="flag-allempty"><tt>allempty</tt><p>
An if, while or for statement has no body (sets 
<a href="appC.html#flag-ifempty"><tt>ifempty</tt></a>, 
<a href="appC.html#flag-whileempty"><tt>whileempty</tt></a> and
<a href="appC.html#flag-forempty"><tt>forempty</tt></a>.)<p>
<a href="appC.html#shortcut-key">shortcut</a><br>
<a name="flag-allblock"><tt>allblock</tt><p>
The body of an if, while or for statement is not a block (sets ifblock,
whileblock and forblock.)<p>
<a href="appC.html#mode-key">m: </a><tt>--++</tt><br>
<a name="flag-whileempty"><tt>whileempty</tt><p>
A while statement has no body.<p>
<a href="appC.html#mode-key">m: </a><tt>---+</tt><br>
<a name="flag-whileblock"><tt>whileblock</tt><p>
 The body of a while statement is not a <a name="flag-block"><tt>block</tt><p>
<a href="appC.html#mode-key">m: </a><tt>---+</tt><br>
<a name="flag-forempty"><tt>forempty</tt><p>
A for statement has no body.<p>
<a href="appC.html#mode-key">m: </a><tt>---+</tt><br>
<a name="flag-forblock"><tt>forblock</tt><p>
The body of a for statement is not a block.<p>
<a href="appC.html#mode-key">m: </a><tt>++++</tt><br>
<a name="flag-ifempty"><tt>ifempty</tt><p>
An if statement has no body.<p>
<a href="appC.html#mode-key">m: </a><tt>---+</tt><br>
<a name="flag-ifblock"><tt>ifblock</tt><p>
The body of an if statement is not a block.<p>
<b>Suspicious Statements  </b>(<a href="sec10.html#sec-10.3">Section 10.3</a>)<b></b><p>
<b></b><a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-unreachable"><tt>unreachable</tt><p>
Code is not reached on any possible execution.<p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-noeffect"><tt>noeffect</tt><p>
Statement has no effect.<p>
<a href="appC.html#mode-key">m: </a><tt>---+</tt><br>
<a name="flag-noeffectuncon"><tt>noeffectuncon</tt><p>
Statement involving call to unconstrained function may have no effect.<p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-noret"><tt>noret</tt><p>
There is a path with no return in a function declared to return a non-void
value.<p>
<b>Ignored Return Values  </b>(<a href="sec10.html#sec-10.3.2">Section 10.3.2</a>)<i></i><p>
<i></i>These flags control when errors are reported for function calls that do
not use the return value.  Casting the function call to void or declaring the
called function to return <tt>/*@alt void@*/</tt>.<p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-retvalbool"><tt>retvalbool</tt><p>
Return value of type bool ignored. <p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-retvalint"><tt>retvalint</tt><p>
Return value of type int ignored. <p>
<a href="appC.html#mode-key">m: </a><tt>++++</tt><br>
<a name="flag-retvalother"><tt>retvalother</tt><p>
Return value of type other than bool or int ignored.<p>
<a href="appC.html#shortcut-key">shortcut</a><br>
<a name="flag-retval"><tt>retval</tt><p>
Return value ignored  (Sets retvalbool, retvalint, retvalother.)</a><p>
<b>Unused Declarations  </b>(<a href="sec10.html#sec-10.4">Section 10.4</a>)<b></b><p>
<b></b>These flags control when errors are reported for declarations that are
never used.  The unused annotation can be used to prevent unused errors from
being report for a particular declaration.<p>
<a href="appC.html#mode-key">m: </a><tt>---+</tt><br>
<a name="flag-topuse"><tt>topuse</tt><p>
A external declaration is not used in any file.<p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-constuse"><tt>constuse</tt><p>
Constant never used. <p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-enummemuse"><tt>enummemuse</tt><p>
Member of enumerator never used. <p>
<a href="appC.html#mode-key">m: </a><tt>++++</tt><br>
<a name="flag-varuse"><tt>varuse</tt><p>
Variable never used.<p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-paramuse"><tt>paramuse</tt><p>
Function parameter never used.<p>
<a href="appC.html#mode-key">m: </a><tt>++++</tt><br>
<a name="flag-fcnuse"><tt>fcnuse</tt><p>
Function is never used.<p>
<a href="appC.html#mode-key">m: </a><tt>++++</tt><br>
<a name="flag-typeuse"><tt>typeuse</tt><p>
Defined type never used. <p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-fielduse"><tt>fielduse</tt><p>
Field of structure or union type is never used.<p>
<a href="appC.html#mode-key">m: </a><tt>---+</tt><br>
<a name="flag-unusedspecial"><tt>unusedspecial</tt><p>
Declaration in a special file (corresponding to <tt>.l</tt> or
<tt>.y</tt> file) is unused.<p> 
<b>Complete Programs  </b>(<a href="sec10.html#sec-10.5">Section 10.5</a>)<b></b><p>
<b></b><a href="appC.html#mode-key">m: </a><tt>--++</tt><br>
<a name="flag-declundef"><tt>declundef</tt><p>
Function, variable, iterator or constant declared but never defined.<p>
<a href="appC.html#shortcut-key">shortcut</a><br>
<a name="flag-partial"><tt>partial</tt><p>
Check as partial system (sets 
<a href="appC.html#flag-declundef"><tt>-declundef</tt></a>, 
<a href="appC.html#flag-exportlocal"><tt>-exportlocal</tt></a> and prevents checking of
macros in headers without corresponding <tt>.c</tt> files.)<p>
<b>Exports</b><p>
<b></b><a href="appC.html#mode-key">m: </a><tt>---+</tt><br>
<a name="flag-exportlocal"><tt>export-local</tt><p>
A declaration is exported but not used outside this module.  (Declaration can
use the static qualifier.)<p>
<a href="appC.html#mode-key">m: </a><tt>--++</tt><br>
<a name="flag-exportheader"><tt>export-header</tt><p>
A declaration (other than a variable) is exported but does not appear in a
header file.<p>
<a href="appC.html#mode-key">m: </a><tt>--++</tt><br>
<a name="flag-exportheadervar"><tt>export-header-var</tt><p>
A variable declaration is exported but does not appear in a header file.<p>
<b>Unrecognized Identifiers</b><p>
<b></b><p>
<a href="appC.html#plain-key">plain</a>: <tt>+</tt><br>
<a name="flag-unrecog"><tt>unrecog</tt><p>
An unrecognized identifier is used.
<p>
<a href="appC.html#plain-key">plain</a>: <tt>+</tt><br>
<a name="flag-systemunrecog"><tt>sys-unrecog</tt><p>
Report unrecognized identifiers that start with the system prefix, <tt>__</tt> (two
underscores).
<p>
<a href="appC.html#plain-key">plain</a>: <tt>-</tt><br>
<a name="flag-repeatunrecog"><tt>repeat-unrecog</tt><p>
Report multiple messages for unrecognized identifiers.  If repeatunrecog is not
set, an error is reported only the first time a particular unrecognized
identifier appears in the file.<p>
<b>Multiple Definition and Declarations</b><p>
<b></b><p>
<a href="appC.html#plain-key">plain</a>: <tt>+</tt><br>
<a name="flag-redef"><tt>redef</tt><p>
A function or variable is defined more than once.<p>
<a href="appC.html#mode-key">m: </a><tt>--++</tt><br>
<a name="flag-redecl"><tt>redecl</tt><p>
An identifier is declared more than once.<p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-nestedextern"><tt>nested-extern</tt><p>
An extern declaration is used inside a function body.
<p>

<b>ANSI C Conformance</b><p>



<a href="appC.html#mode-key">m: </a><tt>--++</tt><br>
<a name="flag-noparams"><tt>noparams</tt><p>
A function is declared without a parameter list prototype. <p>
<a href="appC.html#mode-key">m: </a><tt>---+</tt><br>
<a name="flag-oldstyle"><tt>oldstyle</tt><p>
Function definition is in old style syntax.  Standard prototype syntax is
preferred.<p>
<p>
<p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-exitarg"><tt>exitarg</tt><p>
Argument to exit has implementation defined behavior.  The only valid arguments
to exit are EXIT_SUCCESS, EXIT_FAILURE and 0.  An error is reported if LCLint
can detect statically that the argument to exit is not one of these.<p>
<b>Limits </b>(<a href="sec10.html#sec-10.6">Section 10.6</a>)<b></b><p>
<b></b><a href="appC.html#shortcut-key">shortcut</a><br>
<a name="flag-ansilimits"><tt>ansilimits</tt><p>
Check for violations of standard limits (Sets 
<a href="appC.html#flag-controlnestdepth"><tt>controlnestdepth</tt></a>,
<a
href="appC.html#flag-stringliterallen"><tt>stringliterallen</tt></a>, 
<a href="appC.html#flag-includenest"><tt>includenest</tt></a>, 
<a href="appC.html#flag-numstructfields"><tt>numstructfields</tt></a>,
and 
<a href="appC.html#flag-numenummembers"><tt>numenummembers</tt></a>).<p>
<a href="appC.html#mode-key">m: </a><tt>---+</tt><br>
<p>
<a name="flag-controlnestdepth">
<tt>controlnestdepth </tt><i>&lt;number&gt;</i><p>
Set maximum nesting depth of compound statements, iteration control structures,
and selection control structures (ANSI minimum is 15).<p>
<a href="appC.html#mode-key">m: </a><tt>---+</tt><br>
<a name="flag-stringliterallen">
<tt>stringliterallen </tt><i>&lt;number&gt;</i><p>
Set maximum length of string literals (ANSI minimum is 509).<p>
<a href="appC.html#mode-key">m: </a><tt>---+</tt><br>
<a name="flag-numstructfields">
<tt>numstructfields </tt><i>&lt;number&gt;</i><p>
Set maximum number of fields in a struct or union (ANSI minimum is 127).<p>
<a href="appC.html#mode-key">m: </a><tt>---+</tt><br>
<a name="flag-numenummembers">
<tt>numenummembers </tt><i>&lt;number&gt;</i><p>
Set maximum number of members of an enum type (ANSI minimum is 127).<p>
<a href="appC.html#mode-key">m: </a><tt>--++</tt><br>
<a name="flag-includenest">
<tt>includenest </tt><i>&lt;number&gt;</i><p>
Set maximum number of nested #include files (ANSI minimum is 8).<p>
<b>Header Inclusion </b>(<a href="appF.html">Apppendix F</a>)<i></i><p>

<a href="appC.html#plain-key">plain</a>: <tt>+</tt><br>
<a name="flag-skipansiheaders">
<tt>skip-ansi-headers</tt>
<p>

Prevent inclusion of header files in a system directory with names that
match standard ANSI headers. The symbolic information in the standard
library is used instead.  In effect only if a library that includes the
ANSI library is used.  The ANSI headers are: <tt>assert</tt>,
<tt>ctype</tt>, <tt>errno</tt>, <tt>float</tt>, <tt>limits</tt>,
<tt>locale</tt>, <tt>math</tt>, <tt>setjmp</tt>, <tt>signal</tt>,
<tt>stdarg</tt>, <tt>stddef</tt>, <tt>stdio</tt>, <tt>stdlib</tt>,
<tt>strings</tt>, <tt>string</tt>, <tt>time</tt>, and <tt>wchar</tt>.
<p>

<a href="appC.html#plain-key">plain</a>: <tt>+</tt><br>
<a name="flag-skipposixheaders">
<tt>skip-posix-headers</tt>
<p>

Prevent inclusion of header files in a system directory with names that
match standard POSIX headers. The symbolic information in the standard
library is used instead.  In effect only if a library that includes the
POSIX library is used.  The POSIX headers are: <tt>dirent</tt>,
<tt>fcntl</tt>, <tt>grp</tt>, <tt>pwd</tt>, <tt>termios</tt>,
<tt>sys/stat</tt>, <tt>sys/times</tt>, <tt>sys/types</tt>,
<tt>sys/utsname</tt>, <tt>sys/wait</tt>, <tt>unistd</tt>, and
<tt>utime</tt>.

<p>
<a href="appC.html#plain-key">plain</a>: <tt>+</tt><br>
<a name="flag-warnposixheaders">
<tt>warn-posix-headers</tt>
<p>
Report use of a POSIX header when checking a program with a non-POSIX
library.
<p>
<a name="flag-skipsysheaders"><tt>skipsysheaders</tt><p>
Do not include header files in system directories (as set by <a
href="appC.html#flag-systemdirs"><tt>-sysdirs</tt></a>)
<p>
<a href="appC.html#plain-key">plain</a>: <tt>+</tt><br>
<a name="flag-systemdirexpandmacros">
<tt>sys-dir-expand-macros</tt>
<p>
Expand macros in system directories regardless of other settings, except
for macros corresponding to names defined in a load library. 
<p>
<a href="appC.html#mode-key">m: </a><tt>---+</tt><br>
<a name="flag-systemdirerrors"><tt>sys-dir-errors</tt><p>
Report errors in files in system directories (set by -systemdirs).   
<p>

<a name="flag-singleinclude"><tt>single-include</tt><p>
Optimize header inclusion to only include each header file once.<p>
<a name="flag-neverinclude"><tt>never-include</tt><p>
Use library information instead of including header files. 
<p>

<b>Comments</b><p>
<b></b>These flags control how syntactic comments are interpreted (see
<a href="appE.html">Apppendix E</a>).<p>
<a name="commentchar">
<tt>commentchar </tt><i>&lt;char&gt;</i><p>
Set the marker character for syntactic comments.  Comments beginning with
/*<i>&lt;char&gt;</i> are interpreted by LCLint.  Default: <tt>@</tt>
<p>
<a href="appC.html#plain-key">plain</a>: <tt>-</tt><br>
<a name="flag-noaccess"><tt>noaccess</tt><p>
Ignore access comments.
<p>
<a href="appC.html#plain-key">plain</a>: <tt>-</tt><br>
<a name="flag-nocomments"><tt>nocomments</tt><p>
Ignore all stylized comments. 
<p>
<a href="appC.html#plain-key">plain</a>: <tt>+</tt><br>
<a name="flag-supcounts"><tt>supcounts</tt><p>
Actual number of errors does not match number in <tt>/*@i</tt><i>&lt;n&gt;</i><tt>@*/</tt>
<p>
<a href="appC.html#plain-key">plain</a>: <tt>+</tt><br>
<a name="flag-lintcomments"><tt>lintcomments</tt><p>
Interpret traditional lint comments (<tt>/*FALLTHROUGH*/</tt>, <tt>/*NOTREACHED*/</tt>,
<tt>/*PRINTLIKE*/</tt>).<p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<a name="flag-warnlintcomments"><tt>warnlintcomments</tt><p>
Print a warning and suggest an alternative when a traditional lint comment is
used.   <p>
<a href="appC.html#plain-key">plain</a>: <tt>+</tt><br>
<a name="flag-unrecogcomments">
<tt>unrecogcomments</tt>
<p>
Stylized comment is unrecognized.
<p>
<b>Parsing</b><p>
<a href="appC.html#plain-key">plain</a>: <tt>-</tt><br>
<a name="flag-continuecomment">
<tt>continue-comment</tt>
<p>
A line continuation marker (<tt>\</tt>) appears inside a comment on the
same line as the comment close. Preprocessors should handle this correctly, but it causes problems for some preprocessors.

<a href="appC.html#plain-key">plain</a>: <tt>+</tt><br>
<a name="flag-nestcomment">
<tt>nest-comment</tt>
<p>
A comment open sequence (<tt>/*</tt>) appears inside a comment.  This usually
indicates that an earlier comment was not closed.
<p>


<a href="appC.html#plain-key">plain</a>: <tt>+</tt><br>
<a name="flag-duplicatequals">
<tt>duplicate-quals</tt>
<p>

Report duplicate type qualifiers (e.g., <tt>long long</tt>).  Duplicate type
qualifiers not supported by ANSI, but some compilers (e.g., <tt>gcc</tt>) do
support duplicate qualifiers.

<p>
<a href="appC.html#plain-key">plain</a>: <tt>+</tt><br>
<a name="flag-gnuextensions">
<tt>gnu-extensions</tt>
<p>
Support some GNU (gcc) and Windows language extensions.
<p>

<b>Array Formal Parameters</b><p>

These flags control reporting of common errors caused by confusion about
the semantics of array formal parameters.
<p>

<b>General Checks</b><p>

<a href="appC.html#plain-key">plain</a>: <tt>+</tt><br>
<a name="flag-sizeofformalarray"><tt>sizeof-formal-array</tt>
<p>
The sizeof operator is used on a parameter declared as an array.  (In
many instances this has unexpected behavior, since the result is the
size of a pointer to the element type, not the number of elements in the
array.)
<p>

<a href="appC.html#plain-key">plain</a>: <tt>+</tt><br>
<a name="flag-fixedformalarray"><tt>fixed-formal-array</tt>
<p>

An array formal parameter is declared with a fixed size (e.g., <tt>int
x[20]</tt>).  This is likely to be confusing, since the size is ignored.

<p>

<a href="appC.html#plain-key">plain</a>: <tt>-</tt><br>
<a name="flag-formalarray"><tt>formal-array</tt>
<p>
A formal parameter is declared as an array.  This is probably not a
problem, but can be confusing since it is treated as a pointer.
<p>

<b></b>These flags should probably not be set globally since the turn off
general checks that should always be done.  They may be used locally to
suppress spurious errors.
<p>
<a href="appC.html#plain-key">plain</a>: <tt>+</tt><br>
<a name="flag-abstract"><tt>abstract</tt><p>
A data abstraction barrier is violated.
<p>
<a href="appC.html#plain-key">plain</a>: <tt>+</tt><br>
<a name="flag-control"><tt>control</tt><p>
A control flow error is detected.
<p>
<a href="appC.html#plain-key">plain</a>: <tt>+</tt><br>
<a name="flag-syntax"><tt>syntax</tt><p>
Parse error.
<p>
<a href="appC.html#plain-key">plain</a>: <tt>-</tt><br>
<a name="flag-trytorecover"><tt>trytorecover</tt><p>
Try to recover from a parse error.  If trytorecover is not set, LCLint will
abort checking after a parse error is detected.  If it is set, LCLint will
attempt to recover, but LCLint does performs only minimal error recovery. 
<p>
<a href="appC.html#plain-key">plain</a>: <tt>+</tt><br>
<a name="flag-type"><tt>type</tt><p>
Type mismatch.
<a name="_Toc349905952"><p>
<b>Flag Name Abbreviations</a></b><p>
<b></b>Within a flag name, abbreviations may be used. Table 2 shows the flag
name abbreviations.  The expanded and short forms are interchangeable in flag
names.  <p>
For example, globsimpmodsnothing and globalsimpliesmodifiesnothing denote the
same flag.  Abbreviations in flag names allow pronounceable, descriptive names
to be used without making flag names excessively long (although one must admit
even globsimpmodsnothing is a bit of a mouthful.)<p>

<table>
<tr><td><b>Expanded Form</b></td><td><b>Short Form</b></td></tr>

<tr><td><tt>constant </tt></td><td><tt>                       const   </tt></td></tr>     
<tr><td><tt>declaration  </tt></td><td><tt>                   decl          </tt></td></tr>     
<tr><td><tt>function                   </tt></td><td><tt>     fcn           </tt></td></tr>     
<tr><td><tt>global</tt></td><td><tt>  			    glob         </tt></td></tr>      
<tr><td><tt>implicit, implied       </tt></td><td><tt>        imp           </tt></td></tr>     
<tr><td><tt>iterator                 </tt></td><td><tt>       iter </tt></td></tr>     
<tr><td><tt>length                       </tt></td><td><tt>   len           </tt></td></tr>     
<tr><td><tt>modifies		</tt></td><td><tt>	mods      </tt></td></tr>     
<tr><td><tt>modify			  </tt></td><td><tt>      mod           </tt></td></tr>     
<tr><td><tt>memory                       </tt></td><td><tt>   mem           </tt></td></tr>     
<tr><td><tt>parameter                   </tt></td><td><tt>    param         </tt></td></tr>     
<tr><td><tt>pointer                     </tt></td><td><tt>    ptr           </tt></td></tr>     
<tr><td><tt>return                      </tt></td><td><tt>    ret           </tt></td></tr>     
<tr><td><tt>variable                     </tt></td><td><tt>   var           </tt></td></tr>     
<tr><td><tt>unconstrained, unconst      </tt></td><td><tt>    uncon         </tt></td></tr>     
</table>

<a name="_Ref344870348"><a name="_Ref344870759"><a name="_Ref348090060"><a name="_Ref348090064"><a name="_Toc349905996">
</pre>
<b>Table 2.  Flag name abbreviations.</b></a></a>

</head>
<body bgcolor="#FFFFFF" link="#CC0000" alink="#FF3300" vlink="#000088">

<a name="app-D">
<h2>Appendix D  Annotations</h2></a></a><p>
The
grammar below is the C syntax from [<a href="references.html#ref-KR88">K&amp;R</a>,A13] modified to show
the syntax of syntactic comments.  Only productions effected by LCLint
annotations are shown.  In the annotations, the <tt>@</tt> represents the comment marker
char, set by <tt>-commentchar</tt> (default is <tt>@</tt>).
<a name="_Toc349905954"><p>
<b><i>Functions</a></i></b><p>
<b><i></i></b><i>direct-declarator:</i><p>
<pre>
	  direct-declarator (parameter-type-list_opt) globals_opt modifies_opt
	| direct-declarator (identifier-list_opt) globals_opt modifies_opt
</pre>
<i></i><p>
<i>globals</i><i>: </i>(<a href="sec4.html#sec-4.2">Section
4.2</a>)<i></i><p>
<pre>
	  /*@globals globitem,+ ;_opt @*/
	| /*@globals declaration-list_opt ;_opt @*/
</pre>
<i>globitem: </i><p>
<pre>
	   globannot* identifier
        |  internalState
	|  systemState
</pre>
<i></i><p>
<i>globannot: </i><tt>undef | killed</tt><p>
<i></i><p>
<i>modifies: </i>(<a href="sec4.html#sec-4.1">Section 4.1</a>)<i></i><p>
<pre>
           /*@modifies moditem,+;_opt @*/	
         | /*@modifies nothing ;_opt @*/
         | /*@*/  (Abbreviation for no globals and modifies nothing.)
</pre>
<i></i><p>
<i>moditem: </i><p>
<pre>
	   expression	
         | internalState
         | systemState
</pre>
<a name="_Toc349905955"><p>
<b><i>Iterators </i></b>(<a href="sec8.html#sec-8.4">Section 8.4</a></a>)<b><i></i></b><p>
<b><i></i></b>The globals and modifies clauses for an iterator are the same as
those for a function, except they are not enclosed by a comment, since the
iterator is already a comment.<i></i><p>
<i>direct-declarator: </i><p>
<pre>
       /*@iter identifier (parameter-type-list_opt) globals_opt
modifies_opt @*/
</pre>
<a name="_Toc349905956"><p>
<b><i>Constants </i></b>(<a href="sec8.html#sec-8.1">Section 8.1</a></a>)<b><i></i></b><p>
<b><i></i></b><i>external-declaration:</i><p>
<pre>
       /*@constant declaration ;_opt @*/
</pre>
<a name="_Ref344807420"><a name="_Toc349905957"></i><p>
<i><b>Alternate Types</a> </b></i>(<a href="sec8.html#sec-8.2.2">Section 8.2.2</a></a>)<i></i><p>
<i></i>Alternate types may be used in the type specification of parameters and
return values.<p>
<i>extended-type</i><i>: </i><p>
<pre>
        type-specifier alt-type_opt
</pre>
<i></i><p>
<i>alt-type</i><i>: </i><p>
<pre>
        /*@alt basic-type,+ @*/
</pre>
<a name="_Toc349905958"><p>
<b><i>Declarator Annotations</a></i></b><p>
<b><i></i></b>General annotations appear after <i>storage-class-specifier</i>s
and before <i>type</i><i>-specifier</i>s.  Multiple annotations may be used in
any order.  Here, annotations are without the surrounding comment.  In a
declaration, the annotation would be surrounded by <tt>/*@</tt> and
<tt>@*/</tt>.  In a globals or modifies clause or iterator or constant
declaration, no surrounding comment would be used since they are within
a comment.
<p>
<b>Type Definitions  </b>(<a href="sec3.html">Section 3</a>)<b></b><p>
<b></b>A type definition may use any either abstract or concrete, either
mutable or immutable, and refcounted.  Only a pointer to a struct may be
declared with refcounted.  Mutability annotations may not be used with concrete
types since concrete types inherit their mutability from the actual type.<p>
<a name="flag-abstract"><tt>abstract</tt><p>
Type is abstract (representation is hidden from clients).<p>
<a name="flag-concrete"><tt>concrete</tt><p>
Type is concrete (representation is visible to clients).<p>
<a name="flag-immutable"><tt>immutable</tt><p>
Instances of the type cannot change value.  (<a href="sec3.html#sec-3.2">Section 3.2</a>)<p>
<a name="flag-mutable"><tt>mutable</tt><p>
Instances of the type can change value.  (<a href="sec3.html#sec-3.2">Section 3.2</a>)<p>
<a name="flag-refcounted"><tt>refcounted</tt><p>
Reference counted type.  (<a href="sec5.html#sec-5.4">Section 5.4</a>)<p>
<b>Global Variables  </b>(<a href="sec4.html#sec-4.2.1">Section 4.2.1</a>)<b></b><p>
<b></b>One check annotation may be used on a global or file-static variable
declaration.<p>
<a name="flag-unchecked"><tt>unchecked</tt><p>
Weakest checking for global use.<p>
<a name="flag-checkmod"><tt>checkmod</tt><p>
Check modification by not use of global. <p>
<a name="flag-checked"><tt>checked</tt><p>
Check use and modification of global. <p>
<a name="flag-checkedstrict"><tt>checkedstrict</tt><p>
Check use of global, even in functions with no global list. <p>
<b>Memory Management  </b>(<a href="sec5.html">Section 5</a>)<i></i><p>
<i></i><a name="flag-dependent"><tt>dependent</tt><p>
A reference to externally-owned storage.  (<a href="sec5.html#sec-5.2.2">Section 5.2.2</a>)<p>
<a name="flag-keep"><tt>keep</tt><p>
A parameter that is kept by the called function.  The caller may use the
storage after the call, but the called function is responsible for making sure
it is deallocated.  (<a href="sec5.html#sec-5.2.4">Section 5.2.4</a>)<p>
<a name="flag-killref"><tt>killref</tt><p>
A refcounted parameter.  This reference is killed by the call. (<a href="sec5.html#sec-5.4">Section 5.4</a>)<p>
<a name="flag-only"><tt>only</tt><p>
A unshared reference.  Associated memory must be released before reference is
lost.  (<a href="sec5.html#sec-5.2">Section 5.2</a>)<p>
<a name="flag-owned"><tt>owned</tt><p>
Storage may be shared by dependent references, but associated memory must be
released before this reference is lost.  (<a href="sec5.html#sec-5.2.2">Section 5.2.2</a>)<p>
<a name="flag-shared"><tt>shared</tt><p>
Shared reference that is never deallocated.  (<a href="sec5.html#sec-5.2.5">Section 5.2.5</a>)<p>
<a name="flag-temp"><tt>temp</tt><p>
A temporary parameter.  May not be released, and new aliases to it may not be
created.  (<a href="sec5.html#sec-5.2.2">Section 5.2.2</a>)<p>
<b>Aliasing  </b>(<a href="sec6.html">Section 6</a>)<b><i></i></b><p>
<b><i></i></b>Both alias annotations may be used on a parameter
declaration.<i></i><p>
<i></i><a name="flag-unique"><tt>unique</tt><p>
Parameter that may not be aliased by any other reference visible to the
function. (Section&nbsp;6.1.1)<p>
<a name="flag-returned"><tt>returned</tt><p>
Parameter that may be aliased by the return value.  (<a href="sec6.html#sec-6.1.2">Section 6.1.2</a>)<p>
<b>Exposure  </b>(<a href="sec6.html#sec-6.2">Section 6.2</a>)<b></b><p>
<b></b><a name="flag-observer"><tt>observer</tt><p>
Reference that cannot be modified.  (<a href="sec6.html#sec-6.2.1">Section 6.2.1</a>)<p>
<a name="flag-exposed"><tt>exposed</tt><p>
Exposed reference to storage in another object. (<a href="sec6.html#sec-6.2.1">Section 6.2.1</a>)<p>
<b>Definition State  </b>(<a href="sec7.html#sec-7.1">Section 7.1</a>)<p>
<a name="flag-out"><tt>out</tt><p>
Storage reachable from reference need not be defined.<p>
<a name="flag-in"><tt>in</tt><p>
All storage reachable from reference must be defined.<p>
<a name="flag-partial"><tt>partial</tt><p>
Partially defined.  A structure may have undefined fields.  No errors reported
when fields are used.<p>
<a name="flag-reldef"><tt>reldef</tt><p>
Relax definition checking.  No errors when reference is not defined, or when it
is used.<p>
<b>Global State  </b>(<a href="sec7.html#sec-7.1.4">Section 7.1.4</a>)<i></i><p>
<i></i>These annotations may only be used in globals lists.  Both annotations
may be used for the same variable, to mean the variable is undefined before and
after the call.<p>
<p>
<a name="flag-undef"><tt>undef</tt><p>
Variable is undefined before the call.<p>
<a name="flag-killed"><tt>killed</tt><p>
Variable is undefined after the call.<p>
<b>Null State  </b>(<a href="sec7.html#sec-7.2">Section 7.2</a>)<i></i><p>
<i></i><a name="flag-null"><tt>null</tt><p>
Possibly null pointer.<p>
notnull	<p>
Non-null pointer.<p>
<a name="flag-relnull"><tt>relnull</tt><p>
Relax null checking.  No errors when NULL is assigned to it, or when it is used
as a non-null pointer.<p>
<b>Null Predicates  </b>(<a href="sec7.html#sec-7.2.1">Section 7.2.1</a>)<b></b><p>
<b></b>A null predicate annotation may be used of the return value of a
function returning a boolean type, taking a possibly-null pointer for its first
argument.<p>
<a name="flag-truenull"><tt>truenull</tt><p>
If result is TRUE, first parameter is NULL.<p>
<a name="flag-falsenull"><tt>falsenull</tt><p>
If result is TRUE, first parameter is not NULL.<p>
<b>Execution  </b>(<a href="sec7.html#sec-7.3">Section 7.3</a>)<b></b><p>
<b></b>The <tt>exits</tt>, <tt>mayexit</tt> and <tt>neverexits</tt>
annotations may be used on any function.  The <tt>trueexit</tt> and
<tt>falseexit</tt> annotations may only be used on functions whose first
argument is a boolean.	<p> 
<tt>exits</tt>		<p>
Function never returns.<p>
<tt>mayexit</tt>		<p>
Function may or may not return.<p>
<tt>trueexit</tt>	<p>
Function does not return if first parameter is TRUE.<p>
<tt>falseexit</tt>	<p>
Function does not return if first parameter if FALSE.<p>
<tt>neverexit</tt><p>
Function always returns.<p>
<b>Side-Effects  </b>(<a href="sec8.html#sec-8.2.1">Section 8.2.1</a>)<b></b><p>
<b></b><a name="flag-sef"><tt>sef</tt><p>
Corresponding actual parameter has no side effects.<p>
<b>Declaration</b><p>
<b></b>These annotations can be used on a declaration to control unused or
undefined error reporting.<i></i><p>
<i></i><a name="flag-unused"><tt>unused</tt><p>
Identifier need not be used (no unused errors reported.)  (<a href="sec10.html#sec-10.4">Section 10.4</a>)<p>
<a name="flag-external"><tt>external</tt><p>
Identifier is defined externally (no undefined error reported.) (<a href="sec10.html#sec-10.5">Section 10.5</a>)
<p>
<b>Case</b><p>
<b></b><a name="flag-fallthrough"><tt>fallthrough</tt><p>
Fall-through case.  No message is reported if the previous case may
fall-through into the one immediately after the fallthrough.<p>
<b>Break  </b>(<a href="sec10.html#sec-10.2.3">Section 10.2.3</a>)<b></b><p>
<b></b>These annotations are used before a break or continue statement.<p>
<a name="flag-innerbreak"><tt>innerbreak</tt><p>
Break is breaking an inner loop or switch.<p>
<a name="flag-loopbreak"><tt>loopbreak</tt><p>
Break is breaking a loop.<p>
<a name="flag-switchbreak"><tt>switchbreak</tt><p>
Break is breaking a switch.<p>
<tt>innercontinue</tt><p>
<i></i>Continue is continuing an inner loop.<p>
<b>Unreachable Code</b><p>
<b></b>This annotation is used before a statement to prevent unreachable code
errors.<p>
<a name="flag-notreached"><tt>notreached</tt><p>
Statement may be unreachable.<p>
<b>Special Functions </b>(<a href="appE.html">Apppendix E</a>)<p>
These annotations are used immediately before a function declaration.<p>
<a name="flag-printflike"><tt>printflike</tt><p>
Check variable arguments like printf library function.   <p>
<a name="flag-scanflike"><tt>scanflike</tt><p>
Check variable arguments like scanf library function.
<a name="_Ref343065628"><a name="_Ref343091002"><a
name="_Toc344355453"><a name="_Ref348789839"><a name="_Toc349905959"></a></a></a>


<a name="app-E"></a>
<h2>Appendix E  Control Comments</h2></a></a>
<a name="_Ref348010146"><a name="_Toc349905960"></b><p>
<b><i>Error Suppression</a></a></i></b><p>
<b><i></i></b>Several comments are provided for suppressing messages.  In
general, it is usually better to use specific flags to suppress a particular
error permanently, but the general error suppression flags may be more
convenient for quickly suppressing messages for code that will be corrected or
documented later.<p>
<tt>ignore</tt><br>
<tt>end</tt>
<blockquote>
No errors will be reported in code regions between <tt>/*@ignore@*/</tt>
and <tt>/*@end@*/</tt>. These comments can be used to easily suppress an
unlimited number of messages, but are dangerous since if real errors are
introduced in the <tt>ignore ... end</tt> region they will not be
reported. The ignore and end comments must be matched - a warning is
printed if the file ends in an ignore region or if ignore is used inside
ignore region.
</blockquote>
<tt>i</tt><br>
<blockquote>
No errors will be reported from an <tt>/*@i@*/</tt> comment to the end of the line.<p>
</blockquote>
<tt>i</tt><i>&lt;n&gt;</i><br>
<blockquote>
 No errors will be reported from an /*@i<i>&lt;n&gt;</i>@*/ (e.g.,
<tt>/*@i3@*/</tt>) comment to the end of the line. If there are not
exactly <i>n </i>errors suppressed from the comment point to the end of
the line, LCLint will report an error.  This is more robust than i or
ignore since a message is generated if the expected number errors is not
present.  Since errors are not necessarily detected until after this
file is processed (for example, and unused variable error), suppress
count errors are reported after all files have been processed. The <a
href="appC.html#flag-supcounts"><tt>-supcounts</tt></a> flag may be
used to suppress these errors.  This is useful when a system if being
rechecked with different flag settings.  
</blockquote>
<tt>t</tt><br>
<tt>t</tt><i>&lt;n&gt;</i><br>
<blockquote>
Like <tt>i</tt> and <tt>i</tt><i>&lt;n&gt;</i>, except controlled by
<tt>+tmpcomments</tt> flag.  These can be used to temporarily suppress
certain errors.  Then, <tt>-tmpcomments</tt> can be set to find them
again.
</blockquote>
<p>
<b><i>Type Access</i></b><p>
<b><i></i></b>Control comments may also be used to override type access
settings. The syntax <tt>/*@access </tt><i>&lt;type&gt;</i>,+<tt>@*/</tt> allows the following code to
access the representation of <i>&lt;type&gt;</i>.  Similarly,
<tt>/*@noaccess </tt><i>&lt;type&gt;</i>,+<tt>@*/</tt> restricts access
to the representation of <i>&lt;type&gt;</i>.  The type in a noaccess
comment must have been declared as an abstract type.  Type access
applies from the point of the comment to the end of the file or the next
access control comment for this type. 
<a name="_Toc349905962"><p>
<b><i>Macro Expansion</a></i></b><p>
<b><i></i></b>The <tt>/*@notfunction@*/</tt>indicates that the next macro definition is
not intended to be a function, and should be expanded in line instead of
checked as a macro function definition.
<a name="_Ref347471625"><a name="_Toc349905963"><p>
<b><i>Traditional Lint Comments</a></a></i></b><p>
<b><i></i></b>Some of the control comments supported by most standard UNIX
lints are supported by LCLint so legacy systems can be checked more easily.
These comments are not lexically consistent with LCLint comments, and their
meanings are less precise (and may vary between different lint programs), so we
recommend that LCLint comments are used instead except for checking legacy
systems already containing standard lint comments.<p>
<p>
These standard lint comments supported by LCLint:<p>
<tt>/*FALLTHROUGH*/</tt> (alternate misspelling, <tt>/*FALLTHRU*/</tt>)
<blockquote>
Prevents errors for fall-through cases.  Same meaning as <tt>/*@fallthrough@*/</tt>.
</blockquote>
<tt>/*NOTREACHED*/</tt>
<blockquote>
Prevents errors about unreachable code (until the end of the function).  Same
meaning as <tt>/*@notreached@*/</tt>.  
</blockquote>
<tt>/*PRINTFLIKE*/</tt>
<blockquote>
Arguments similar to the printf library function (there didn't seem to be much
of a consensus among standard lints as to exactly what this means).  LCLint
supports:
<p>
<tt>/*@printflike@*/</tt>
<blockquote>
Function takes zero or more arguments of any type, an unmodified char * format
string argument and zero of more arguments of type and number dictated by the
format string.  Format codes are interpreted identically to the printf standard
library function.  May return a result of any type.  (LCLint interprets
<tt>/*PRINTFLIKE*/</tt> as <tt>/*@printflike@*/</tt>.)<p>
</blockquote>
<tt>/*@scanflike@*/</tt>
<blockquote>
Like printflike, except format codes are interpreted as in the scanf library
function.
</blockquote>
</blockquote>
<tt>/*ARGSUSED*/</tt>
<blockquote>
Turns off unused parameter messages for this function.  The control
comment, <tt>/*@-paramuse@*/</tt> can be used to the same effect, or
<tt>/*@unused@*/</tt> can be used in individual parameter declarations.
</blockquote>
<p>
LCLint will ignore standard lint comments if <a
href="appC.html#flag-lintcomments"><tt>-lintcomments</tt></a> is used.
If <a
href="appC.html#flag-warnlintcomments"><tt>+warnlintcomments</tt></a>
is used, LCLint generates a message for standard lint comments and suggest replacements,


<a name="app-F"></a>
<h2>Appendix F  Libraries</h2></a></a></a></b><p>
<b></b>Libraries can be used to record interface information.  A library
containing information about the  Standard C Library is used to enable checking
of library calls.  Program libraries can be created to enable fast checking of
single modules in a large program.
<p>
<b><i>Standard Libraries</i></b>
<p>
In order to check calls to library functions, LCLint uses an
annotated standard library.  This contains more information about function
interfaces then is available in the system header files since it uses
annotations.  Further, it contains only those functions documented in the ANSI
Standard.  Many systems include extra functions in their system libraries;
programs that use these functions cannot be compiled on other systems that do
not provide them.  Certain types defined by the library are treated as abstract
types (e.g., a program should not rely on how the FILE type is implemented).
When checking source code, LCLint does include system headers according to
include directive in the source code, but instead uses the library description
of the standard library.<p>
<p>

The LCLint distribution includes several different standard libraries:
the ANSI standard library, the POSIX standard library , and an ad hoc
UNIX library.  Each library comes in two versions: the standard version
and the strict version.
<p>
<b>ANSI Library</b>
<p>

The default behavior of LCLint is to use the ANSI standard library
(loaded from <tt>ansi.lcd</tt>).  This library is based on the standard library
described in the ANSI C Standard.  It includes functions and types added
by Amendment 1 to the ANSI C Standard.
<p>

<b>POSIX Library</b>
<p>

The POSIX library is selected by the <tt>+posixlib</tt> flag.  The POSIX library
is based on the IEEE Std 1003.1-1990.  
<p>

<b>UNIX Library</b>
<p>

The UNIX library is selected by the <tt>+unixlib</tt> flag.  This
library is an ad hoc attempt to capture additional functionality
provided by many UNIX platforms. Unfortunately, UNIX systems vary widely
and very few are consistent with the ANSI Standard.
<p>
The differences between the UNIX library and the POSIX library are:
<ul>
<li>  In the UNIX library, <tt>free</tt> is declared with a non-null
parameter.  ANSI C specifies that <tt>free</tt> should handle the
argument <tt>NULL</tt>, but several UNIX platforms crash if <tt>NULL</tt> is
passed to <tt>free</tt>. 
<li>   Extra variables, constants and functions are included in the UNIX
library.  Some declarations are not  part of the POSIX library, but are
believed to be available on many UNIX systems.  See <tt>lib/unix.h</tt>
for a list of the UNIX-only declarations. 
</ul>
<p>
Code checked using the UNIX library can probably be ported to some UNIX
systems without difficulty.  To enhance the likelihood that a program is
portable, the POSIX library should be used instead.
<p>
<b>Strict Libraries</b>
<p>
Stricter versions of the libraries are used if the
<tt>-ansi-strict</tt>, <tt>posix-strict-lib</tt> or
<tt>unix-strct-lib</tt> flag is used. These libraries use a stricter
interpretation of the library.  They will detect more errors in some programs, but may to produce many spurious errors for typical code. 
<p>
The differences between the standard libraries and the strict libraries
are:
<ul>
<li> The standard libraries declare the printing functions
(<tt>fprintf</tt>, <tt>printf</tt>, and <tt>sprintf</tt>) that may
return error codes to return <tt>int</tt> or <tt>void</tt>.  This prevents typical
programs from leading to deluge of ignored return value errors, but may
mean some relevant errors are not detected.  In the strict libraries, they
are declared to return <tt>int</tt>, so ignored return value errors will
be reported (depending on other flag settings).  Programs should check
that this return value is non-negative. 

<li> 
The standard libraries declare some parameters and return values to be
alternate types (<tt>int</tt> or <tt>bool</tt>, or <tt>int</tt> or
<tt>char</tt>).  The ANSI standard specifies these types as int to be
compatible with older versions of the library, but logically they make
more sense as <tt>bool</tt> or <tt>char</tt>.  In the strict libraries,
the stronger type is used.  The parameter to <tt>assert</tt> is
<tt>int</tt> or <tt>bool</tt> in the standard library, and <tt>bool</tt>
in the strict library.  The parameter to the character functions
isalnum, isalpha, iscntrl, isdigit, isgraph, islower, isprint, ispunct,
isspace, isupper, isxdigit, tolower and toupper is char or int in the
standard library and char in the strict library.  The type of the return
value of the character classification functions (all of the previous
character functions except tolower and toupper) is bool or int in the
standard library and bool in the strict library.  The type of the first
parameter to ungetc is char or int in the standard library and char in
the strict library (EOF should not be passed to ungetc).  The second
parameter to strchr and strrchr is char or int in the standard library
and char in the strict library.

<li> The global variables stdin, stdout and stderr are declared as
unchecked variables (see <a href="sec4.html#sec-4.2.1">Section
4.2.1</a>) in the standard libraries.  In the strict libraries, they are checked.  The global variable errno is declared unchecked in the standard
libraries, but declared checkedstrict in the strict libraries.
</ul>
<p>

<b>Generating the Standard Libraries</b>
<p>

The standard libraries are generated from header files included in the
LCLint distribution.  Some libraries are generated from more than one
header file.  Since the POSIX library includes the ANSI library, the
headers for the ANSI and POSIX libraries are combined to produce the
POSIX library.  Similarly, the UNIX library is composed of the ANSI,
POSIX and UNIX headers.  The header files include some sections that are
conditionally selected by defining <tt>STRICT</tt>.
<p>
The commands to generate the standard libraries are:
<blockquote>
<pre>
lclint -nolib ansi.h -dump ansi 
lclint -nolib -DSTRICT ansi.h -dump ansistrict
lclint -nolib ansi.h posix.h -dump posix
lclint -nolib -DSTRICT ansi.h posix.h -dump posixstrict
lclint -nolib ansi.h posix.h unix.h -dump unix
lclint -nolib -DSTRICT ansi.h posix.h unix.h -dump unixstrict
</pre>
</blockquote>

<p>
<b><i>User Libraries</a></a></i></b><p>
<b><i></i></b>To enable running LCLint on large systems, mechanisms are
provided for creating libraries containing necessary information.  This means
source files can be checked independently, after a library has been created.
The command line option -dump <i>library</i> stores information in the file
<i>library</i> (the default extension, <tt>.lcd</tt><a href="guide_fn.html#fn27">[27]</a>, is
added). Then, <tt>-load </tt><i>library</i> loads the library.  The library
contains interface information from the files checked when the library was
created.
<p>
<a name="headers">
<b><i>
Header File Inclusion
</i></b>
<p>
The standard behavior of LCLint on encountering 
<pre>
   #include &lt;X.h&gt;
</pre>

is to search for a file named <tt>X.h</tt> on the include search path
(set using <tt>-I</tt>) and then the system base include path (usually
<tt>/usr/include</tt>, default is set when LCLint is compiled).  If <tt>X.h</tt> is the name of a header file in a loaded standard library (either
ANSI or POSIX) and <tt>X.h</tt> is found in a directory that is a system
directory (as set by the <tt>-sysdirs</tt> flag; the default is <tt>/usr/include</tt>),
<tt>X.h</tt> will not be included if <tt>skip-ansi-headers</tt> or
<tt>skip-posix-headers</tt> (depending on whether <tt>X.h</tt> is an
ANSI or POSIX header file) is on (both are on by default).  To force all
headers to be included normally, use <tt>-skip-ansi-headers</tt> and
<tt>-skip-posix-headers</tt>.
<p>

Sometimes headers in system directories contain non-standard syntax
which LCLint is unable to parse.  The <tt>+skip-sys-headers</tt> flag
may be used to prevent any include file in a system directory from being
included. 

<p>
LCLint is fast enough that it can be run on medium-size (10,000
line) programs without performance concerns.  It takes about one second to
process a thousand source lines on a DEC Alpha.  Libraries can be used to
enable efficient checking of small modules in large programs.  To further
improve performance, header file inclusion can be optimized.<p>
<p>
When processing a complete system in which many files include the same headers,
a large fraction of processing time is wasted re-reading header files
unnecessarily.  If you are checking a 100-file program, and every file includes
<tt>utils.h</tt>, LCLint will have to process utils.h 100 times (as would most C
compilers).  If the <a href="appC.html#flag-singleinclude"><tt>+singleinclude</tt></a> flag is used, each header file is processed
only once.  Single header file processing produces a significant efficiency
improvement when checking large programs split into many files, but is only
safe if the same header file included in different contexts always has the same
meaning (i.e., it does not depend on preprocessor variable defined differently
at different inclusion sites).<p>
<p>
When processing a single file in a large system, a large fraction of the time
is spent processing included header files.  This can be avoided if the
information in the header files is stored in a library instead.  If
<a href="appC.html#flag-neverinclude"><tt>+neverinclude</tt></a> is set, inclusion of files ending in .h is prevented.  Files with
different suffixes are included normally.  To do this the header files must not
include any expanded macros. That is, the header file must be processed with
<a href="appC.html#flag-allmacros"><tt>+allmacros</tt></a>, and there must be no <tt>/*@notfunction@*/</tt> control comments in the
header.  Then, the <a href="appC.html#flag-neverinclude"><tt>+neverinclude</tt></a> flag may be used to prevent inclusion of header
files.  Alternately, non-function macros can be moved to a different file with
a name that does not end in <tt>.h</tt>.  Remember, that this file must be included
directly from the <tt>.c</tt> file, since if it is included from a <tt>.h</tt> file indirectly,
that <tt>.h</tt> file is ignored so the other file is never included.<p>
<p>
These options can be used for significant performance improvements on large
systems.  The performance depends on how the code is structured, but checking a
single module in a large program is several times faster if libraries and
<a href="appC.html#flag-neverinclude"><tt>+neverinclude</tt></a> are used.
<a name="_Ref348788300"><a name="_Toc349905968"><a name="_Ref350066976"><p>


<a name="app-G"></a>
<h2>Appendix G  Specifications</h2></a></a></a></b><p>
<b></b>Another way of providing more information about programs is to use
formal specifications.  Although this document has largely ignored
specifications, LCLint was originally designed to use the information in LCL
specifications instead of source-code annotations.  This document focuses on
annotations since it takes less effort to add annotations to source code than
to maintain an additional specification file.  Annotations can express
everything that can be expressed in LCL specifications that is relevant to
LCLint checking.  However, LCL specifications can provide more precise
documentation on program interfaces than is possible with LCLint annotations.
This
appendix (extracted from [<a href="references.html#ref-Evans94">Evans94</a>]) is a very brief introduction to LCL
Specifications.
For more information, consult [<a href="references.html#ref-GH93">GH93</a>].      <p>
<p>
The Larch family of languages is a two-tiered approach to formal specification.
A specification is built using two languages -- the <i>Larch Shared
Language</i> (LSL), which is independent of the implementation language, and a
<i>Larch Interface Language</i> designed for the specific implementation
language.  An LSL specification defines <i>sorts</i>, analogous to abstract
types in a programming language, and <i>operators</i>, analogous to procedures.
It expresses the underlying semantics of an abstraction.<p>
<p>
The interface language specifies an interface to an abstraction in a particular
programming language.  It captures the details of the interface needed by a
client using the abstraction and places constraints on both correct
implementations and uses of the module.  The semantics of the interface are
described using primitives and sorts and operators defined in LSL
specifications.  Interface languages have been designed for several
programming languages.<p> 
<p>
LCL
[<a
href="references.html#ref-GH93">GH93</A>, 
<a
href="references.html#ref-Tan94">Tan94</A>] is a Larch interface language for Standard C.  LCL uses a
C-like syntax.  Traditionally, a C module <i>M</i> consists of a source file,
<i>M</i><tt>.c</tt>, and a header file, <i>M</i><tt>.h</tt>.  The header
file contains prototype declarations for functions, variables and constants exported
by <i>M</i>, as well as those macro definitions that implement exported
functions or constants, and definitions of exported types. When using LCL, a
module includes two additional files - <i>M</i><tt>.lcl</tt>, a formal specification of
<i>M</i>, and  <i>M</i><tt>.lh</tt>, which is derived by LCLint (if the
<a href="appG.html#flag-lh"><tt>lh</tt></a> flag is on) from
<i>M</i><tt>.lcl</tt>.  Clients use <i>M</i><tt>.lcl</tt> for documentation, and should
not need to look at any implementation file.  The derived file,
<i>M</i><tt>.lh</tt>, contains include directives (if <i>M</i> depends on other specified modules), prototypes of functions and declarations of variables as specified in
<i>M</i><tt>.lcl</tt>.  The file <i>M</i><tt>.h</tt> should include
<i>M</i><tt>.lh</tt> and retain the implementation aspects of the old
<i>M</i><tt>.h</tt>, but is no longer used for client documentation.<p>
<p>
The LCLint release package includes a grammar for LCL and examples of LCL
specifications.
<a name="_Ref348845779"><a name="_Toc349905951"><p>
<b><i>Specification Flags</a></i></b><p>
<b><i></i></b>These flags are relevant only when LCLint is used with LCL
specifications. <p>
<b>Global Flags</b><p>
<b></b><a name="flag-lcs"><tt>lcs</tt><p>
Generate <tt>.lcs</tt> files containing symbolic state of <tt>.lcl</tt> files (used for imports).
By default <tt>.lcs</tt> files are generated for each <tt>.lcl</tt> file
processed.  Use <tt>-lcs</tt> to
prevent generation of <tt>.lcs</tt> files.<p>
<a name="flag-lh"><tt>lh</tt><p>
Generate <tt>.lh</tt> files.  By default, <tt>-lh</tt> is set and no
<tt>.lh</tt> files are generated. Use <a href="appG.html#flag-lh"><tt>+lh</tt></a> to enable .lh file generation.  <p>
<a name="flag-i">
<tt>i </tt>&lt;file&gt;<p>
Set LCL initialization file to <i>&lt;file&gt;</i>.  The LCL initialization
file is read if any <tt>.lcl</tt> files are listed on the command line.  The default
file is <tt>lclinit.lci</tt>, found on the <tt>LARCH_PATH</tt>.<p>
<a name="flag-lclexpect">
<tt>lclexpect </tt><i>&lt;number&gt;</i><p>
Exactly <i>&lt;number&gt;</i> specification errors are expected.  Specification
errors are errors detected when checking the specifications.  They do not
depend on the source code.<p>
<b>Implicit Globals Checking Qualifiers</b><p>

<a name="flag-impcheckedspecglobs">
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<tt>impcheckedspecglobs</tt><br>
Implicit checked qualifier on global variables specified in an LCL file
with no checking annotation.<p>
<a href="appC.html#mode-key">m: </a><tt>----</tt><br>
<a name="flag-impcheckmodspecglobs"><tt>impcheckmodspecglobs</tt><br>
Implicit checkmod qualifier on global variables specified in an LCL file with
no checking annotation.<p>
<a href="appC.html#mode-key">m: </a><tt>---+</tt><br>
<a name="flag-impcheckedstrictspecglobs"><tt>impcheckedstrictspecglobs</tt><p>
Implicit checked qualifier on global variables specified in an LCL file with no
checking annotation. 
<p>
<b>Implicit Annotations</b><p>

<a href="appC.html#plain-key">plain</a>: <tt>-</tt><br>
<a name="flag-specglobimponly"><tt>specglobimponly</tt>
<p>
Implicit only annotation on global variable declaration in an LCL file with no
allocation annotation.<p>

<a href="appC.html#plain-key">plain</a>: <tt>-</tt><br>
<a name="flag-specretimponly"><tt>specretimponly</tt><p>
Implicit only annotation on return value declaration in an LCL file with no
allocation annotation.
<p>
<a href="appC.html#plain-key">plain</a>: <tt>-</tt><br>
<a name="flag-specstructimponly"><tt>specstructimponly</tt><p>
Implicit only annotation on structure field declarations in an LCL file with no
allocation annotation.<p>
<a href="appC.html#shortcut-key">shortcut</a><br>
<a name="flag-specimponly"><tt>specimponly</tt><p>
Sets <a
href="appG.html#flag-specglobimponly"><tt>specglobimponly</tt></a>, 
<a href="appG.html#flag-specretimponly"><tt>specretimponly</tt></a> and
<a href="appG.html#flag-specstructimponly"><tt>specstructimponly</tt></a>.<p>
<p>
<b>Macro Expansion</b><p>
<b></b><p>
<a href="appC.html#plain-key">plain</a>: <tt>+</tt><br>             
<a name="flag-specmacros"><tt>specmacros</tt><p>
Macros defining specified identifiers are not expanded and are checked
according to the specification.	<p>
<b>Complete Programs and Specifications</b><p>
<a href="appC.html#mode-key">m: </a><tt>-+++</tt><br>
<b></b><a name="flag-specundef"><tt>specundef</tt><p>
Function, variable, iterator or constant specified but never defined.
<p>
<a href="appC.html#plain-key">plain</a>: <tt>-</tt><br>                   
<a name="flag-specundecl"><tt>specundecl</tt><p>
Function, variable, iterator or constant specified but never declared.
<p>
<a href="appC.html#plain-key">plain</a>: <tt>-</tt><br>
<a name="flag-needspec"><tt>needspec</tt><p>
There is information in the specification that is not duplicated in syntactic
comments.  Normally, this is not an error, but it may be useful to detect it to
make sure checking incomplete systems without the specifications will still use
this information.<p>
<a href="appC.html#shortcut-key">shortcut</a><br>       
<a name="flag-exportany"><tt>exportany</tt><p>
An error is reported for any identifier that is exported but not specified.
(Sets all export flags below.)<p>
<a href="appC.html#mode-key">m: </a><tt>---+</tt><br>
<a name="flag-exportconst"><tt>exportconst</tt><p>
Constant exported but not specified.<p>
<a href="appC.html#mode-key">m: </a><tt>---+</tt><br>
<a name="flag-exportvar"><tt>exportvar</tt><p>
Variable exported but not specified.<p>
<a href="appC.html#mode-key">m: </a><tt>---+</tt><br>
<a name="flag-exportfcn"><tt>exportfcn</tt><p>
Function exported but not specified.<p>
<a href="appC.html#mode-key">m: </a><tt>---+</tt><br>
<a name="flag-exportiter"><tt>exportiter</tt><p>
Iterator exported but not specified.<p>
<a href="appC.html#mode-key">m: </a><tt>---+</tt><br>            
<a name="flag-exportmacro"><tt>exportmacro</tt><p>
An expanded macro exported but not <a name="flag-specified"><tt>specified</tt><p>
<a href="appC.html#mode-key">m: </a><tt>---+</tt><br>
<a name="flag-exporttype"><tt>exporttype</tt><p>            
Type definition exported but not specified 
<a name="_Toc349905969"><a name="_Ref349906218"></a><p>


<a name="app-H"></a>
<h2>Appendix H  Emacs</h2></a></a><p>
<b></b>LCLint can be used most productively with the emacs text editor.  The
release package includes emacs files for running LCLint and editing code with
annotations.

<b><i>Editing Abbreviations</a></i></b><p>
<b><i></i></b>An additional file, <tt>emacs/lclint-abbrevs</tt> contains abbreviations
for LCLint syntactic comments and annotations.  If it is loaded, the comment
surrounding an LCLint annotation will be added automatically.  For example,
typing "<tt>only</tt>" and a space, will produce "<tt>/*@only@*/</tt> ".
Abbreviations are provided for each LCLint syntactic comment.  The
abbreviation of  <tt>/*@null@*/</tt> is <tt>nll</tt> (not null), since
it is often necessary to type NULL.  <p> 
Abbreviations are loaded and used when a <tt>.c</tt> or <tt>.h</tt> file is edited by adding
these lines to your .emacs file:
<a name="_Toc344355450"><p>
<tt>(quietly-read-abbrev-file "</tt><i>&lt;directory&gt;</i><tt>/lclint-abbrevs")</tt><p>
<tt>(setq c-mode-hook (function (lambda nil (abbrev-mode 1))))</tt>


<a name="references"></a>
<h2>
References
</h2>
<h4>
<a name="RTFToC89">LCLint</a></h4>
<a name="ref-Evans94">
[Evans94]
David Evans. <a href="http://www.cs.virginia.edu/~evans/tr-628.html"><i>Using specifications to check source code</i></a>.
MIT/LCS/TR 628, Laboratory for Computer Science, MIT, June 1994.<p>
<blockquote>
SM Thesis.  Describes research behind LCLint, focusing on how specifications
can be exploited to do lightweight checking.  Includes case studies using
LCLint.
</blockquote>
<p>
<a name="ref-EGHT94">
[EGHT94]
David Evans, John Guttag, Jim Horning and Yang Meng Tan.  
<a href="http://www.cs.virginia.edu/~evans/sigsoft94.html"><i>LCLint: A
tool for using specifications to check code</i></a>.  SIGSOFT Symposium on the
Foundations of Software Engineering, December 1994.<p>
<blockquote>
Introduction to LCLint.  Shows how LCLint is used to find errors in a sample
program.
</blockquote>
<p>
<a name="ref-Evans96">
[Evans96]
David Evans.  
<a href="http://www.cs.virginia.edu/~evans/pldi96-abstract.html">
<i>Static Detection of Dynamic Memory Errors</i></a>.  In SIGPLAN Conference on Programming Language Design and Implementation
(PLDI '96), Philadelphia, PA., May 1996.<p>
<blockquote>
Describes approach for exploiting annotations added to code to detect a wide
class of errors.  Focuses on checks described in Sections 5-7 of this guide.  
</blockquote>
<h4>
<a name="RTFToC90">Larch</a></h4>
<a name="ref-GH93">
[GH93] Guttag, John V. and Horning, James J., with Stephen J. Garland, Kevin D.
Jones, Andr&eacute;s Modet, and Jeannette M. Wing, <u>Larch: Languages and
Tools for Formal Specification</u>, Springer-Verlag, Texts and Monographs in
Computer Science, 1993.<p>
<blockquote>
Overview of the Larch family of specification languages and related tools.
Includes a chapter on LCL, the Larch C interface language, on which LCLint is
based.
</blockquote>
<p>
<a name="ref-Tan94">
[Tan95] Tan, Yang Meng.  <u>Formal Specification Techniques for
Engineering Modular C</u>, Kluwer International Series in Software
Engineering, Volume 1, Kluwer Academic Publishers, Boston, 1995.<p>
<blockquote>
Modified and updated version of MIT Ph. D. dissertation, previously
published as MIT/LCS/TR-619, 1994.  Includes presentation of the
semantics of LCL and a case study using LCL.
</blockquote>
<h4>
<a name="RTFToC91">C</a></h4>
<a name="ref-ANSI">
[ANSI] American National Standard for Information Systems, Programming
Language, C.  ANSI X3.159-1989.  (Believed to be identical to ISO/IEC
9899:1990).  
<blockquote>
Specification for C programming language.  LCLint aims to be consistent with
this
document.
</blockquote>

<a name="ref-Hat95">
[Hat95] Hatton, Les.  <u>Safer C: Developing Software for High-integrity and
Safety-critical
Systems.</u>
McGraw-Hill International Series in Software Engineering, 1995.
<blockquote>
A broad work on all aspects of developing safety-critical software, focusing on
the C language.  Provides good justification for the use of C in
safety-critical systems, and the necessity of tool-supported programming
standards.  LCLint users will be interested to see how many of the errors
listed as only being dynamically detectable can be detected statically by
LCLint.
</blockquote>

<a name="ref-KR88">
[KR88] Kernighan, Brian W. and Ritchie, Dennis M.  <u>The C Programming
Language</u>, second edition.  Prentice Hall, New Jersey, 1988.
<blockquote>
Standard reference for ANSI C.  If you haven't heard of this one, you probably
didn't get this far (unless you started at the back).
</blockquote>
<a name="ref-vdL94">
[vdL94] Van der Linden, Peter.  <u>Expert C Programming:  Deep C Secrets</u>.
SunSoft Press, Prentice Hall, New Jersey,  1994.
<blockquote>
Filled with useful information on the darker corners of C, as well as lots of
industry anecdotes and humor.  LCLint's reserved name checking is loosely based
on the list of reserved names in this book.
</blockquote>
<h4>
<a name="RTFToC92">Abstract
Types
</a></h4>
<a name="ref-LG86">
[LG86] Liskov, Barbara. and Guttag, John V.  <u>Abstraction and Specification
in
Program Development</u>, MIT Press, Cambridge, MA, 1986.
<blockquote>
Describes a programming methodology using abstract types and specified
interfaces.  Much of the methodology upon which LCLint is based comes from this
book.
Uses the CLU programming language.
</blockquote>

<html>
<head>
<title>Acknowledgements</title>
</head>
<body bgcolor="#FFFFFF" link="#CC0000" alink="#FF3300" vlink="#000088">

<H1>
Acknowledgements<BR>
</H1>

<A HREF="http://larch-www.lcs.mit.edu:8001/~guttag/">John Guttag</A> and
<A HREF="http://reality.sgi.com/employees/horning_mti/home.html">Jim
Horning</A> had the original idea for LCLint, have provided valuable
advice on its functionality and design, and been instrumental in its
development.  This work has also benefited greatly from discussions with
Mike Burrows, <A
HREF="http://larch-www.lcs.mit.edu:8001/~garland/">Stephen Garland</A>,
Colin Godfrey, Steve Harrison, Daniel Jackson, <A
HREF="http://larch-www.lcs.mit.edu:8001/~aleeb/">Angelika Leeb</A>, <A
HREF="http://larch-www.lcs.mit.edu:8001/~ulana/">Ulana Legedza, <A
Anya Pogosyants, Navneet Singh, <A
HREF="http://larch-www.lcs.mit.edu:8001/~raymie">Raymie Stata</A>, <A
HREF="http://larch-www.lcs.mit.edu:8001/~ymtan">Yang Meng Tan</A>, and
<A HREF="http://larch-www.lcs.mit.edu:8001/~mtv">Mark Vandevoorde</A>.
I especially thank Angelika Leeb for many constructive comments on
improving the User's Guide, Raymie Stata for help designing and setting up
the web site and Mark Vandevoorde for technical assistance.
<p>
Much of LCLint's development has been driven by feedback from users in
academia and industry.  Many more people than I can mention here have
made contributions by suggesting improvements, reporting bugs, porting
early versions of LCLint to other platforms.  Particularly heroic
contributions have been made by Eric Bloodworth, Jutta
Degener, Rick Farnbach, Chris Flatters, Huver Hu, John Gerard Malecki,
Thomas G.  McWilliams, Michael Meskes, Richard O'Keefe, Jens
Schweikhardt, and Albert L. Ting.

<p> LCLint incorporates the original LCL checker developed by Yang Meng
Tan.  This was built on the DECspec Project (Joe Wild, Gary Feldman,
Steve Garland, and Bill McKeeman).  The LSL checker used by LCLint was
developed by Steve Garland.  The original C grammar for LCLint was
provided by Nate Osgood.

<p>

This research was supported by grants from ARPA (N0014-92-J-1795), NSF
(9115797-CCR) and DEC ERP.  David Evans is supported by an Intel
Foundation Fellowship.  LCLint is developed on DEC 3000/500 and
DECmips machines provided by <A HREF="http://www.digital.com/">Digital
Equipment Corporation</A> and Pentium Pro (tm) machines donated by <A
HREF="http://www.intel.com/">Intel Corporation</a>.  This document was produced using
Pentium (tm) and Pentium Pro (tm) Computers donated by <A
HREF="http://www.intel.com/">Intel Corporation</A> and Microsoft
Office (tm) software donated by <A
HREF="http://www.microsoft.com/">Microsoft</A>. 

<p>
<em>If you are listed here, and want me to add a link to your homepage,
send <a href="mailto:evans@cs.virginia.edu">me</a> email.</em>
<P>

<h2>Footnotes</h2>
<a name="fn1">
1 Lint is a common programming tool for detecting anomalies in C
programs.  The original lint was developed by S. C. Johnson in the late
seventies, mainly because early versions of C did not support function prototypes.<p>
<a name="fn2">
2 Another way to provide extra information about code is to use formal
specifications (<a href="appG.html">Appendix G</A>).</a><p>
<a name="fn3">
3 Unlike regular C comments, control comments should not be used within a
single token.  They may introduce new separators in the code during parsing.<p>
<a name="fn4">
4 For abstract types whose instances can change value, a client does need to
know if assignment has copy or sharing semantics (see <a
href="sec3.html#sec-3.2">Section 3.2</a>).<p>
<a name="fn5">
5 <em>Does not apply to HTML version.</em>
<i>italics</i>. <p>
<a name="fn6">
6 The meta-notation, item,+ is used to denote a comma separated list of items.
For example, <tt>/*@access mstring, intSet@*/</tt> provides access to
the representations of both <tt>mstring</tt> and <tt>intSet</tt>.)   <p>
<a name="fn7">
7 Through the parameter.  Modifications using some other variable that has a
pointer to the location of this parameter are not considered.<p>
<a name="fn8">
8 The flag <a href="appC.html#flag-booltype"><tt>-booltype</tt></a>
can be used to select a different name for the boolean type.  To change
the names of <tt>TRUE</tt> and <tt>FALSE</tt>, use <a
href="appC.html#flag-booltrue"><tt>-booltrue</tt></a>
 and <a href="appC.html#flag-boolfalse"><tt>-boolfalse</tt></a>.  The
LCLint distribution includes an implementation of <tt>bool</tt>, in <tt>lib/bool.h</tt>.
However, it isn't necessary to use this implementation to get the
benefits of boolean checking.<p> 
<a name="fn9">
9 This means that theoreticians can prove that no algorithm exists that solves
the problem correctly for all possible programs.<p>
<a name="fn10">
10 This section is largely based on [<a
href="guide.html#ref-Evans96">Evans96</a>].  It semi-formally defines
some of the terms needed to describe memory management checking;  if you are satisfied with an intuitive understanding of these terms, this section may be
skipped.<p>
<a name="fn11">
11 This is similar to the LISP storage model, except that objects are typed.<p>
<a name="fn12">
12 Except <tt>sizeof</tt>, which does not need the value of its argument.<p>
<a name="fn13">
13 If the storage is not assigned to a reference, an internal reference
is created to track the storage.<p>
<a name="fn14">
14 The full declaration of <tt>malloc</tt> also includes a <tt>null</tt>
annotation (<a href="sec7.html#sec-7.2">Section 7.2</a>) to
indicate that the result may be <tt>NULL</tt> (as it is when the requested storage
cannot be allocated) and an <tt>out</tt> annotation (<a
href="sec7.html#sec-7.1">Section 7.1</a>) to indicate that the result
points to undefined storage.<p> 
<a name="fn15">
15 The full declaration of <tt>free</tt> also has <tt>out</tt> and
<tt>null</tt> annotations on the parameter to indicate that the argument
may be <tt>NULL</tt> and need not point to defined storage.  According
to [<a href="guide.html#ref-ANSI">ANSI</a>, 4.10.3.2], <tt>NULL</tt> may
be passed to <tt>free</tt> without an error.  On some UNIX platforms,
passing <tt>NULL</tt> to <tt>free</tt> causes a program crash so the
UNIX version of the standard library (<a
href="appF.html">Appendix F</a>) specifies <tt>free</tt> without the
<tt>null</tt> annotation on its parameter. To check that allocated
objects are completely destroyed (e.g., all unshared objects inside a
structure are deallocated before the structure is deallocated), LCLint
checks that any parameter passed as an <tt>out only void *</tt> does not
contain references to live, unshared objects.  This makes sense, since
such a parameter could not be used sensibly in any way other than
deallocating its storage. 
<p>
<a name="fn16">
16 If an exposure qualifier is used (see <a
href="sec6.html#sec-6.2">Section 6.2</a>), the implied dependent
annotation is used instead of the more generally implied only
annotation.  
<p> 
<a name="fn17">
17 Strictly, we should also check that the returned <tt>observer</tt> storage is not
used again after any other calls to the abstract type module using the same
parameter.  LCLint does not attempt to check this, and in practice it is not
usually a problem.<p>
<a name="fn18">
18 Note that if the parameter is annotated with <tt>only</tt>, it is not an error to
assign it to part of an abstract representation, since the caller may not use
the storage after the call returns.<p>
<a name="fn19">
19 That is, the return type is <tt>bool</tt>, or <tt>int</tt> if <a
href="appC.html#flag-boolint">+boolint</tt></a> is used. <p> 
<a name="fn20">
20 The sef annotation denotes a parameter as side-effect free (see <a
href="sec8.html#sec-8.2.1">Section 8.2.1</a>). 
By declaring the argument to assert to be side-effect free, LCLint will report
errors if the parameter to assert produces a side-effect.  This is especially
pertinent if assertions are turned off when the production version is compiled.
The <tt>bool /*@alt int@*/</tt> type specifier for the parameter means
the parameter type must match either <tt>bool</tt> or <tt>int</tt>.
Alternate types are described in <a href="sec8.html#sec-8.2.2">Section
8.2.2</a>.<p> 
<a name="fn21">
21 To be completely correct, all the macro parameters should be evaluated
before the macro has any side-effects.  Since checking this would require
extensive analysis for occasional modest gain, it was not considered worth
implementing.<p>
<a name="fn22">
22 Note that functions which do not produce to the same result each time they
are called with the same arguments should be declared to modify internalState
so they  will lead to errors if they are passed as sef parameters.<p>
<a name="fn23">
23 The most renown C naming convention is the Hungarian naming convention,
introduced by Charles Simonyi [Simonyi, Charles, and Martin Heller.  "The
Hungarian Revolution."  <i>BYTE</i>, August 1991, p. 131-38].  The names for
LCLint naming conventions follow the tradition of using Central European
nationalities as mnemonics for naming conventions.  The LCLint conventions are
similar to the Hungarian naming convention in that they encode type information
in names, except that the LCLint conventions encode the names of accessible
abstract types instead of the type of the declaration of return value.
Prefixes used in the Hungarian naming convention are not supported by LCLint.<p>
<a name="fn24">
24 Namespace prefixes should probably be described by regular expressions.
LCLint uses a simpler, more limited means for describing names, which is
believed to be adequate for describing most useful naming conventions.  If
there is sufficient interest, regular expressions may be supported in a future
version of LCLint.<p>
<a name="fn25">
25 Peter van der Linden estimates that default fall through is the wrong
behavior 97% of the time.  [<a href="guide.html#ref-vdL">vdL95</a>, p. 37]<p>
<a name="fn26">
26 "Software Glitch Cripples AT&amp;T Network", Telephony, 22 January 1990.<p>
<a name="fn27">
27 In earlier versions of LCLint, the default extension <tt>.lldmp</tt> was used.  This
has been shortened to <tt>.lcd</tt>.
</body>

<HR>
<A HREF="guide.html#contents">
<IMG ALIGN=left SRC = "up-arrow.jpg" ALT = "Contents"></A>
<A HREF="../index.html">
<IMG ALIGN=left SRC = "lclint-home-small.jpg" ALT = "LCLint Home Page"></A>
<author> <a href="http://www.cs.virginia.edu/~evans">David
Evans</a> <br>
<a href="http://www.cs.virginia.edu">University of Virginia, Computer Science</A><br>
<a
href="mailto:evans@cs.virginia.edu"><em>evans@cs.virginia.edu</em></a>
</author>
</body>
</html>
