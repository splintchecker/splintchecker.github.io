<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>fileloc.c Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.3 on Fri Nov 3 18:57:41 2000 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>fileloc.c</h1><a href="fileloc_c.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">/*</font>
00002 <font class="comment">** LCLint - annotation-assisted static program checker</font>
00003 <font class="comment">** Copyright (C) 1994-2000 University of Virginia,</font>
00004 <font class="comment">**         Massachusetts Institute of Technology</font>
00005 <font class="comment">**</font>
00006 <font class="comment">** This program is free software; you can redistribute it and/or modify it</font>
00007 <font class="comment">** under the terms of the GNU General Public License as published by the</font>
00008 <font class="comment">** Free Software Foundation; either version 2 of the License, or (at your</font>
00009 <font class="comment">** option) any later version.</font>
00010 <font class="comment">** </font>
00011 <font class="comment">** This program is distributed in the hope that it will be useful, but</font>
00012 <font class="comment">** WITHOUT ANY WARRANTY; without even the implied warranty of</font>
00013 <font class="comment">** MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</font>
00014 <font class="comment">** General Public License for more details.</font>
00015 <font class="comment">** </font>
00016 <font class="comment">** The GNU General Public License is available from http://www.gnu.org/ or</font>
00017 <font class="comment">** the Free Software Foundation, Inc., 59 Temple Place - Suite 330, Boston,</font>
00018 <font class="comment">** MA 02111-1307, USA.</font>
00019 <font class="comment">**</font>
00020 <font class="comment">** For information on lclint: lclint-request@cs.virginia.edu</font>
00021 <font class="comment">** To report a bug: lclint-bug@cs.virginia.edu</font>
00022 <font class="comment">** For more information: http://lclint.cs.virginia.edu</font>
00023 <font class="comment">*/</font>
00024 <font class="comment">/*</font>
00025 <font class="comment">** fileloc.c</font>
00026 <font class="comment">*/</font>
00027 <font class="comment">/*</font>
00028 <font class="comment"> * Modified by Herbert 04/19/97:</font>
00029 <font class="comment"> * - added new include file portab.h.</font>
00030 <font class="comment"> * - added new private function fileloc_filenameForCpp() to handle</font>
00031 <font class="comment"> *   filenames belonging to "#line" statements for OS/2 and MSDOS. It</font>
00032 <font class="comment"> *   gets called by fileloc_lineMarker() and fileloc_previousLineMarker()</font>
00033 <font class="comment"> *   instead of fileloc_unparseFilename().</font>
00034 <font class="comment"> */</font>
00035 
00036 <font class="preprocessor"># include "lclintMacros.nf"</font>
00037 <font class="preprocessor"># include "llbasic.h"</font>
00038 <font class="preprocessor"># include "fileIdList.h"</font>
00039 <font class="preprocessor"># include "portab.h"</font>
00040 
00041 <font class="keyword">static</font> <font class="comment">/*@only@*/</font> fileloc fileloc_createPrim (flkind p_kind, fileId p_fid, <font class="keywordtype">int</font> p_line, <font class="keywordtype">int</font> p_col);
00042 
00043 <font class="keyword">static</font> flkind fileId_kind (fileId s)<font class="keyword"></font>
00044 <font class="keyword"></font>{
00045   cstring fname = rootFileName (s);
00046   
00047   <font class="keywordflow">if</font> (<a class="code" href="general_c.html#a8">isLCLfile</a> (fname))
00048     {
00049       <font class="keywordflow">return</font> (FL_SPEC);
00050     }
00051   <font class="keywordflow">else</font> <font class="keywordflow">if</font> (<a class="code" href="cstring_c.html#a22">cstring_equalPrefix</a> (fname, SYSTEM_LIBDIR))
00052     {
00053       <font class="keywordflow">return</font> (FL_STDHDR); 
00054     }
00055   <font class="keywordflow">else</font>
00056     {
00057       <font class="keywordflow">return</font> (FL_NORMAL);
00058     }
00059 }  
00060 
00061 fileloc
<a name="l00062"></a><a class="code" href="fileloc_c.html#a2">00062</a> <a class="code" href="fileloc_c.html#a2">fileloc_decColumn</a> (fileloc f, <font class="keywordtype">int</font> x)<font class="keyword"></font>
00063 <font class="keyword"></font>{
00064   fileloc ret = <a class="code" href="fileloc_c.html#a5">fileloc_copy</a> (f);
00065   <font class="keywordflow">if</font> (x &gt; 0 &amp;&amp; fileloc_isDefined (ret))
00066     {
00067       llassertprint (ret-&gt;column &gt; x, ("decColumn: %d", x));
00068       ret-&gt;column -= x;
00069     }
00070 
00071   <font class="keywordflow">return</font> ret;
00072 }
00073 
00074 fileloc
<a name="l00075"></a><a class="code" href="fileloc_c.html#a3">00075</a> <a class="code" href="fileloc_c.html#a3">fileloc_noColumn</a> (fileloc f)<font class="keyword"></font>
00076 <font class="keyword"></font>{
00077   <font class="keywordflow">if</font> (fileloc_isDefined (f))
00078     {
00079       fileloc ret = <a class="code" href="fileloc_c.html#a5">fileloc_copy</a> (f);
00080 
00081       <font class="keywordflow">if</font> (fileloc_isDefined (ret))
00082         {
00083           ret-&gt;column = 0;
00084         }
00085 
00086       <font class="keywordflow">return</font> ret;
00087     }
00088   <font class="keywordflow">else</font>
00089     {
00090       <font class="keywordflow">return</font> fileloc_undefined;
00091     }
00092 }
00093 
00094 <font class="keywordtype">void</font>
<a name="l00095"></a><a class="code" href="fileloc_c.html#a4">00095</a> <a class="code" href="fileloc_c.html#a4">fileloc_subColumn</a> (fileloc f, <font class="keywordtype">int</font> x)<font class="keyword"></font>
00096 <font class="keyword"></font>{
00097   <font class="keywordflow">if</font> (x &gt; 0 &amp;&amp; fileloc_isDefined (f))
00098     {
00099       llassert (f-&gt;column &gt; x);
00100       f-&gt;column -= x;
00101     }
00102 }
00103 
<a name="l00104"></a><a class="code" href="fileloc_c.html#a5">00104</a> fileloc <a class="code" href="fileloc_c.html#a5">fileloc_copy</a> (fileloc f)<font class="keyword"></font>
00105 <font class="keyword"></font>{
00106   <font class="keywordflow">if</font> (fileloc_isDefined (f))
00107     {
00108       <font class="keywordflow">if</font> (fileloc_isBuiltin (f) || fileloc_isExternal (f))
00109         {
00110           <font class="comment">/*</font>
00111 <font class="comment">          ** Legitimate (spurious) errors reported since no copy</font>
00112 <font class="comment">          ** is made.</font>
00113 <font class="comment">          */</font>
00114 
00115           <font class="comment">/*@i3@*/</font> <font class="keywordflow">return</font> f; <font class="comment">/* No copy is necessary. */</font>
00116         }
00117       <font class="keywordflow">else</font>
00118         {
00119           <font class="keywordflow">return</font> (fileloc_createPrim (f-&gt;kind, f-&gt;fid, f-&gt;lineno, f-&gt;column));
00120         }
00121     }
00122   <font class="keywordflow">else</font>
00123     {
00124       <font class="keywordflow">return</font> fileloc_undefined;
00125     }
00126 }
00127 
<a name="l00128"></a><a class="code" href="fileloc_c.html#a6">00128</a> fileloc <a class="code" href="fileloc_c.html#a6">fileloc_update</a> (<font class="comment">/*@only@*/</font> fileloc old, fileloc fnew)<font class="keyword"></font>
00129 <font class="keyword"></font>{
00130   <font class="keywordflow">if</font> (fileloc_isUndefined (fnew))
00131     {
00132       <a class="code" href="fileloc_c.html#a8">fileloc_free</a> (old);
00133       <font class="keywordflow">return</font> fileloc_undefined;
00134     }
00135   <font class="keywordflow">else</font> <font class="keywordflow">if</font> (fileloc_isUndefined (old) || fileloc_isBuiltin (old) || fileloc_isExternal (old))
00136     {
00137       <font class="keywordflow">return</font> (<a class="code" href="fileloc_c.html#a5">fileloc_copy</a> (fnew));
00138     }
00139   <font class="keywordflow">else</font>
00140     {
00141       old-&gt;kind   = fnew-&gt;kind;
00142       old-&gt;fid    = fnew-&gt;fid; 
00143       old-&gt;lineno = fnew-&gt;lineno;
00144       old-&gt;column = fnew-&gt;column;
00145 
00146       <font class="keywordflow">return</font> old;
00147     }
00148 }
00149 
<a name="l00150"></a><a class="code" href="fileloc_c.html#a7">00150</a> fileloc <a class="code" href="fileloc_c.html#a7">fileloc_updateFileId</a> (<font class="comment">/*@only@*/</font> fileloc old, fileId s)<font class="keyword"></font>
00151 <font class="keyword"></font>{
00152   <font class="keywordflow">if</font> (fileloc_isUndefined (old) || fileloc_isBuiltin (old) || fileloc_isExternal (old))
00153     {
00154       <font class="keywordflow">return</font> (<a class="code" href="fileloc_c.html#a34">fileloc_create</a> (s, 1, 1));
00155     }
00156   <font class="keywordflow">else</font>
00157     {
00158       old-&gt;kind   = fileId_kind (s);
00159       old-&gt;fid    = s; 
00160       old-&gt;lineno = 1;
00161       old-&gt;column = 1;
00162 
00163       <font class="keywordflow">return</font> old;
00164     }
00165 }
00166 
00167 <font class="keywordtype">void</font>
<a name="l00168"></a><a class="code" href="fileloc_c.html#a8">00168</a> <a class="code" href="fileloc_c.html#a8">fileloc_free</a> (<font class="comment">/*@only@*/</font> fileloc f)<font class="keyword"></font>
00169 <font class="keyword"></font>{
00170   <font class="keywordflow">if</font> (fileloc_isDefined (f))
00171     {
00172       <font class="keywordflow">if</font> (f != g_currentloc)
00173         {
00174           <font class="keywordflow">if</font> (fileloc_isBuiltin (f) || fileloc_isExternal (f))
00175             {
00176               ; <font class="comment">/* don't free */</font>
00177             }
00178           <font class="keywordflow">else</font>
00179             {
00180                       <a class="code" href="general_c.html#a0">sfree</a> (f);  
00181               <font class="comment">/*@-branchstate@*/</font> 
00182             } 
00183         }
00184       <font class="keywordflow">else</font>
00185         {
00186                 }
00187       <font class="comment">/*@=branchstate@*/</font>
00188     }
00189 }
00190 
00191 <font class="keywordtype">void</font>
<a name="l00192"></a><a class="code" href="fileloc_c.html#a9">00192</a> <a class="code" href="fileloc_c.html#a9">fileloc_reallyFree</a> (<font class="comment">/*@only@*/</font> fileloc f)<font class="keyword"></font>
00193 <font class="keyword"></font>{
00194   <font class="keywordflow">if</font> (fileloc_isDefined (f))
00195     {
00196       <font class="keywordflow">if</font> (fileloc_isBuiltin (f) || fileloc_isExternal (f))
00197         {
00198           ; <font class="comment">/* don't free */</font>
00199         }
00200       <font class="keywordflow">else</font>
00201         {
00202           <a class="code" href="general_c.html#a0">sfree</a> (f);  
00203         <font class="comment">/*@-branchstate@*/</font> } <font class="comment">/*@=branchstate@*/</font>
00204     }
00205 }
00206 
<a name="l00207"></a><a class="code" href="fileloc_c.html#a10">00207</a> cstring <a class="code" href="fileloc_c.html#a10">fileloc_getBase</a> (fileloc f)<font class="keyword"></font>
00208 <font class="keyword"></font>{
00209   llassert (fileloc_isDefined (f));
00210 
00211   <font class="keywordflow">return</font> (fileNameBase (f-&gt;fid));
00212 }
00213 
00214 <font class="keywordtype">bool</font>
<a name="l00215"></a><a class="code" href="fileloc_c.html#a11">00215</a> <a class="code" href="fileloc_c.html#a11">fileloc_equal</a> (fileloc f1, fileloc f2)<font class="keyword"></font>
00216 <font class="keyword"></font>{
00217   <font class="keywordflow">return</font> ((f1 == f2)
00218           || (fileloc_isDefined (f1) &amp;&amp; fileloc_isDefined (f2) 
00219               &amp;&amp; ((f1-&gt;column == f2-&gt;column) &amp;&amp; 
00220                   (f1-&gt;lineno == f2-&gt;lineno) &amp;&amp; <a class="code" href="fileloc_c.html#a17">fileloc_sameFile</a> (f1, f2))));
00221 }
00222 
00223 <font class="keywordtype">int</font>
<a name="l00224"></a><a class="code" href="fileloc_c.html#a12">00224</a> <a class="code" href="fileloc_c.html#a12">fileloc_compare</a> (fileloc f1, fileloc f2)<font class="keyword"></font>
00225 <font class="keyword"></font>{
00226   <font class="keywordflow">if</font> (fileloc_isUndefined (f1))
00227     {
00228       <font class="keywordflow">if</font> (fileloc_isUndefined (f2)) <font class="keywordflow">return</font> 0;
00229       <font class="keywordflow">return</font> -1;
00230     }
00231   
00232   <font class="keywordflow">if</font> (fileloc_isUndefined (f2))
00233     <font class="keywordflow">return</font> 1;
00234 
00235   <font class="comment">/*@access fileId@*/</font> 
00236   INTCOMPARERETURN (f1-&gt;fid, f2-&gt;fid); 
00237   <font class="comment">/*@noaccess fileId@*/</font>
00238 
00239   INTCOMPARERETURN (f1-&gt;column, f2-&gt;column);
00240   INTCOMPARERETURN (f1-&gt;lineno, f2-&gt;lineno); 
00241 
00242   <font class="keywordflow">return</font> 0;
00243 }
00244 
00245 <font class="keywordtype">bool</font>
<a name="l00246"></a><a class="code" href="fileloc_c.html#a13">00246</a> <a class="code" href="fileloc_c.html#a13">fileloc_withinLines</a> (fileloc f1, fileloc f2, <font class="keywordtype">int</font> n)<font class="keyword"></font>
00247 <font class="keyword"></font>{
00248   
00249   <font class="keywordflow">return</font> (fileloc_isDefined (f1) &amp;&amp; 
00250           fileloc_isDefined (f2) &amp;&amp;
00251           ((f2-&gt;lineno &lt;= f1-&gt;lineno + n) 
00252            &amp;&amp; (f2-&gt;lineno &gt;= f1-&gt;lineno)
00253            &amp;&amp; <a class="code" href="fileloc_c.html#a17">fileloc_sameFile</a> (f1, f2)));
00254 }
00255 
00256 <font class="keywordtype">bool</font>
<a name="l00257"></a><a class="code" href="fileloc_c.html#a14">00257</a> <a class="code" href="fileloc_c.html#a14">fileloc_lessthan</a> (fileloc f1, fileloc f2)<font class="keyword"></font>
00258 <font class="keyword"></font>{
00259   <font class="comment">/*@access fileId*/</font>
00260   <font class="keywordflow">return</font> ((fileloc_isDefined (f1) &amp;&amp; fileloc_isDefined (f2))
00261           &amp;&amp; ((f1-&gt;fid &lt; f2-&gt;fid)
00262               || ((f1-&gt;fid == f2-&gt;fid)
00263                   &amp;&amp; ((f1-&gt;lineno &lt; f2-&gt;lineno)
00264                       || ((f1-&gt;lineno == f2-&gt;lineno)
00265                           &amp;&amp; (f1-&gt;column &lt; f2-&gt;column))))));
00266   <font class="comment">/*@noaccess fileId*/</font>
00267 }
00268 
00269 <font class="comment">/*</font>
00270 <font class="comment">** returns true if f1 and f2 are different files,</font>
00271 <font class="comment">** or f1 is before f2 in same file</font>
00272 <font class="comment">*/</font>
00273 
00274 <font class="keywordtype">bool</font>
<a name="l00275"></a><a class="code" href="fileloc_c.html#a15">00275</a> <a class="code" href="fileloc_c.html#a15">fileloc_notAfter</a> (fileloc f1, fileloc f2)<font class="keyword"></font>
00276 <font class="keyword"></font>{
00277   <font class="comment">/*@access fileId*/</font>
00278   <font class="keywordflow">return</font> ((fileloc_isDefined (f1) &amp;&amp; fileloc_isDefined (f2))
00279           &amp;&amp; ((f1-&gt;fid != f2-&gt;fid)
00280               || ((f1-&gt;lineno &lt; f2-&gt;lineno)
00281                   || ((f1-&gt;lineno == f2-&gt;lineno)
00282                       &amp;&amp; (f1-&gt;column &lt;= f2-&gt;column)))));
00283   <font class="comment">/*@noaccess fileId@*/</font>
00284 }
00285 
00286 <font class="preprocessor"># ifndef NOLCL</font>
00287 <font class="preprocessor"></font><font class="keywordtype">bool</font>
<a name="l00288"></a><a class="code" href="fileloc_c.html#a16">00288</a> <a class="code" href="fileloc_c.html#a16">fileloc_isStandardLibrary</a> (fileloc f)<font class="keyword"></font>
00289 <font class="keyword"></font>{
00290   cstring s = <a class="code" href="fileloc_c.html#a10">fileloc_getBase</a> (f);
00291 
00292   <font class="keywordflow">return</font> (cstring_equalLit (s, LLSTDLIBS_NAME)
00293           || cstring_equalLit (s, LLSTRICTLIBS_NAME)
00294           || cstring_equalLit (s, LLUNIXLIBS_NAME)
00295           || cstring_equalLit (s, LLUNIXSTRICTLIBS_NAME)
00296           || cstring_equalLit (s, LLPOSIXSTRICTLIBS_NAME)
00297           || cstring_equalLit (s, LLPOSIXLIBS_NAME));
00298 }
00299 <font class="preprocessor"># endif</font>
00300 <font class="preprocessor"></font>
00301 <font class="keywordtype">bool</font>
<a name="l00302"></a><a class="code" href="fileloc_c.html#a17">00302</a> <a class="code" href="fileloc_c.html#a17">fileloc_sameFile</a> (fileloc f1, fileloc f2)<font class="keyword"></font>
00303 <font class="keyword"></font>{
00304   <font class="keywordflow">if</font> ((fileloc_isUndefined (f1) || (fileloc_isUndefined (f2)) 
00305        || (<a class="code" href="fileloc_c.html#a47">fileloc_isLib</a> (f1)) || (<a class="code" href="fileloc_c.html#a47">fileloc_isLib</a> (f2))))
00306     {
00307       <font class="keywordflow">return</font> FALSE;
00308     }
00309   <font class="keywordflow">else</font>
00310     {
00311       <font class="keywordflow">return</font> (fileId_equal (f1-&gt;fid, f2-&gt;fid));
00312     }
00313 }
00314 
00315 <font class="keywordtype">bool</font>
<a name="l00316"></a><a class="code" href="fileloc_c.html#a18">00316</a> <a class="code" href="fileloc_c.html#a18">fileloc_sameModule</a> (fileloc f1, fileloc f2)<font class="keyword"></font>
00317 <font class="keyword"></font>{
00318   <font class="keywordflow">if</font> (fileloc_isUndefined (f1))
00319     {
00320       <font class="keywordflow">return</font> (fileloc_isUndefined (f2));
00321     }
00322   <font class="keywordflow">else</font> <font class="keywordflow">if</font> (fileloc_isUndefined (f2))
00323     {
00324       <font class="keywordflow">return</font> (FALSE);
00325     }
00326   <font class="keywordflow">else</font>
00327     {
00328       <font class="keywordflow">if</font> (fileloc_isBuiltin (f1) || fileloc_isBuiltin (f2)
00329           || fileloc_isExternal (f1) || fileloc_isExternal (f2))
00330         {
00331           <font class="keywordflow">return</font> <a class="code" href="fileloc_c.html#a17">fileloc_sameFile</a> (f1, f2);
00332         }
00333       <font class="keywordflow">else</font>
00334         {
00335           cstring s1 = <a class="code" href="fileloc_c.html#a10">fileloc_getBase</a> (f1);
00336           cstring s2 = <a class="code" href="fileloc_c.html#a10">fileloc_getBase</a> (f2);
00337           
00338           <font class="keywordflow">return</font> (<a class="code" href="cstring_c.html#a18">cstring_equal</a> (s1, s2));
00339         }
00340     }
00341 }
00342 
00343 <font class="keywordtype">bool</font>
<a name="l00344"></a><a class="code" href="fileloc_c.html#a19">00344</a> <a class="code" href="fileloc_c.html#a19">fileloc_sameBaseFile</a> (fileloc f1, fileloc f2)<font class="keyword"></font>
00345 <font class="keyword"></font>{
00346   <font class="keywordflow">if</font> (fileloc_isUndefined (f1))
00347     {
00348       <font class="keywordflow">return</font> (fileloc_isUndefined (f2));
00349     }
00350   <font class="keywordflow">else</font> <font class="keywordflow">if</font> (fileloc_isUndefined (f2))
00351     {
00352       <font class="keywordflow">return</font> (FALSE);
00353     }
00354   <font class="keywordflow">else</font>
00355     {
00356       <font class="keywordflow">return</font> (fileId_baseEqual (f1-&gt;fid, f2-&gt;fid));
00357     }
00358 }
00359 
<a name="l00360"></a><a class="code" href="fileloc_c.html#a20">00360</a> <font class="keywordtype">bool</font> <a class="code" href="fileloc_c.html#a20">fileloc_isSystemFile</a> (fileloc f1)<font class="keyword"></font>
00361 <font class="keyword"></font>{
00362   <font class="keywordflow">if</font> (fileloc_isDefined (f1)
00363       &amp;&amp; !fileloc_isBuiltin (f1)
00364       &amp;&amp; !fileloc_isExternal (f1))
00365     {
00366       <font class="keywordflow">return</font> (<a class="code" href="fileTable_c.html#a18">fileTable_isSystemFile</a> (context_fileTable (), f1-&gt;fid));
00367     }
00368 
00369   <font class="keywordflow">return</font> FALSE;
00370 }
00371 
00372 <font class="keywordtype">bool</font>
<a name="l00373"></a><a class="code" href="fileloc_c.html#a21">00373</a> <a class="code" href="fileloc_c.html#a21">fileloc_almostSameFile</a> (fileloc f1, fileloc f2)<font class="keyword"></font>
00374 <font class="keyword"></font>{
00375   <font class="keywordflow">if</font> ((fileloc_isUndefined (f1) || (fileloc_isUndefined (f2)) 
00376        || (<a class="code" href="fileloc_c.html#a47">fileloc_isLib</a> (f1)) || (<a class="code" href="fileloc_c.html#a47">fileloc_isLib</a> (f2))))
00377     {
00378       <font class="keywordflow">return</font> FALSE;
00379     }
00380   <font class="keywordflow">else</font>
00381     {
00382       <font class="keywordflow">if</font> (fileId_baseEqual (f1-&gt;fid, f2-&gt;fid))
00383         {
00384           <font class="keywordflow">return</font> TRUE;
00385         }
00386       <font class="keywordflow">else</font> <font class="keywordflow">if</font> (<a class="code" href="fileTable_c.html#a18">fileTable_isSystemFile</a> (context_fileTable (), f1-&gt;fid)
00387                || <a class="code" href="fileTable_c.html#a18">fileTable_isSystemFile</a> (context_fileTable (), f2-&gt;fid))
00388         {
00389           <font class="keywordflow">return</font> TRUE;
00390         }
00391       <font class="keywordflow">else</font> <font class="keywordflow">if</font> (<a class="code" href="fileTable_c.html#a19">fileTable_isSpecialFile</a> (context_fileTable (), f1-&gt;fid)
00392                || <a class="code" href="fileTable_c.html#a19">fileTable_isSpecialFile</a> (context_fileTable (), f2-&gt;fid))
00393         {
00394           <font class="keywordflow">return</font> (<a class="code" href="cstring_c.html#a18">cstring_equal</a> (fileloc_getBase (f1), 
00395                                  <a class="code" href="fileloc_c.html#a10">fileloc_getBase</a> (f2)));
00396         }
00397       <font class="keywordflow">else</font> 
00398         {
00399           <font class="keywordflow">return</font> FALSE;
00400         }
00401     }
00402 }
00403 
00404 <font class="preprocessor"># ifndef NOLCL</font>
00405 <font class="preprocessor"></font><font class="comment">/*@only@*/</font> fileloc
<a name="l00406"></a><a class="code" href="fileloc_c.html#a22">00406</a> <a class="code" href="fileloc_c.html#a22">fileloc_fromTok</a> (ltoken t)<font class="keyword"> </font>
00407 <font class="keyword"></font>{
00408   cstring fname = ltoken_fileName (t);
00409   fileId fid = <a class="code" href="fileTable_c.html#a27">fileTable_lookup</a> (context_fileTable (), fname);
00410   fileloc fl;
00411 
00412   <font class="keywordflow">if</font> (!fileId_isValid (fid))
00413     {
00414       fid = <a class="code" href="fileTable_c.html#a22">fileTable_addLCLFile</a> (context_fileTable (), fname);
00415     }
00416   
00417   fl = <a class="code" href="fileloc_c.html#a34">fileloc_create</a> (fid, (<font class="keywordtype">int</font>) ltoken_getLine (t), (<font class="keywordtype">int</font>) ltoken_getCol (t));
00418   
00419   <font class="keywordflow">return</font> (fl);
00420 }
00421 <font class="preprocessor"># endif</font>
00422 <font class="preprocessor"></font>
00423 <font class="comment">/*@only@*/</font> fileloc
<a name="l00424"></a><a class="code" href="fileloc_c.html#a23">00424</a> <a class="code" href="fileloc_c.html#a23">fileloc_createLib</a> (cstring ln)<font class="keyword"></font>
00425 <font class="keyword"></font>{
00426   flkind fk = FL_LIB;
00427   fileId fid = <a class="code" href="fileTable_c.html#a27">fileTable_lookup</a> (context_fileTable (), ln);
00428 
00429   <font class="keywordflow">if</font> (!fileId_isValid (fid))
00430     {
00431       fid = <a class="code" href="fileTable_c.html#a20">fileTable_addLibraryFile</a> (context_fileTable (), ln);
00432     }
00433 
00434   <font class="keywordflow">if</font> (<a class="code" href="cstring_c.html#a22">cstring_equalPrefix</a> (ln, SYSTEM_LIBDIR))
00435     {
00436       fk = FL_STDLIB;
00437     }
00438 
00439   <font class="keywordflow">return</font> (fileloc_createPrim (fk, fid, 0, 0));
00440 }
00441 
<a name="l00442"></a><a class="code" href="fileloc_c.html#a24">00442</a> fileloc <a class="code" href="fileloc_c.html#a24">fileloc_createRc</a> (cstring name)<font class="keyword"></font>
00443 <font class="keyword"></font>{
00444   fileId fid = <a class="code" href="fileTable_c.html#a14">fileTable_addFile</a> (context_fileTable (), name);
00445 
00446   <font class="keywordflow">return</font> (fileloc_createPrim (FL_RC, fid, 0, 0));
00447 }
00448 
<a name="l00449"></a><a class="code" href="fileloc_c.html#a25">00449</a> fileloc <a class="code" href="fileloc_c.html#a25">fileloc_createExternal</a> (<font class="keywordtype">void</font>)<font class="keyword"></font>
00450 <font class="keyword"></font>{
00451   <font class="comment">/*@i@*/</font> <font class="keywordflow">return</font> (<a class="code" href="fileloc_c.html#a26">fileloc_getExternal</a> ()); 
00452 }
00453 
<a name="l00454"></a><a class="code" href="fileloc_c.html#a26">00454</a> fileloc <a class="code" href="fileloc_c.html#a26">fileloc_getExternal</a> (<font class="keywordtype">void</font>)<font class="keyword"></font>
00455 <font class="keyword"></font>{
00456   <font class="keyword">static</font> <font class="comment">/*@owned@*/</font> fileloc res = fileloc_undefined;
00457 
00458   <font class="keywordflow">if</font> (res == fileloc_undefined) 
00459     {
00460       res = fileloc_createPrim (FL_EXTERNAL, fileId_invalid, 0, 0);
00461     }
00462 
00463   <font class="keywordflow">return</font> res;
00464 }
00465 
<a name="l00466"></a><a class="code" href="fileloc_c.html#a27">00466</a> fileloc <a class="code" href="fileloc_c.html#a27">fileloc_observeBuiltin</a> ()<font class="keyword"></font>
00467 <font class="keyword"></font>{
00468   <font class="comment">/*@-onlytrans@*/</font> <font class="keywordflow">return</font> (<a class="code" href="fileloc_c.html#a28">fileloc_getBuiltin</a> ()); <font class="comment">/*@=onlytrans@*/</font>
00469 }
00470 
<a name="l00471"></a><a class="code" href="fileloc_c.html#a28">00471</a> fileloc <a class="code" href="fileloc_c.html#a28">fileloc_getBuiltin</a> ()<font class="keyword"></font>
00472 <font class="keyword"></font>{
00473   <font class="keyword">static</font> <font class="comment">/*@owned@*/</font> fileloc res = fileloc_undefined;
00474 
00475   <font class="keywordflow">if</font> (res == fileloc_undefined)
00476     {
00477       res = fileloc_createPrim (FL_BUILTIN, fileId_invalid, 0, 0); 
00478     }
00479 
00480   <font class="keywordflow">return</font> res;
00481 }
00482 
00483 fileloc
<a name="l00484"></a><a class="code" href="fileloc_c.html#a29">00484</a> <a class="code" href="fileloc_c.html#a29">fileloc_makePreproc</a> (fileloc loc)<font class="keyword"></font>
00485 <font class="keyword"></font>{
00486   <font class="keywordflow">if</font> (fileloc_isDefined (loc))
00487     {
00488       <font class="keywordflow">return</font> (fileloc_createPrim (FL_PREPROC, loc-&gt;fid, 
00489                                   loc-&gt;lineno, loc-&gt;column));
00490     }
00491 
00492   <font class="keywordflow">return</font> (fileloc_createPrim (FL_PREPROC, fileId_invalid, 0, 0));
00493 }
00494 
00495 fileloc
<a name="l00496"></a><a class="code" href="fileloc_c.html#a30">00496</a> <a class="code" href="fileloc_c.html#a30">fileloc_makePreprocPrevious</a> (fileloc loc)<font class="keyword"></font>
00497 <font class="keyword"></font>{
00498   <font class="keywordflow">if</font> (fileloc_isDefined (loc))
00499     {
00500       <font class="keywordflow">if</font> (loc-&gt;lineno &gt; 1)
00501         {
00502           <font class="keywordflow">return</font> (fileloc_createPrim (FL_PREPROC, loc-&gt;fid,
00503                                       loc-&gt;lineno - 1, 0));
00504         }
00505       <font class="keywordflow">else</font>
00506         {
00507           <font class="keywordflow">return</font> (fileloc_createPrim (FL_PREPROC, loc-&gt;fid,
00508                                       loc-&gt;lineno, 0));
00509         }
00510     }
00511 
00512   <font class="keywordflow">return</font> (fileloc_createPrim (FL_PREPROC, fileId_invalid, 0, 0));
00513 }
00514 
00515 <font class="comment">/*@only@*/</font> fileloc
<a name="l00516"></a><a class="code" href="fileloc_c.html#a31">00516</a> <a class="code" href="fileloc_c.html#a31">fileloc_createBuiltin</a> ()<font class="keyword"></font>
00517 <font class="keyword"></font>{
00518   <font class="keywordflow">return</font> (fileloc_createPrim (FL_BUILTIN, fileId_invalid, 0, 0)); 
00519 }
00520 
00521 <font class="preprocessor"># ifndef NOLCL</font>
00522 <font class="preprocessor"></font><font class="comment">/*@only@*/</font> fileloc
<a name="l00523"></a><a class="code" href="fileloc_c.html#a32">00523</a> <a class="code" href="fileloc_c.html#a32">fileloc_createImport</a> (cstring fname, <font class="keywordtype">int</font> lineno)<font class="keyword"></font>
00524 <font class="keyword"></font>{
00525   fileId fid = <a class="code" href="fileTable_c.html#a27">fileTable_lookup</a> (context_fileTable (), fname);
00526 
00527   <font class="keywordflow">if</font> (!fileId_isValid (fid))
00528     {
00529       fid = <a class="code" href="fileTable_c.html#a21">fileTable_addImportFile</a> (context_fileTable (), fname);
00530     }
00531 
00532   <font class="keywordflow">return</font> (fileloc_createPrim (FL_IMPORT, fid, lineno, 0));
00533 }
00534 <font class="preprocessor"># endif</font>
00535 <font class="preprocessor"></font>
00536 <font class="keyword">static</font> <font class="comment">/*@only@*/</font> fileloc
00537 fileloc_createPrim (flkind kind, fileId fid, <font class="keywordtype">int</font> line, <font class="keywordtype">int</font> col)<font class="keyword"></font>
00538 <font class="keyword"></font>{
00539   fileloc f = (fileloc) dmalloc (<font class="keyword">sizeof</font> (*f));
00540   
00541   f-&gt;kind   = kind;
00542   f-&gt;fid    = fid; 
00543   f-&gt;lineno = line;
00544   f-&gt;column = col;
00545   
00546   <font class="keywordflow">return</font> (f);
00547 }
00548 
00549 <font class="preprocessor"># ifndef NOLCL</font>
00550 <font class="preprocessor"></font><font class="comment">/*@only@*/</font> fileloc
<a name="l00551"></a><a class="code" href="fileloc_c.html#a33">00551</a> <a class="code" href="fileloc_c.html#a33">fileloc_createSpec</a> (fileId fid, <font class="keywordtype">int</font> line, <font class="keywordtype">int</font> col)<font class="keyword"></font>
00552 <font class="keyword"></font>{
00553   <font class="keywordflow">return</font> (fileloc_createPrim (FL_SPEC, fid, line, col));
00554 }
00555 <font class="preprocessor"># endif</font>
00556 <font class="preprocessor"></font>
<a name="l00557"></a><a class="code" href="fileloc_c.html#a34">00557</a> fileloc <a class="code" href="fileloc_c.html#a34">fileloc_create</a> (fileId fid, <font class="keywordtype">int</font> line, <font class="keywordtype">int</font> col)<font class="keyword"></font>
00558 <font class="keyword"></font>{
00559   <font class="keywordflow">return</font> (fileloc_createPrim (fileId_kind (fid), fid, line, col));
00560 }
00561 
00562 <font class="comment">/*@observer@*/</font> cstring
<a name="l00563"></a><a class="code" href="fileloc_c.html#a35">00563</a> <a class="code" href="fileloc_c.html#a35">fileloc_filename</a> (fileloc f)<font class="keyword"></font>
00564 <font class="keyword"></font>{
00565   <font class="keywordflow">return</font> (fileloc_isDefined (f)
00566           ? rootFileName (f-&gt;fid) : cstring_makeLiteralTemp (<font class="stringliteral">"&lt;unknown&gt;"</font>));
00567 }
00568 
00569 cstring
<a name="l00570"></a><a class="code" href="fileloc_c.html#a36">00570</a> <a class="code" href="fileloc_c.html#a36">fileloc_unparseFilename</a> (fileloc f)<font class="keyword"></font>
00571 <font class="keyword"></font>{
00572   <font class="keywordflow">if</font> (fileloc_isDefined (f))
00573     {
00574       <font class="keywordflow">switch</font> (f-&gt;kind)
00575         {
00576         <font class="keywordflow">case</font> FL_LIB:
00577           <font class="keywordflow">return</font> (<a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"load file %s"</font>, fileloc_filename (f)));
00578         <font class="keywordflow">case</font> FL_BUILTIN:
00579           <font class="keywordflow">return</font> (cstring_makeLiteral (<font class="stringliteral">"# builtin #"</font>));
00580         <font class="keywordflow">case</font> FL_IMPORT:
00581           <font class="keywordflow">return</font> (<a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"import file %s"</font>, fileloc_filename (f)));
00582         <font class="keywordflow">case</font> FL_EXTERNAL:
00583           <font class="keywordflow">return</font> (cstring_makeLiteral (<font class="stringliteral">"&lt;external&gt;"</font>));
00584         <font class="keywordflow">default</font>: 
00585           <font class="keywordflow">return</font> (<a class="code" href="cstring_c.html#a9">cstring_copy</a> (fileloc_filename (f)));
00586         }
00587     }
00588   <font class="keywordflow">return</font> cstring_undefined;
00589 }
00590 
00591 <font class="keywordtype">int</font>
<a name="l00592"></a><a class="code" href="fileloc_c.html#a37">00592</a> <a class="code" href="fileloc_c.html#a37">fileloc_lineno</a> (fileloc f)<font class="keyword"></font>
00593 <font class="keyword"></font>{
00594   <font class="keywordflow">return</font> (fileloc_isDefined (f) ? f-&gt;lineno : -1);
00595 }
00596 
00597 <font class="keywordtype">int</font>
<a name="l00598"></a><a class="code" href="fileloc_c.html#a38">00598</a> <a class="code" href="fileloc_c.html#a38">fileloc_column</a> (fileloc f)<font class="keyword"></font>
00599 <font class="keyword"></font>{
00600   <font class="keywordflow">return</font> (fileloc_isDefined (f) ? f-&gt;column : -1);
00601 }
00602 
00603 <font class="comment">/*@only@*/</font> cstring
<a name="l00604"></a><a class="code" href="fileloc_c.html#a39">00604</a> <a class="code" href="fileloc_c.html#a39">fileloc_unparse</a> (fileloc f)<font class="keyword"></font>
00605 <font class="keyword"></font>{
00606   <font class="keywordtype">bool</font> parenFormat = <a class="code" href="context_c.html#a189">context_getFlag</a> (FLG_PARENFILEFORMAT); 
00607 
00608   <font class="keywordflow">if</font> (fileloc_isDefined (f))
00609     {
00610       <font class="keywordflow">switch</font> (f-&gt;kind)
00611         {
00612         <font class="keywordflow">case</font> FL_LIB:
00613           <font class="keywordflow">return</font> (<a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"load file %s"</font>, rootFileName (f-&gt;fid)));
00614         <font class="keywordflow">case</font> FL_BUILTIN:
00615           <font class="keywordflow">return</font> (cstring_makeLiteral (<font class="stringliteral">"Command Line"</font>));
00616         <font class="keywordflow">case</font> FL_IMPORT:
00617           <font class="keywordflow">if</font> (parenFormat)
00618             {
00619               <font class="keywordflow">return</font> (<a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"import file %s(%d)"</font>, rootFileName (f-&gt;fid), f-&gt;lineno));
00620             }
00621           <font class="keywordflow">else</font>
00622             {
00623               <font class="keywordflow">return</font> (<a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"import file %s:%d"</font>, rootFileName (f-&gt;fid), f-&gt;lineno));
00624             }
00625         <font class="keywordflow">case</font> FL_PREPROC:
00626           <font class="keywordflow">if</font> (parenFormat)
00627             {
00628               <font class="keywordflow">return</font> (<a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"%s(%d)"</font>, rootFileName (f-&gt;fid), f-&gt;lineno));
00629             }
00630           <font class="keywordflow">else</font>
00631             {
00632               <font class="keywordflow">return</font> (<a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"%s:%d"</font>, rootFileName (f-&gt;fid), f-&gt;lineno));
00633             }
00634         <font class="keywordflow">case</font> FL_EXTERNAL:
00635           <font class="keywordflow">return</font> (cstring_makeLiteral (<font class="stringliteral">"&lt;external&gt;"</font>));
00636         <font class="keywordflow">default</font>:
00637           <font class="keywordflow">if</font> (<a class="code" href="context_c.html#a189">context_getFlag</a> (FLG_SHOWCOL))
00638             {
00639               <font class="keywordflow">if</font> (fileloc_linenoDefined (f))
00640                 {
00641                   <font class="keywordflow">if</font> (fileloc_columnDefined (f))
00642                     {
00643                       <font class="keywordflow">if</font> (parenFormat)
00644                         {
00645                           <font class="keywordflow">return</font> (<a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"%s(%d,%d)"</font>, 
00646                                            rootFileName (f-&gt;fid),
00647                                            f-&gt;lineno, f-&gt;column));
00648                         }
00649                       <font class="keywordflow">else</font>
00650                         {
00651                           <font class="keywordflow">return</font> (<a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"%s:%d:%d"</font>, 
00652                                            rootFileName (f-&gt;fid),
00653                                            f-&gt;lineno, f-&gt;column));
00654                         }
00655                     }
00656                   <font class="keywordflow">else</font>
00657                     {
00658                       <font class="keywordflow">if</font> (parenFormat)
00659                         {
00660                           <font class="keywordflow">return</font> (<a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"%s(%d)"</font>, rootFileName (f-&gt;fid), f-&gt;lineno));
00661                         }
00662                       <font class="keywordflow">else</font>
00663                         {
00664                           <font class="keywordflow">return</font> (<a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"%s:%d"</font>, rootFileName (f-&gt;fid), f-&gt;lineno));
00665                         }
00666                     }
00667                 }
00668               <font class="keywordflow">return</font> (<a class="code" href="cstring_c.html#a9">cstring_copy</a> (rootFileName (f-&gt;fid)));
00669             }
00670           <font class="keywordflow">else</font> <font class="keywordflow">if</font> (fileloc_linenoDefined (f))
00671             {
00672               <font class="keywordflow">if</font> (parenFormat)
00673                 {
00674                   <font class="keywordflow">return</font> (<a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"%s(%d)"</font>,
00675                                    rootFileName (f-&gt;fid), f-&gt;lineno));
00676                 }
00677               <font class="keywordflow">else</font>
00678                 {
00679                   <font class="keywordflow">return</font> (<a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"%s:%d"</font>, rootFileName (f-&gt;fid), f-&gt;lineno));
00680                 }
00681             }
00682           <font class="keywordflow">else</font>
00683             {
00684               <font class="keywordflow">return</font> (<a class="code" href="cstring_c.html#a9">cstring_copy</a> (rootFileName (f-&gt;fid)));
00685             }
00686         }
00687     }
00688   <font class="keywordflow">return</font> (cstring_makeLiteral (<font class="stringliteral">"&lt; Location unknown &gt;"</font>));
00689 }
00690 
00691 <font class="comment">/*@only@*/</font> cstring
<a name="l00692"></a><a class="code" href="fileloc_c.html#a40">00692</a> <a class="code" href="fileloc_c.html#a40">fileloc_unparseRaw</a> (cstring fname, <font class="keywordtype">int</font> lineno)<font class="keyword"></font>
00693 <font class="keyword"></font>{
00694   <font class="keywordtype">bool</font> parenFormat = <a class="code" href="context_c.html#a189">context_getFlag</a> (FLG_PARENFILEFORMAT); 
00695 
00696   <font class="keywordflow">if</font> (parenFormat)
00697     {
00698       <font class="keywordflow">return</font> (<a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"%s(%d)"</font>, fname, lineno));
00699     }
00700   <font class="keywordflow">else</font>
00701     {
00702       <font class="keywordflow">return</font> (<a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"%s:%d"</font>, fname, lineno));
00703     }
00704 }
00705 
00706 <font class="comment">/*@only@*/</font> cstring
<a name="l00707"></a><a class="code" href="fileloc_c.html#a41">00707</a> <a class="code" href="fileloc_c.html#a41">fileloc_unparseRawCol</a> (cstring fname, <font class="keywordtype">int</font> lineno, <font class="keywordtype">int</font> col)<font class="keyword"></font>
00708 <font class="keyword"></font>{
00709   <font class="keywordflow">if</font> (<a class="code" href="context_c.html#a189">context_getFlag</a> (FLG_SHOWCOL)) 
00710     {
00711       <font class="keywordtype">bool</font> parenFormat = <a class="code" href="context_c.html#a189">context_getFlag</a> (FLG_PARENFILEFORMAT); 
00712       
00713       <font class="keywordflow">if</font> (parenFormat)
00714         {
00715           <font class="keywordflow">return</font> (<a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"%s(%d,%d)"</font>, fname, lineno, col));
00716         }
00717       <font class="keywordflow">else</font>
00718         {
00719           <font class="keywordflow">return</font> (<a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"%s:%d:%d"</font>, fname, lineno, col));
00720         }
00721     }
00722   <font class="keywordflow">else</font>
00723     {
00724       <font class="keywordflow">return</font> <a class="code" href="fileloc_c.html#a40">fileloc_unparseRaw</a> (fname, lineno);
00725     }
00726 }
00727 
<a name="l00728"></a><a class="code" href="fileloc_c.html#a42">00728</a> <font class="keywordtype">bool</font> <a class="code" href="fileloc_c.html#a42">fileloc_isSpecialFile</a> (fileloc f)<font class="keyword"></font>
00729 <font class="keyword"></font>{
00730   <font class="keywordflow">if</font> (fileloc_isDefined (f) 
00731       &amp;&amp; fileId_isValid (f-&gt;fid))
00732     {
00733       <font class="keywordflow">return</font> (<a class="code" href="fileTable_c.html#a19">fileTable_isSpecialFile</a> (context_fileTable (), f-&gt;fid));
00734     }
00735   <font class="keywordflow">else</font>
00736     {
00737       <font class="keywordflow">return</font> FALSE;
00738     }
00739 }
00740 
<a name="l00741"></a><a class="code" href="fileloc_c.html#a43">00741</a> <font class="keywordtype">bool</font> <a class="code" href="fileloc_c.html#a43">fileloc_isHeader</a> (fileloc f)<font class="keyword"></font>
00742 <font class="keyword"></font>{
00743   <font class="comment">/* returns true if is not a .c file */</font>
00744 
00745   <font class="keywordflow">return</font> (fileloc_isDefined (f) &amp;&amp; fileId_isValid (f-&gt;fid)
00746           &amp;&amp; fileId_isHeader (f-&gt;fid));
00747 }
00748 
<a name="l00749"></a><a class="code" href="fileloc_c.html#a44">00749</a> <font class="keywordtype">bool</font> <a class="code" href="fileloc_c.html#a44">fileloc_isSpec</a> (fileloc f)<font class="keyword"></font>
00750 <font class="keyword"></font>{
00751   <font class="keywordflow">return</font> (fileloc_isDefined (f) &amp;&amp; 
00752           (f-&gt;kind == FL_LIB || f-&gt;kind == FL_STDLIB || f-&gt;kind == FL_SPEC));
00753 }
00754 
<a name="l00755"></a><a class="code" href="fileloc_c.html#a45">00755</a> <font class="keywordtype">bool</font> <a class="code" href="fileloc_c.html#a45">fileloc_isRealSpec</a> (fileloc f)<font class="keyword"></font>
00756 <font class="keyword"></font>{
00757   <font class="keywordflow">return</font> (fileloc_isDefined (f) &amp;&amp; (f-&gt;kind == FL_SPEC));
00758 }
00759 
<a name="l00760"></a><a class="code" href="fileloc_c.html#a46">00760</a> <font class="keywordtype">bool</font> <a class="code" href="fileloc_c.html#a46">fileloc_isRealLib</a> (fileloc f)<font class="keyword"></font>
00761 <font class="keyword"></font>{
00762   <font class="keywordflow">return</font> (fileloc_isDefined (f) &amp;&amp; f-&gt;kind == FL_LIB);
00763 }
00764 
<a name="l00765"></a><a class="code" href="fileloc_c.html#a47">00765</a> <font class="keywordtype">bool</font> <a class="code" href="fileloc_c.html#a47">fileloc_isLib</a> (fileloc f)<font class="keyword"></font>
00766 <font class="keyword"></font>{
00767   <font class="keywordflow">return</font> (fileloc_isDefined (f) 
00768           &amp;&amp; (f-&gt;kind == FL_LIB || f-&gt;kind == FL_STDHDR || f-&gt;kind == FL_STDLIB));
00769 }
00770 
<a name="l00771"></a><a class="code" href="fileloc_c.html#a48">00771</a> <font class="keywordtype">bool</font> <a class="code" href="fileloc_c.html#a48">fileloc_isStandardLib</a> (fileloc f)<font class="keyword"></font>
00772 <font class="keyword"></font>{
00773   <font class="keywordflow">return</font> (fileloc_isDefined (f) &amp;&amp; f-&gt;kind == FL_STDLIB);
00774 }
00775 
<a name="l00776"></a><a class="code" href="fileloc_c.html#a49">00776</a> <font class="comment">/*@only@*/</font> cstring <a class="code" href="fileloc_c.html#a49">fileloc_unparseDirect</a> (fileloc fl)<font class="keyword"></font>
00777 <font class="keyword"></font>{
00778   <font class="keywordflow">if</font> (fileloc_isDefined (fl))
00779     {
00780       <font class="keywordflow">return</font> (<a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"%d:%d:%d"</font>,
00781                        <font class="comment">/*@access fileId@*/</font> (<font class="keywordtype">int</font>) fl-&gt;fid, <font class="comment">/*@noaccess fileId@*/</font>
00782                        fl-&gt;lineno, fl-&gt;column));
00783     }
00784   <font class="keywordflow">else</font>
00785     {
00786       <font class="keywordflow">return</font> (cstring_makeLiteral (<font class="stringliteral">"&lt;undef&gt;"</font>));
00787     }
00788 }
00789 
<a name="l00790"></a><a class="code" href="fileloc_c.html#a50">00790</a> <font class="keywordtype">bool</font> <a class="code" href="fileloc_c.html#a50">fileloc_isUser</a> (fileloc f)<font class="keyword"></font>
00791 <font class="keyword"></font>{
00792   <font class="keywordflow">return</font> (fileloc_isDefined (f) 
00793           &amp;&amp; f-&gt;kind == FL_NORMAL);
00794 }
00795 
00796 
00797 
00798 
</div></pre><hr><address><small>Generated at Fri Nov 3 18:57:41 2000 for LCLint by
<a href="http://www.stack.nl/~dimitri/doxygen/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.3 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2000</small></address>
</body>
</html>
