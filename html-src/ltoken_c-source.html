<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>ltoken.c Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.3 on Fri Nov 3 18:57:43 2000 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>ltoken.c</h1><a href="ltoken_c.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">/*</font>
00002 <font class="comment">** LCLint - annotation-assisted static program checker</font>
00003 <font class="comment">** Copyright (C) 1994-2000 University of Virginia,</font>
00004 <font class="comment">**         Massachusetts Institute of Technology</font>
00005 <font class="comment">**</font>
00006 <font class="comment">** This program is free software; you can redistribute it and/or modify it</font>
00007 <font class="comment">** under the terms of the GNU General Public License as published by the</font>
00008 <font class="comment">** Free Software Foundation; either version 2 of the License, or (at your</font>
00009 <font class="comment">** option) any later version.</font>
00010 <font class="comment">** </font>
00011 <font class="comment">** This program is distributed in the hope that it will be useful, but</font>
00012 <font class="comment">** WITHOUT ANY WARRANTY; without even the implied warranty of</font>
00013 <font class="comment">** MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</font>
00014 <font class="comment">** General Public License for more details.</font>
00015 <font class="comment">** </font>
00016 <font class="comment">** The GNU General Public License is available from http://www.gnu.org/ or</font>
00017 <font class="comment">** the Free Software Foundation, Inc., 59 Temple Place - Suite 330, Boston,</font>
00018 <font class="comment">** MA 02111-1307, USA.</font>
00019 <font class="comment">**</font>
00020 <font class="comment">** For information on lclint: lclint-request@cs.virginia.edu</font>
00021 <font class="comment">** To report a bug: lclint-bug@cs.virginia.edu</font>
00022 <font class="comment">** For more information: http://lclint.cs.virginia.edu</font>
00023 <font class="comment">*/</font>
00024 <font class="comment">/*</font>
00025 <font class="comment">** ltoken.c</font>
00026 <font class="comment">*/</font>
00027 
00028 <font class="preprocessor"># include "lclintMacros.nf"</font>
00029 <font class="preprocessor"># include "llbasic.h"</font>
00030 <font class="preprocessor"># include "llgrammar.h"</font>
00031 <font class="preprocessor"># include "scanline.h"</font>
00032 <font class="preprocessor"># include "lclscanline.h"</font>
00033 
00034 <font class="comment">/* </font>
00035 <font class="comment">** Place to store the \keyword (\forall ...) tokens.  These tokens will     </font>
00036 <font class="comment">** have to be modified when the extensionChar ("\") changes.                </font>
00037 <font class="comment">** set in LCLScanLineInit of lclscanline.c or in scanline.c </font>
00038 <font class="comment">*/</font>
00039 
00040 <font class="comment">/*@-namechecks@*/</font>
<a name="l00041"></a><a class="code" href="ltoken_c.html#a0">00041</a> ltoken ltoken_forall;
<a name="l00042"></a><a class="code" href="ltoken_c.html#a1">00042</a> ltoken ltoken_exists;
<a name="l00043"></a><a class="code" href="ltoken_c.html#a2">00043</a> ltoken ltoken_true;
<a name="l00044"></a><a class="code" href="ltoken_c.html#a3">00044</a> ltoken ltoken_false;
<a name="l00045"></a><a class="code" href="ltoken_c.html#a4">00045</a> ltoken ltoken_not;
<a name="l00046"></a><a class="code" href="ltoken_c.html#a5">00046</a> ltoken ltoken_and;
<a name="l00047"></a><a class="code" href="ltoken_c.html#a6">00047</a> ltoken ltoken_or;
<a name="l00048"></a><a class="code" href="ltoken_c.html#a7">00048</a> ltoken ltoken_implies;
<a name="l00049"></a><a class="code" href="ltoken_c.html#a8">00049</a> ltoken ltoken_eq;
<a name="l00050"></a><a class="code" href="ltoken_c.html#a9">00050</a> ltoken ltoken_neq;
<a name="l00051"></a><a class="code" href="ltoken_c.html#a10">00051</a> ltoken ltoken_equals;
<a name="l00052"></a><a class="code" href="ltoken_c.html#a11">00052</a> ltoken ltoken_eqsep;
<a name="l00053"></a><a class="code" href="ltoken_c.html#a12">00053</a> ltoken ltoken_select;
<a name="l00054"></a><a class="code" href="ltoken_c.html#a13">00054</a> ltoken ltoken_open;
<a name="l00055"></a><a class="code" href="ltoken_c.html#a14">00055</a> ltoken ltoken_sep;
<a name="l00056"></a><a class="code" href="ltoken_c.html#a15">00056</a> ltoken ltoken_close;
<a name="l00057"></a><a class="code" href="ltoken_c.html#a16">00057</a> ltoken ltoken_id;
<a name="l00058"></a><a class="code" href="ltoken_c.html#a17">00058</a> ltoken ltoken_arrow;
<a name="l00059"></a><a class="code" href="ltoken_c.html#a18">00059</a> ltoken ltoken_marker;
<a name="l00060"></a><a class="code" href="ltoken_c.html#a19">00060</a> ltoken ltoken_pre;
<a name="l00061"></a><a class="code" href="ltoken_c.html#a20">00061</a> ltoken ltoken_post;
<a name="l00062"></a><a class="code" href="ltoken_c.html#a21">00062</a> ltoken ltoken_comment;
<a name="l00063"></a><a class="code" href="ltoken_c.html#a22">00063</a> ltoken ltoken_any;
<a name="l00064"></a><a class="code" href="ltoken_c.html#a23">00064</a> ltoken ltoken_compose;
<a name="l00065"></a><a class="code" href="ltoken_c.html#a24">00065</a> ltoken ltoken_if;
<a name="l00066"></a><a class="code" href="ltoken_c.html#a25">00066</a> ltoken ltoken_result;
<a name="l00067"></a><a class="code" href="ltoken_c.html#a26">00067</a> ltoken ltoken_typename;
<a name="l00068"></a><a class="code" href="ltoken_c.html#a27">00068</a> ltoken ltoken_bool;
<a name="l00069"></a><a class="code" href="ltoken_c.html#a28">00069</a> ltoken ltoken_farrow;
<a name="l00070"></a><a class="code" href="ltoken_c.html#a29">00070</a> ltoken ltoken_lbracked;
<a name="l00071"></a><a class="code" href="ltoken_c.html#a30">00071</a> ltoken ltoken_rbracket;
00072 <font class="comment">/*@=namechecks@*/</font>
00073 
00074 <font class="keyword">static</font> <font class="comment">/*@notnull@*/</font> ltoken ltoken_new (<font class="keywordtype">void</font>)<font class="keyword"></font>
00075 <font class="keyword"></font>{
00076   ltoken tok = (ltoken) dmalloc (<font class="keyword">sizeof</font> (*tok));
00077 
00078   tok-&gt;code = NOTTOKEN;
00079   tok-&gt;col = 0;
00080   tok-&gt;line = 0;
00081   tok-&gt;text = lsymbol_undefined;
00082   tok-&gt;fname = lsymbol_undefined;
00083   tok-&gt;rawText = lsymbol_undefined;
00084   tok-&gt;defined = FALSE;
00085   tok-&gt;hasSyn = FALSE;
00086 
00087   <font class="keywordflow">return</font> tok;
00088 }
00089 
<a name="l00090"></a><a class="code" href="ltoken_c.html#a32">00090</a> ltoken <a class="code" href="ltoken_c.html#a32">ltoken_create</a> (<font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> code, lsymbol text)<font class="keyword"></font>
00091 <font class="keyword"></font>{
00092   ltoken tok = ltoken_new ();
00093 
00094   tok-&gt;code = code;
00095   tok-&gt;text = text;
00096   
00097   <font class="keywordflow">return</font> tok;
00098 }
00099 
<a name="l00100"></a><a class="code" href="ltoken_c.html#a33">00100</a> ltoken <a class="code" href="ltoken_c.html#a33">ltoken_createRaw</a> (<font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> code, lsymbol text)<font class="keyword"></font>
00101 <font class="keyword"></font>{
00102   ltoken tok = ltoken_new ();
00103 
00104   tok-&gt;code = code;
00105   tok-&gt;rawText = text;
00106 
00107   <font class="keywordflow">return</font> tok;
00108 }
00109 
<a name="l00110"></a><a class="code" href="ltoken_c.html#a34">00110</a> ltoken <a class="code" href="ltoken_c.html#a34">ltoken_createType</a> (<font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> code, SimpleIdCode idtype, lsymbol text)<font class="keyword"></font>
00111 <font class="keyword"></font>{
00112   ltoken tok = ltoken_new ();
00113 
00114   <font class="comment">/* no...what's the real llassert (code == simpleId); */</font>
00115 
00116   tok-&gt;code = code;
00117   tok-&gt;idtype = idtype;
00118   tok-&gt;text = text;
00119   
00120   <font class="keywordflow">return</font> tok;
00121 }
00122 
<a name="l00123"></a><a class="code" href="ltoken_c.html#a35">00123</a> ltoken <a class="code" href="ltoken_c.html#a35">ltoken_createFull</a> (<font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> code, lsymbol text, 
00124                           cstring file, <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> line, 
00125                           <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> col)<font class="keyword"></font>
00126 <font class="keyword"></font>{
00127   ltoken tok = (ltoken) dmalloc (<font class="keyword">sizeof</font> (*tok));
00128   
00129   tok-&gt;code = code;
00130   tok-&gt;text = text;
00131   tok-&gt;fname = <a class="code" href="lsymbol_c.html#a13">lsymbol_fromString</a> (file);
00132   tok-&gt;line = line;
00133   tok-&gt;col = col;
00134   tok-&gt;rawText = lsymbol_undefined;
00135   tok-&gt;defined = FALSE;
00136   tok-&gt;hasSyn = FALSE;
00137   
00138   <font class="keywordflow">return</font> tok;
00139 }
00140 
00141 <font class="keyword">static</font> <font class="comment">/*@only@*/</font> cstring LCLTokenCode_unparseCodeName (<font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> t)<font class="keyword"></font>
00142 <font class="keyword"></font>{
00143   <font class="keywordflow">switch</font> (t)
00144     {
00145     <font class="keywordflow">case</font> NOTTOKEN:         <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"*** NOTTOKEN ***"</font>);
00146     <font class="keywordflow">case</font> quantifierSym:    <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"QUANTIFIERSYM"</font>);      
00147     <font class="keywordflow">case</font> logicalOp:        <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"LOGICALOP"</font>);
00148     <font class="keywordflow">case</font> selectSym:        <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"SELECTSYM"</font>);    
00149     <font class="keywordflow">case</font> openSym:          <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"OPENSYM"</font>);
00150     <font class="keywordflow">case</font> preSym:           <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"\\pre"</font>);
00151     <font class="keywordflow">case</font> postSym:          <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"\\post"</font>);
00152     <font class="keywordflow">case</font> anySym:           <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"\\any"</font>);
00153     <font class="keywordflow">case</font> sepSym:           <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"SEPSYM"</font>);
00154     <font class="keywordflow">case</font> closeSym:         <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"CLOSESYM"</font>);
00155     <font class="keywordflow">case</font> simpleId:         <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"simpleId"</font>);
00156     <font class="keywordflow">case</font> LLT_TYPEDEF_NAME:     <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"TYPEDEF_NAME"</font>);
00157     <font class="keywordflow">case</font> mapSym:           <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"MAPSYM"</font>);
00158     <font class="keywordflow">case</font> markerSym:        <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"MARKERSYM"</font>);
00159     <font class="keywordflow">case</font> commentSym:       <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"COMMENTSYM"</font>);
00160     <font class="keywordflow">case</font> simpleOp:         <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"SIMPLEOP"</font>);
00161     <font class="keywordflow">case</font> LLT_COLON:            <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"COLON"</font>);
00162     <font class="keywordflow">case</font> LLT_COMMA:            <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"COMMA"</font>);
00163     <font class="keywordflow">case</font> LLT_EQUALS:           <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"LLT_EQUALS"</font>);
00164     <font class="keywordflow">case</font> LLT_LBRACE:           <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"LBRACE"</font>);
00165     <font class="keywordflow">case</font> LLT_LBRACKET:         <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"LBRACKET"</font>);
00166     <font class="keywordflow">case</font> LLT_LPAR:             <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"LPAR"</font>);
00167     <font class="keywordflow">case</font> LLT_QUOTE:            <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"QUOTE"</font>);
00168     <font class="keywordflow">case</font> LLT_RBRACE:           <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"RBRACE"</font>);
00169     <font class="keywordflow">case</font> LLT_RBRACKET:         <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"RBRACKET"</font>);
00170     <font class="keywordflow">case</font> LLT_RPAR:             <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"RPAR"</font>);
00171     <font class="keywordflow">case</font> LLT_SEMI:             <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"SEMI"</font>);
00172     <font class="keywordflow">case</font> LLT_VERTICALBAR:      <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"VERTICALBAR"</font>);
00173     <font class="keywordflow">case</font> eqOp:             <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"EQOP"</font>);
00174     <font class="keywordflow">case</font> LLT_MULOP:            <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"MULOP"</font>);
00175     <font class="keywordflow">case</font> LLT_WHITESPACE:       <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"WHITESPACE,"</font>);
00176     <font class="keywordflow">case</font> LEOFTOKEN:        <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"EOFTOKEN"</font>);
00177     <font class="keywordflow">case</font> LLT_EOL:         <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"LLT_EOL"</font>);
00178     <font class="keywordflow">case</font> LLT_CCHAR:            <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"CCHAR"</font>);
00179     <font class="keywordflow">case</font> LLT_CFLOAT:           <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"CFLOAT"</font>);
00180     <font class="keywordflow">case</font> LLT_CINTEGER:         <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"CINTEGER"</font>);
00181     <font class="keywordflow">case</font> LLT_LCSTRING:         <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"CSTRING"</font>);
00182     <font class="keywordflow">case</font> LLT_ALL:              <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"allTOKEN"</font>);
00183     <font class="keywordflow">case</font> LLT_ANYTHING:         <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"anythingTOKEN"</font>);
00184     <font class="keywordflow">case</font> LLT_BE:               <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"beTOKEN"</font>);
00185     <font class="keywordflow">case</font> LLT_CONSTANT:         <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"constantTOKEN"</font>);
00186     <font class="keywordflow">case</font> LLT_ELSE:         <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"elseTOKEN"</font>);
00187     <font class="keywordflow">case</font> LLT_ENSURES:      <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"ensuresTOKEN"</font>);
00188     <font class="keywordflow">case</font> LLT_IF:               <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"ifTOKEN"</font>);
00189     <font class="keywordflow">case</font> LLT_IMMUTABLE:        <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"immutableTOKEN"</font>);
00190     <font class="keywordflow">case</font> LLT_OBJ:              <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"objTOKEN"</font>);
00191     <font class="keywordflow">case</font> LLT_IMPORTS:          <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"importsTOKEN"</font>);
00192     <font class="keywordflow">case</font> LLT_CONSTRAINT:       <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"constraintTOKEN"</font>);
00193     <font class="keywordflow">case</font> LLT_LET:              <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"letTOKEN"</font>);
00194     <font class="keywordflow">case</font> LLT_MODIFIES:         <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"modifiesTOKEN"</font>);
00195     <font class="keywordflow">case</font> LLT_CLAIMS:           <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"claimsTOKEN"</font>);
00196     <font class="keywordflow">case</font> LLT_MUTABLE:          <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"mutableTOKEN"</font>);
00197     <font class="keywordflow">case</font> LLT_FRESH:            <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"freshTOKEN"</font>);
00198     <font class="keywordflow">case</font> LLT_NOTHING:          <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"nothingTOKEN"</font>);
00199     <font class="keywordflow">case</font> LLT_PRIVATE:          <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"privateTOKEN"</font>);
00200     <font class="keywordflow">case</font> LLT_SPEC:             <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"specTOKEN"</font>);
00201     <font class="keywordflow">case</font> LLT_REQUIRES:         <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"requiresTOKEN"</font>);
00202     <font class="keywordflow">case</font> LLT_BODY:             <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"bodyTOKEN"</font>);
00203     <font class="keywordflow">case</font> LLT_RESULT:           <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"resultTOKEN"</font>);
00204     <font class="keywordflow">case</font> LLT_SIZEOF:           <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"sizeofTOKEN"</font>);
00205     <font class="keywordflow">case</font> LLT_THEN:             <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"thenTOKEN"</font>);
00206     <font class="keywordflow">case</font> LLT_TYPE:             <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"typeTOKEN"</font>);
00207     <font class="keywordflow">case</font> LLT_TYPEDEF:          <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"typedefTOKEN"</font>);
00208     <font class="keywordflow">case</font> LLT_UNCHANGED:        <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"unchangedTOKEN"</font>);
00209     <font class="keywordflow">case</font> LLT_USES:             <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"usesTOKEN"</font>);
00210     <font class="keywordflow">case</font> LLT_CHAR:             <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"charTOKEN"</font>);
00211     <font class="keywordflow">case</font> LLT_CONST:            <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"constTOKEN"</font>);
00212     <font class="keywordflow">case</font> LLT_DOUBLE:           <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"doubleTOKEN"</font>);
00213     <font class="keywordflow">case</font> LLT_ENUM:         <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"enumTOKEN"</font>);
00214     <font class="keywordflow">case</font> LLT_FLOAT:            <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"floatTOKEN"</font>);
00215     <font class="keywordflow">case</font> LLT_INT:              <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"intTOKEN"</font>);
00216     <font class="keywordflow">case</font> LLT_LONG:             <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"longTOKEN"</font>);
00217     <font class="keywordflow">case</font> LLT_SHORT:            <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"shortTOKEN"</font>);
00218     <font class="keywordflow">case</font> LLT_STRUCT:           <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"structTOKEN"</font>);
00219     <font class="keywordflow">case</font> LLT_SIGNED:       <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"signedTOKEN"</font>);
00220     <font class="keywordflow">case</font> LLT_UNION:            <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"unionTOKEN"</font>);
00221     <font class="keywordflow">case</font> LLT_UNKNOWN:          <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"unknownTOKEN"</font>);
00222     <font class="keywordflow">case</font> LLT_UNSIGNED:         <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"unsignedTOKEN"</font>);
00223     <font class="keywordflow">case</font> LLT_VOID:             <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"voidTOKEN"</font>);
00224     <font class="keywordflow">case</font> LLT_VOLATILE:         <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"volatileTOKEN"</font>);
00225     <font class="keywordflow">case</font> LLT_TELIPSIS:         <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"elipsisTOKEN"</font>);
00226     <font class="keywordflow">case</font> LLT_ITER:             <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"iterTOKEN"</font>);
00227     <font class="keywordflow">case</font> LLT_YIELD:            <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"yieldTOKEN"</font>);
00228     <font class="keywordflow">default</font>:               <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"*** invalid token code ***"</font>); 
00229     } <font class="comment">/* end switch */</font>
00230 }
00231 
<a name="l00232"></a><a class="code" href="ltoken_c.html#a37">00232</a> cstring <a class="code" href="ltoken_c.html#a37">ltoken_unparseCodeName</a> (ltoken tok)<font class="keyword"></font>
00233 <font class="keyword"></font>{
00234   <font class="keywordflow">return</font> LCLTokenCode_unparseCodeName (ltoken_getCode (tok));
00235 }
00236 
<a name="l00237"></a><a class="code" href="ltoken_c.html#a38">00237</a> <font class="comment">/*@observer@*/</font> cstring <a class="code" href="ltoken_c.html#a38">ltoken_unparse</a> (ltoken s)<font class="keyword"></font>
00238 <font class="keyword"></font>{
00239   <font class="keywordflow">if</font> (ltoken_isValid (s))
00240     {
00241       <font class="keywordflow">return</font> (<a class="code" href="lsymbol_c.html#a15">lsymbol_toString</a> (s-&gt;text));
00242     }
00243   <font class="keywordflow">else</font>
00244     {
00245       <font class="keywordflow">return</font> cstring_undefined;
00246     }
00247 }
00248 
<a name="l00249"></a><a class="code" href="ltoken_c.html#a39">00249</a> ltoken <a class="code" href="ltoken_c.html#a39">ltoken_copy</a> (ltoken tok)<font class="keyword"></font>
00250 <font class="keyword"></font>{
00251   <font class="keywordflow">if</font> (ltoken_isValid (tok))
00252     {
00253       ltoken ret = (ltoken) dmalloc (<font class="keyword">sizeof</font> (*ret));
00254       
00255       ret-&gt;code = tok-&gt;code;
00256       ret-&gt;text = tok-&gt;text;
00257       ret-&gt;fname = tok-&gt;fname;
00258       ret-&gt;line = tok-&gt;line;
00259       ret-&gt;col = tok-&gt;col;
00260       ret-&gt;rawText = tok-&gt;rawText;
00261       ret-&gt;defined = tok-&gt;defined;
00262       ret-&gt;hasSyn = tok-&gt;hasSyn;
00263       ret-&gt;idtype = tok-&gt;idtype;
00264       ret-&gt;intfield = tok-&gt;intfield;
00265       
00266       <font class="keywordflow">return</font> ret;
00267     }
00268   <font class="keywordflow">else</font>
00269     {
00270       <font class="keywordflow">return</font> ltoken_undefined;
00271     }
00272 }
00273 
<a name="l00274"></a><a class="code" href="ltoken_c.html#a40">00274</a> lsymbol <a class="code" href="ltoken_c.html#a40">ltoken_getRawText</a> (ltoken tok)<font class="keyword"></font>
00275 <font class="keyword"></font>{
00276   <font class="keywordflow">if</font> (ltoken_isValid (tok))
00277     {
00278       lsymbol ret = tok-&gt;rawText;
00279 
00280       <font class="keywordflow">if</font> (lsymbol_isUndefined (ret))
00281         {
00282           ret = tok-&gt;text;
00283         }
00284       
00285       <font class="keywordflow">return</font> ret;
00286     }
00287   <font class="keywordflow">else</font>
00288     {
00289       <font class="keywordflow">return</font> lsymbol_undefined;
00290     }
00291 }
00292 
<a name="l00293"></a><a class="code" href="ltoken_c.html#a41">00293</a> <font class="comment">/*@only@*/</font> cstring <a class="code" href="ltoken_c.html#a41">ltoken_unparseLoc</a> (ltoken t)<font class="keyword"></font>
00294 <font class="keyword"></font>{
00295   <font class="keywordflow">if</font> (ltoken_getCode (t) != NOTTOKEN)
00296     {
00297       <font class="keywordflow">if</font> (<a class="code" href="context_c.html#a189">context_getFlag</a> (FLG_SHOWCOL))
00298         {
00299           <font class="keywordflow">return</font> (<a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"%s:%u,%u"</font>, ltoken_fileName (t), 
00300                            ltoken_getLine (t), ltoken_getCol (t)));
00301         }
00302       <font class="keywordflow">else</font>
00303         {
00304           <font class="keywordflow">return</font> (<a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"%s:%u"</font>, ltoken_fileName (t), ltoken_getLine (t)));
00305         }
00306     }
00307   <font class="keywordflow">else</font>
00308     {
00309       <font class="keywordflow">return</font> cstring_makeLiteral (<font class="stringliteral">"*** Not Token ***"</font>); 
00310     }
00311 }
00312 
<a name="l00313"></a><a class="code" href="ltoken_c.html#a42">00313</a> <font class="keywordtype">void</font> <a class="code" href="ltoken_c.html#a42">ltoken_markOwned</a> (<font class="comment">/*@owned@*/</font> ltoken tok)<font class="keyword"></font>
00314 <font class="keyword"></font>{
00315     <a class="code" href="general_c.html#a1">sfreeEventually</a> (tok);
00316 }
00317 
<a name="l00318"></a><a class="code" href="ltoken_c.html#a43">00318</a> <font class="keywordtype">void</font> <a class="code" href="ltoken_c.html#a43">ltoken_free</a> (<font class="comment">/*@only@*/</font> ltoken tok)<font class="keyword"></font>
00319 <font class="keyword"></font>{
00320   <a class="code" href="general_c.html#a0">sfree</a> (tok); 
00321 }
00322 
<a name="l00323"></a><a class="code" href="ltoken_c.html#a44">00323</a> <font class="keywordtype">bool</font> <a class="code" href="ltoken_c.html#a44">ltoken_isSingleChar</a> (<font class="keywordtype">char</font> c)<font class="keyword"></font>
00324 <font class="keyword"></font>{
00325   <font class="keywordflow">return</font> (<a class="code" href="lclscanline_c.html#a51">LCLScanCharClass</a> (c) == SINGLECHAR);
00326 }
</div></pre><hr><address><small>Generated at Fri Nov 3 18:57:43 2000 for LCLint by
<a href="http://www.stack.nl/~dimitri/doxygen/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.3 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2000</small></address>
</body>
</html>
