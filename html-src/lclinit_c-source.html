<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>lclinit.c Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.3 on Fri Nov 3 18:57:41 2000 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>lclinit.c</h1><a href="lclinit_c.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">/*</font>
00002 <font class="comment">** LCLint - annotation-assisted static program checker</font>
00003 <font class="comment">** Copyright (C) 1994-2000 University of Virginia,</font>
00004 <font class="comment">**         Massachusetts Institute of Technology</font>
00005 <font class="comment">**</font>
00006 <font class="comment">** This program is free software; you can redistribute it and/or modify it</font>
00007 <font class="comment">** under the terms of the GNU General Public License as published by the</font>
00008 <font class="comment">** Free Software Foundation; either version 2 of the License, or (at your</font>
00009 <font class="comment">** option) any later version.</font>
00010 <font class="comment">** </font>
00011 <font class="comment">** This program is distributed in the hope that it will be useful, but</font>
00012 <font class="comment">** WITHOUT ANY WARRANTY; without even the implied warranty of</font>
00013 <font class="comment">** MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</font>
00014 <font class="comment">** General Public License for more details.</font>
00015 <font class="comment">** </font>
00016 <font class="comment">** The GNU General Public License is available from http://www.gnu.org/ or</font>
00017 <font class="comment">** the Free Software Foundation, Inc., 59 Temple Place - Suite 330, Boston,</font>
00018 <font class="comment">** MA 02111-1307, USA.</font>
00019 <font class="comment">**</font>
00020 <font class="comment">** For information on lclint: lclint-request@cs.virginia.edu</font>
00021 <font class="comment">** To report a bug: lclint-bug@cs.virginia.edu</font>
00022 <font class="comment">** For more information: http://lclint.cs.virginia.edu</font>
00023 <font class="comment">*/</font>
00024 <font class="comment">/*</font>
00025 <font class="comment">** lslinit.c</font>
00026 <font class="comment">**</font>
00027 <font class="comment">** Processor for Larch Shared Language Init Files</font>
00028 <font class="comment">*/</font>
00029 
00030 <font class="preprocessor"># include "lclintMacros.nf"</font>
00031 <font class="preprocessor"># include "llbasic.h"</font>
00032 <font class="preprocessor"># include "gram.h"</font>
00033 <font class="preprocessor"># include "lclscan.h"</font>
00034 <font class="preprocessor"># include "scanline.h"</font>
00035 <font class="preprocessor"># include "lclscanline.h"</font>
00036 <font class="preprocessor"># include "lcltokentable.h"</font>
00037 <font class="preprocessor"># include "lclsyntable.h"</font>
00038 <font class="preprocessor"># include "lslinit.h"</font>
00039 <font class="preprocessor"># include "lclinit.h"</font>
00040 <font class="preprocessor"># include "shift.h"</font>
00041 
00042 <font class="preprocessor"># if 0</font>
00043 <font class="preprocessor"></font><font class="comment">/*@notfunction@*/</font>
00044 <font class="preprocessor"># define TRACE(rule) printf ("Reducing: %s\n", rule)</font>
00045 <font class="preprocessor"></font><font class="preprocessor"># else</font>
00046 <font class="preprocessor"></font><font class="comment">/*@notfunction@*/</font>
<a name="l00047"></a><a class="code" href="lclinit_c.html#a0">00047</a> <font class="preprocessor"># define TRACE(rule)</font>
00048 <font class="preprocessor"></font><font class="preprocessor"># endif</font>
00049 <font class="preprocessor"></font>
00050 <font class="keyword">static</font> <font class="comment">/*@dependent@*/</font> ltoken nextToken;
00051 <font class="keyword">static</font> <font class="keywordtype">void</font> InitLines (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00052 <font class="keyword">static</font> <font class="keywordtype">void</font> InitLine (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font>;
00053 <font class="keyword">static</font> <font class="keywordtype">void</font> Classification (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font>;
00054 <font class="keyword">static</font> <font class="keywordtype">void</font> CharClass (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font>;
00055 
00056 <font class="keyword">static</font> <font class="keywordtype">void</font> EndCommentChars (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00057 <font class="keyword">static</font> <font class="keywordtype">void</font> IdChars (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00058 <font class="keyword">static</font> <font class="keywordtype">void</font> OpChars (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00059 <font class="keyword">static</font> <font class="keywordtype">void</font> ExtensionChar (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00060 <font class="keyword">static</font> <font class="keywordtype">void</font> SingChars (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00061 <font class="keyword">static</font> <font class="keywordtype">void</font> WhiteChars (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00062 <font class="keyword">static</font> <font class="keywordtype">void</font> EndCommentChar (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00063 <font class="keyword">static</font> <font class="keywordtype">void</font> IdChar (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00064 <font class="keyword">static</font> <font class="keywordtype">void</font> OpChar (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00065 <font class="keyword">static</font> <font class="keywordtype">void</font> SingChar (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00066 <font class="keyword">static</font> <font class="keywordtype">void</font> WhiteChar (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00067 
00068 <font class="keyword">static</font> <font class="keywordtype">void</font> TokenClass (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00069 <font class="keyword">static</font> <font class="keywordtype">void</font> QuantifierSymToks (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00070 <font class="keyword">static</font> <font class="keywordtype">void</font> LogicalOpToks (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00071 <font class="keyword">static</font> <font class="keywordtype">void</font> EqOpToks (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00072 <font class="keyword">static</font> <font class="keywordtype">void</font> EquationSymToks (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00073 <font class="keyword">static</font> <font class="keywordtype">void</font> EqSepSymToks (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00074 <font class="keyword">static</font> <font class="keywordtype">void</font> SelectSymToks (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00075 <font class="keyword">static</font> <font class="keywordtype">void</font> OpenSymToks (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00076 <font class="keyword">static</font> <font class="keywordtype">void</font> SepSymToks (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00077 <font class="keyword">static</font> <font class="keywordtype">void</font> CloseSymToks (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00078 <font class="keyword">static</font> <font class="keywordtype">void</font> SimpleIdToks (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00079 <font class="keyword">static</font> <font class="keywordtype">void</font> MapSymToks (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00080 <font class="keyword">static</font> <font class="keywordtype">void</font> MarkerSymToks (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00081 <font class="keyword">static</font> <font class="keywordtype">void</font> CommentSymToks (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00082 <font class="keyword">static</font> <font class="keywordtype">void</font> QuantifierSymTok (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00083 <font class="keyword">static</font> <font class="keywordtype">void</font> LogicalOpTok (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00084 <font class="keyword">static</font> <font class="keywordtype">void</font> EqOpTok (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00085 <font class="keyword">static</font> <font class="keywordtype">void</font> EquationSymTok (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00086 <font class="keyword">static</font> <font class="keywordtype">void</font> EqSepSymTok (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00087 <font class="keyword">static</font> <font class="keywordtype">void</font> SelectSymTok (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00088 <font class="keyword">static</font> <font class="keywordtype">void</font> OpenSymTok (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00089 <font class="keyword">static</font> <font class="keywordtype">void</font> SepSymTok (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00090 <font class="keyword">static</font> <font class="keywordtype">void</font> CloseSymTok (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00091 <font class="keyword">static</font> <font class="keywordtype">void</font> SimpleIdTok (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00092 <font class="keyword">static</font> <font class="keywordtype">void</font> MapSymTok (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00093 <font class="keyword">static</font> <font class="keywordtype">void</font> MarkerSymTok (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00094 <font class="keyword">static</font> <font class="keywordtype">void</font> CommentSymTok (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00095 <font class="keyword">static</font> <font class="keywordtype">void</font> SynClass (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00096 <font class="keyword">static</font> <font class="keywordtype">void</font> OldToken (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00097 <font class="keyword">static</font> <font class="keywordtype">void</font> NewToken (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00098 <font class="keyword">static</font> <font class="keywordtype">void</font> Token (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00099 
00100 <font class="keyword">static</font> <font class="keywordtype">void</font> InitReduce (LCLInitRuleCode p_rule) <font class="comment">/*@modifies nextToken@*/</font> ;
00101 <font class="keyword">static</font> <font class="keywordtype">void</font> UpdateXCharKeywords (charCode p_xChar) <font class="comment">/*@modifies nextToken@*/</font> ;
00102 <font class="keyword">static</font> <font class="keywordtype">void</font> ProcessExtensionChar (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00103 <font class="keyword">static</font> <font class="keywordtype">void</font> ProcessEndCommentChar (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00104 <font class="keyword">static</font> <font class="keywordtype">void</font> ProcessSingleChar (charCode p_code) <font class="comment">/*@modifies nextToken@*/</font> ;
00105 <font class="keyword">static</font> <font class="keywordtype">void</font> ProcessToken (ltokenCode p_code) <font class="comment">/*@modifies nextToken@*/</font> ;
00106 <font class="keyword">static</font> <font class="keywordtype">void</font> ProcessSynonym (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00107 
00108 <font class="keyword">static</font> <font class="keywordtype">void</font>
00109   LocalUserError (<font class="comment">/*@unused@*/</font> ltoken p_t, <font class="comment">/*@temp@*/</font> <font class="keywordtype">char</font> *p_msg)
00110   <font class="comment">/*@modifies *g_msgstream@*/</font> ;
00111 
00112 <font class="comment">/* If TRUE character has been redefined as a singleChar. */</font>
00113 <font class="keyword">static</font> <font class="keywordtype">bool</font> defineSingleChar[LASTCHAR + 1];
00114 
00115 <font class="keyword">static</font> charCode currentExtensionChar;
00116 
00117 <font class="comment">/* LSL init file keyword tokens.  */</font>
00118 
00119 <font class="keyword">static</font> <font class="comment">/*@exposed@*/</font> ltoken endCommentCharToken;
00120 <font class="keyword">static</font> <font class="comment">/*@exposed@*/</font> ltoken idCharToken;
00121 <font class="keyword">static</font> <font class="comment">/*@exposed@*/</font> ltoken opCharToken;
00122 <font class="keyword">static</font> <font class="comment">/*@exposed@*/</font> ltoken extensionCharToken;
00123 <font class="keyword">static</font> <font class="comment">/*@exposed@*/</font> ltoken singleCharToken;
00124 <font class="keyword">static</font> <font class="comment">/*@exposed@*/</font> ltoken whiteCharToken;
00125 
00126 <font class="keyword">static</font> <font class="comment">/*@exposed@*/</font> ltoken quantifierSymToken;
00127 <font class="keyword">static</font> <font class="comment">/*@exposed@*/</font> ltoken logicalOpToken;
00128 <font class="keyword">static</font> <font class="comment">/*@exposed@*/</font> ltoken eqOpToken;
00129 <font class="keyword">static</font> <font class="comment">/*@exposed@*/</font> ltoken equationSymToken;
00130 <font class="keyword">static</font> <font class="comment">/*@exposed@*/</font> ltoken eqSepSymToken;
00131 <font class="keyword">static</font> <font class="comment">/*@exposed@*/</font> ltoken selectSymToken;
00132 <font class="keyword">static</font> <font class="comment">/*@exposed@*/</font> ltoken openSymToken;
00133 <font class="keyword">static</font> <font class="comment">/*@exposed@*/</font> ltoken sepSymToken;
00134 <font class="keyword">static</font> <font class="comment">/*@exposed@*/</font> ltoken closeSymToken;
00135 <font class="keyword">static</font> <font class="comment">/*@exposed@*/</font> ltoken simpleIdToken;
00136 <font class="keyword">static</font> <font class="comment">/*@exposed@*/</font> ltoken mapSymToken;
00137 <font class="keyword">static</font> <font class="comment">/*@exposed@*/</font> ltoken markerSymToken;
00138 <font class="keyword">static</font> <font class="comment">/*@exposed@*/</font> ltoken commentSymToken;
00139 
00140 <font class="keyword">static</font> <font class="comment">/*@exposed@*/</font> ltoken synonymToken;
00141 
00142 <font class="keyword">static</font> <font class="comment">/*@exposed@*/</font> ltoken
00143 insertSimpleToken (<font class="keywordtype">char</font> *s) <font class="comment">/*@modifies internalState@*/</font> 
00144 {
00145     <font class="keywordflow">return</font> (<a class="code" href="lcltokentable_c.html#a3">LCLInsertToken</a> (simpleId, lsymbol_fromChars (s), 0, FALSE));
00146 }
00147 
00148 <font class="keyword">static</font> <font class="keywordtype">bool</font>
00149 hasFirstChar (ltoken tok) <font class="comment">/*@*/</font> 
00150 {
00151   <font class="keywordflow">return</font> (ltoken_isChar (tok)
00152           &amp;&amp; <a class="code" href="ltoken_c.html#a44">ltoken_isSingleChar</a> (cstring_firstChar (ltoken_unparse (tok))));
00153 }
00154 
00155 <font class="keywordtype">void</font>
<a name="l00156"></a><a class="code" href="lclinit_c.html#a80">00156</a> <a class="code" href="lclinit_c.html#a80">LCLProcessInitFile</a> (<font class="keywordtype">void</font>)<font class="keyword"></font>
00157 <font class="keyword"></font>{
00158   InitLines ();
00159 
00160   InitReduce (INITFILE1);
00161 
00162   <font class="keywordflow">if</font> (ltoken_getCode (nextToken) != LEOFTOKEN)
00163     {
00164       LocalUserError (nextToken, <font class="stringliteral">"unexpected tokens after end-of-file"</font>);
00165     }
00166 }
00167 
00168 <font class="keyword">static</font> <font class="keywordtype">void</font>
00169 InitLines (<font class="keywordtype">void</font>)<font class="keyword"></font>
00170 <font class="keyword"></font>{
00171   setCodePoint ();
00172   InitReduce (INITLINES1);
00173 
00174   
00175 
00176   <font class="keywordflow">if</font> (ltoken_getCode (nextToken) != LEOFTOKEN)
00177     {
00178       InitLine ();
00179       InitReduce (INITLINES2);
00180     }
00181 
00182   <font class="keywordflow">while</font> (ltoken_getCode (nextToken) != LEOFTOKEN)
00183     {
00184       InitLine ();
00185       InitReduce (INITLINES3);
00186     }
00187 }
00188 
00189 <font class="keyword">static</font> <font class="keywordtype">void</font>
00190 InitLine (<font class="keywordtype">void</font>)<font class="keyword"></font>
00191 <font class="keyword"></font>{
00192   
00193   <font class="keywordflow">if</font> (ltoken_getCode (nextToken) == LLT_EOL)
00194     {
00195       <font class="comment">/* Nothing on line. */</font>
00196             InitReduce (INITLINE1);
00197     }
00198   <font class="keywordflow">else</font>
00199     {
00200             Classification ();
00201       InitReduce (INITLINE2);
00202     }
00203 
00204   <font class="keywordflow">if</font> (ltoken_getCode (nextToken) != LLT_EOL)
00205     {
00206       LocalUserError (nextToken, <font class="stringliteral">"Unexpected tokens on line"</font>);
00207     }
00208 
00209   nextToken = <a class="code" href="lclscan_c.html#a9">LCLScanNextToken</a> (); <font class="comment">/* Discard EOL       */</font>
00210   }
00211 
00212 <font class="keyword">static</font> <font class="keywordtype">void</font>
00213 Classification (<font class="keywordtype">void</font>)<font class="keyword"></font>
00214 <font class="keyword"></font>{
00215   lsymbol ntext = <a class="code" href="ltoken_c.html#a40">ltoken_getRawText</a> (nextToken);  
00216 
00217     
00218   <font class="keywordflow">if</font> (ntext == ltoken_getText (endCommentCharToken)
00219       || ntext == ltoken_getText (idCharToken)
00220       || ntext == ltoken_getText (opCharToken)
00221       || ntext == ltoken_getText (extensionCharToken)
00222       || ntext == ltoken_getText (singleCharToken)
00223       || ntext == ltoken_getText (whiteCharToken))
00224     {
00225       CharClass ();
00226       InitReduce (CLASSIFICATION1);
00227     }
00228   <font class="keywordflow">else</font> <font class="keywordflow">if</font> (ntext == ltoken_getText (quantifierSymToken)
00229            || ntext == ltoken_getText (logicalOpToken)
00230            || ntext == ltoken_getText (eqOpToken)
00231            || ntext == ltoken_getText (equationSymToken)
00232            || ntext == ltoken_getText (eqSepSymToken)
00233            || ntext == ltoken_getText (selectSymToken)
00234            || ntext == ltoken_getText (openSymToken)
00235            || ntext == ltoken_getText (sepSymToken)
00236            || ntext == ltoken_getText (closeSymToken)
00237            || ntext == ltoken_getText (simpleIdToken)
00238            || ntext == ltoken_getText (mapSymToken)
00239            || ntext == ltoken_getText (markerSymToken)
00240            || ntext == ltoken_getText (commentSymToken))
00241     {
00242       TokenClass ();
00243       InitReduce (CLASSIFICATION2);
00244     }
00245   <font class="keywordflow">else</font> <font class="keywordflow">if</font> (ntext == ltoken_getText (synonymToken))
00246     {
00247       SynClass ();
00248       InitReduce (CLASSIFICATION3);
00249     }
00250   <font class="keywordflow">else</font>
00251     {
00252       llbug (message (<font class="stringliteral">"Expected character, token, or synonym classification: %s"</font>,
00253                       ltoken_getRawString (nextToken)));
00254      <font class="comment">/* pop off all tokens on this line */</font>
00255     }
00256 }
00257 
00258 <font class="keyword">static</font> <font class="keywordtype">void</font>
00259 CharClass (<font class="keywordtype">void</font>)<font class="keyword"></font>
00260 <font class="keyword"></font>{
00261   ltoken charClassToken;
00262 
00263   charClassToken = nextToken;
00264 
00265   nextToken = <a class="code" href="lclscan_c.html#a9">LCLScanNextToken</a> ();              <font class="comment">/* Discard char class keyword. */</font>
00266 
00267   <font class="keywordflow">if</font> (<a class="code" href="ltoken_c.html#a40">ltoken_getRawText</a> (charClassToken) == ltoken_getText (endCommentCharToken))
00268     {
00269       EndCommentChars ();
00270       InitReduce (CHARCLASS1);
00271     }
00272   <font class="keywordflow">else</font> <font class="keywordflow">if</font> (<a class="code" href="ltoken_c.html#a40">ltoken_getRawText</a> (charClassToken) == ltoken_getText (idCharToken))
00273     {
00274       IdChars ();
00275       InitReduce (CHARCLASS2);
00276     }
00277   <font class="keywordflow">else</font> <font class="keywordflow">if</font> (<a class="code" href="ltoken_c.html#a40">ltoken_getRawText</a> (charClassToken) == ltoken_getText (opCharToken))
00278     {
00279       OpChars ();
00280       InitReduce (CHARCLASS3);
00281     }
00282   <font class="keywordflow">else</font> <font class="keywordflow">if</font> (<a class="code" href="ltoken_c.html#a40">ltoken_getRawText</a> (charClassToken)
00283            == ltoken_getText (extensionCharToken))
00284     {
00285       ExtensionChar ();
00286       InitReduce (CHARCLASS4);
00287     }
00288   <font class="keywordflow">else</font> <font class="keywordflow">if</font> (<a class="code" href="ltoken_c.html#a40">ltoken_getRawText</a> (charClassToken) == ltoken_getText (singleCharToken))
00289     {
00290       SingChars ();
00291       InitReduce (CHARCLASS5);
00292     }
00293   <font class="keywordflow">else</font> <font class="keywordflow">if</font> (<a class="code" href="ltoken_c.html#a40">ltoken_getRawText</a> (charClassToken) == ltoken_getText (whiteCharToken))
00294     {
00295       WhiteChars ();
00296       InitReduce (CHARCLASS6);
00297     }
00298   <font class="keywordflow">else</font>
00299     {
00300       LocalUserError (nextToken, <font class="stringliteral">"expected character classification"</font>);
00301     }
00302 }
00303 
00304 <font class="keyword">static</font> <font class="keywordtype">void</font>
00305 EndCommentChars (<font class="keywordtype">void</font>)<font class="keyword"></font>
00306 <font class="keyword"></font>{
00307   EndCommentChar ();
00308   InitReduce (LRC_ENDCOMMENT1);
00309 
00310   <font class="keywordflow">while</font> (ltoken_getCode (nextToken) != LLT_EOL)
00311     {
00312       EndCommentChar ();
00313       InitReduce (LRC_ENDCOMMENT2);
00314     }
00315 
00316 }
00317 
00318 <font class="keyword">static</font> <font class="keywordtype">void</font> IdChars (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font>
00319 {
00320   IdChar ();
00321   InitReduce (IDCHARS1);
00322   
00323   <font class="keywordflow">while</font> (ltoken_getCode (nextToken) != LLT_EOL)
00324     {
00325       IdChar ();
00326       InitReduce (IDCHARS2);
00327     }
00328 }
00329 
00330 <font class="keyword">static</font> <font class="keywordtype">void</font> OpChars (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font>
00331 {
00332   OpChar ();
00333   InitReduce (OPCHARS1);
00334 
00335   <font class="keywordflow">while</font> (ltoken_getCode (nextToken) != LLT_EOL)
00336     {
00337       OpChar ();
00338       InitReduce (OPCHARS2);
00339     }
00340 }
00341 
00342 <font class="keyword">static</font> <font class="keywordtype">void</font> ExtensionChar (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font>
00343 {
00344   <font class="keywordflow">if</font> (hasFirstChar (nextToken))
00345     {
00346       <a class="code" href="shift_c.html#a5">LSLGenShift</a> (nextToken);
00347       nextToken = <a class="code" href="lclscan_c.html#a9">LCLScanNextToken</a> ();
00348       InitReduce (LRC_EXTENSIONCHAR1);
00349     }
00350   <font class="keywordflow">else</font>
00351     {
00352       LocalUserError (nextToken, <font class="stringliteral">"expected only one character"</font>);
00353     }
00354 }
00355 
00356 <font class="keyword">static</font> <font class="keywordtype">void</font> SingChars (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font>
00357 {
00358   SingChar ();
00359   InitReduce (SINGCHARS1);
00360 
00361   <font class="keywordflow">while</font> (ltoken_getCode (nextToken) != LLT_EOL)
00362     {
00363       SingChar ();
00364       InitReduce (SINGCHARS2);
00365     }
00366 }
00367 
00368 <font class="keyword">static</font> <font class="keywordtype">void</font> WhiteChars (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font>
00369 {
00370   WhiteChar ();
00371   InitReduce (WHITECHARS1);
00372 
00373   <font class="keywordflow">while</font> (ltoken_getCode (nextToken) != LLT_EOL)
00374     {
00375       WhiteChar ();
00376       InitReduce (WHITECHARS2);
00377     }
00378 }
00379 
00380 <font class="keyword">static</font> <font class="keywordtype">void</font> EndCommentChar (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font>
00381 {
00382   <font class="keywordflow">if</font> (ltoken_isChar (nextToken))
00383     {
00384       <a class="code" href="shift_c.html#a5">LSLGenShift</a> (nextToken);
00385       nextToken = <a class="code" href="lclscan_c.html#a9">LCLScanNextToken</a> ();
00386       InitReduce (LRC_ENDCOMMENTCHAR1);
00387     }
00388   <font class="keywordflow">else</font>
00389     {
00390       LocalUserError (nextToken, <font class="stringliteral">"expected only one character"</font>);
00391     }
00392 }
00393 
00394 <font class="keyword">static</font> <font class="keywordtype">void</font> IdChar (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font>
00395 {
00396   <font class="keywordflow">if</font> (hasFirstChar (nextToken))
00397     {
00398       <a class="code" href="shift_c.html#a5">LSLGenShift</a> (nextToken);
00399       nextToken = <a class="code" href="lclscan_c.html#a9">LCLScanNextToken</a> ();
00400       InitReduce (IDCHAR1);
00401     }
00402   <font class="keywordflow">else</font>
00403     {
00404       LocalUserError (nextToken,
00405                       <font class="stringliteral">"Character is already defined, cannot redefine"</font>);
00406     }
00407 }
00408 
00409 <font class="keyword">static</font> <font class="keywordtype">void</font> OpChar (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font>
00410 {
00411   <font class="keywordflow">if</font> (hasFirstChar (nextToken))
00412     {
00413       <a class="code" href="shift_c.html#a5">LSLGenShift</a> (nextToken);
00414       nextToken = <a class="code" href="lclscan_c.html#a9">LCLScanNextToken</a> ();
00415       InitReduce (OPCHAR1);
00416     }
00417   <font class="keywordflow">else</font>
00418     {
00419       LocalUserError (nextToken, 
00420                       <font class="stringliteral">"Character is already defined, cannot redefine"</font>);
00421     }
00422 }
00423 
00424 <font class="keyword">static</font> <font class="keywordtype">void</font> SingChar (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font>
00425 {
00426   <font class="keywordflow">if</font> (hasFirstChar (nextToken))
00427     {
00428       <a class="code" href="shift_c.html#a5">LSLGenShift</a> (nextToken);
00429       nextToken = <a class="code" href="lclscan_c.html#a9">LCLScanNextToken</a> ();
00430       InitReduce (SINGCHAR1);
00431     }
00432   <font class="keywordflow">else</font>
00433     {
00434       LocalUserError (nextToken, 
00435                       <font class="stringliteral">"Character is already defined, cannot redefine"</font>);
00436     }
00437 }
00438 
00439 <font class="keyword">static</font> <font class="keywordtype">void</font> WhiteChar (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font>
00440 {
00441   <font class="keywordflow">if</font> (hasFirstChar (nextToken))
00442     {
00443       <a class="code" href="shift_c.html#a5">LSLGenShift</a> (nextToken);
00444       nextToken = <a class="code" href="lclscan_c.html#a9">LCLScanNextToken</a> ();
00445       InitReduce (WHITECHAR1);
00446     }
00447   <font class="keywordflow">else</font>
00448     {
00449       LocalUserError (nextToken, <font class="stringliteral">"Character is already defined, cannot redefine"</font>);
00450     }
00451 }
00452 
00453 <font class="keyword">static</font> <font class="keywordtype">void</font>
00454   TokenClass (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font>
00455 {
00456   ltoken tokenClassToken;
00457   lsymbol ttext = <a class="code" href="ltoken_c.html#a40">ltoken_getRawText</a> (nextToken);
00458 
00459   tokenClassToken = nextToken;
00460 
00461   <font class="comment">/* Discard token class keyword. */</font>
00462   nextToken = <a class="code" href="lclscan_c.html#a9">LCLScanNextToken</a> ();
00463 
00464   <font class="keywordflow">if</font> (ttext == ltoken_getText (quantifierSymToken))
00465     {
00466       QuantifierSymToks ();
00467       InitReduce (TOKENCLASS1);
00468     }
00469   <font class="keywordflow">else</font> <font class="keywordflow">if</font> (ttext == ltoken_getText (logicalOpToken))
00470     {
00471       LogicalOpToks ();
00472       InitReduce (TOKENCLASS2);
00473     }
00474   <font class="keywordflow">else</font> <font class="keywordflow">if</font> (ttext == ltoken_getText (eqOpToken))
00475     {
00476       EqOpToks ();
00477       InitReduce (TOKENCLASS3);
00478     }
00479   <font class="keywordflow">else</font> <font class="keywordflow">if</font> (ttext == ltoken_getText (equationSymToken))
00480     {
00481       EquationSymToks ();
00482       InitReduce (TOKENCLASS4);
00483     }
00484   <font class="keywordflow">else</font> <font class="keywordflow">if</font> (ttext == ltoken_getText (eqSepSymToken))
00485     {
00486       EqSepSymToks ();
00487       InitReduce (TOKENCLASS5);
00488     }
00489   <font class="keywordflow">else</font> <font class="keywordflow">if</font> (ttext == ltoken_getText (selectSymToken))
00490     {
00491       SelectSymToks ();
00492       InitReduce (TOKENCLASS6);
00493     }
00494   <font class="keywordflow">else</font> <font class="keywordflow">if</font> (ttext == ltoken_getText (openSymToken))
00495     {
00496       OpenSymToks ();
00497       InitReduce (TOKENCLASS7);
00498     }
00499   <font class="keywordflow">else</font> <font class="keywordflow">if</font> (ttext == ltoken_getText (sepSymToken))
00500     {
00501       SepSymToks ();
00502       InitReduce (TOKENCLASS8);
00503     }
00504   <font class="keywordflow">else</font> <font class="keywordflow">if</font> (ttext == ltoken_getText (closeSymToken))
00505     {
00506       CloseSymToks ();
00507       InitReduce (TOKENCLASS9);
00508     }
00509   <font class="keywordflow">else</font> <font class="keywordflow">if</font> (ttext == ltoken_getText (simpleIdToken))
00510     {
00511       SimpleIdToks ();
00512       InitReduce (TOKENCLASS10);
00513     }
00514   <font class="keywordflow">else</font> <font class="keywordflow">if</font> (ttext == ltoken_getText (mapSymToken))
00515     {
00516       MapSymToks ();
00517       InitReduce (TOKENCLASS11);
00518     }
00519   <font class="keywordflow">else</font> <font class="keywordflow">if</font> (ttext == ltoken_getText (markerSymToken))
00520     {
00521       MarkerSymToks ();
00522       InitReduce (TOKENCLASS12);
00523     }
00524   <font class="keywordflow">else</font> <font class="keywordflow">if</font> (ttext == ltoken_getText (commentSymToken))
00525     {
00526             CommentSymToks ();
00527       InitReduce (TOKENCLASS13);
00528     }
00529   <font class="keywordflow">else</font>
00530     {
00531       LocalUserError (nextToken, <font class="stringliteral">"expected token classification"</font>);
00532     }
00533 }
00534 
00535 <font class="keyword">static</font> <font class="keywordtype">void</font>
00536 QuantifierSymToks (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font>
00537 {
00538   QuantifierSymTok ();
00539   InitReduce (QUANTIFIERSYMTOKS1);
00540 
00541   <font class="keywordflow">while</font> (ltoken_getCode (nextToken) != LLT_EOL)
00542     {
00543       QuantifierSymTok ();
00544       InitReduce (QUANTIFIERSYMTOKS2);
00545     }
00546 }
00547 
00548 <font class="keyword">static</font> <font class="keywordtype">void</font>
00549 LogicalOpToks (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font>
00550 {
00551   LogicalOpTok ();
00552   InitReduce (LOGICALOPTOKS1);
00553 
00554   <font class="keywordflow">while</font> (ltoken_getCode (nextToken) != LLT_EOL)
00555     {
00556       LogicalOpTok ();
00557       InitReduce (LOGICALOPTOKS2);
00558     }
00559 }
00560 
00561 <font class="keyword">static</font> <font class="keywordtype">void</font>
00562 EqOpToks (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font>
00563 {
00564   EqOpTok ();
00565   InitReduce (LRC_EQOPTOKS1);
00566 
00567   <font class="keywordflow">while</font> (ltoken_getCode (nextToken) != LLT_EOL)
00568     {
00569       EqOpTok ();
00570       InitReduce (LRC_EQOPTOKS2);
00571     }
00572 }
00573 
00574 <font class="keyword">static</font> <font class="keywordtype">void</font>
00575 EquationSymToks (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font>
00576 {
00577   EquationSymTok ();
00578   InitReduce (LRC_EQUATIONSYMTOKS1);
00579 
00580   <font class="keywordflow">while</font> (ltoken_getCode (nextToken) != LLT_EOL)
00581     {
00582       EquationSymTok ();
00583       InitReduce (LRC_EQUATIONSYMTOKS2);
00584     }
00585 }
00586 
00587 <font class="keyword">static</font> <font class="keywordtype">void</font>
00588 EqSepSymToks (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font>
00589 {
00590   EqSepSymTok ();
00591   InitReduce (LRC_EQSEPSYMTOKS1);
00592 
00593   <font class="keywordflow">while</font> (ltoken_getCode (nextToken) != LLT_EOL)
00594     {
00595       EqSepSymTok ();
00596       InitReduce (LRC_EQSEPSYMTOKS2);
00597     }
00598 }
00599 
00600 <font class="keyword">static</font> <font class="keywordtype">void</font>
00601 SelectSymToks (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font>
00602 {
00603   SelectSymTok ();
00604   InitReduce (SELECTSYMTOKS1);
00605 
00606   <font class="keywordflow">while</font> (ltoken_getCode (nextToken) != LLT_EOL)
00607     {
00608       SelectSymTok ();
00609       InitReduce (SELECTSYMTOKS2);
00610     }
00611 }
00612 
00613 <font class="keyword">static</font> <font class="keywordtype">void</font>
00614 OpenSymToks (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font>
00615 {
00616   OpenSymTok ();
00617   InitReduce (OPENSYMTOKS1);
00618 
00619   <font class="keywordflow">while</font> (ltoken_getCode (nextToken) != LLT_EOL)
00620     {
00621       OpenSymTok ();
00622       InitReduce (OPENSYMTOKS2);
00623     }
00624 }
00625 
00626 <font class="keyword">static</font> <font class="keywordtype">void</font>
00627 SepSymToks (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font>
00628 {
00629   SepSymTok ();
00630   InitReduce (SEPSYMTOKS1);
00631 
00632   <font class="keywordflow">while</font> (ltoken_getCode (nextToken) != LLT_EOL)
00633     {
00634       SepSymTok ();
00635       InitReduce (SEPSYMTOKS2);
00636     }
00637 }
00638 
00639 <font class="keyword">static</font> <font class="keywordtype">void</font>
00640 CloseSymToks (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font>
00641 {
00642   CloseSymTok ();
00643   InitReduce (CLOSESYMTOKS1);
00644 
00645   <font class="keywordflow">while</font> (ltoken_getCode (nextToken) != LLT_EOL)
00646     {
00647       CloseSymTok ();
00648       InitReduce (CLOSESYMTOKS2);
00649     }
00650 }
00651 
00652 <font class="keyword">static</font> <font class="keywordtype">void</font>
00653 SimpleIdToks (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font>
00654 { 
00655   SimpleIdTok ();
00656   InitReduce (SIMPLEIDTOKS1);
00657 
00658   <font class="keywordflow">while</font> (ltoken_getCode (nextToken) != LLT_EOL)
00659     {
00660       SimpleIdTok ();
00661       InitReduce (SIMPLEIDTOKS2);
00662     }
00663 }
00664 
00665 <font class="keyword">static</font> <font class="keywordtype">void</font>
00666 MapSymToks (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font>
00667 {
00668   MapSymTok ();
00669   InitReduce (MAPSYMTOKS1);
00670 
00671   <font class="keywordflow">while</font> (ltoken_getCode (nextToken) != LLT_EOL)
00672     {
00673       MapSymTok ();
00674       InitReduce (MAPSYMTOKS2);
00675     }
00676 }
00677 
00678 <font class="keyword">static</font> <font class="keywordtype">void</font>
00679 MarkerSymToks (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font>
00680 {
00681   MarkerSymTok ();
00682   InitReduce (MARKERSYMTOKS1);
00683 
00684   <font class="keywordflow">while</font> (ltoken_getCode (nextToken) != LLT_EOL)
00685     {
00686       MarkerSymTok ();
00687       InitReduce (MARKERSYMTOKS2);
00688     }
00689 }
00690 
00691 <font class="keyword">static</font> <font class="keywordtype">void</font>
00692 CommentSymToks (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font>
00693 {
00694   CommentSymTok ();
00695     InitReduce (COMMENTSYMTOKS1);
00696   
00697   <font class="keywordflow">while</font> (ltoken_getCode (nextToken) != LLT_EOL)
00698     {
00699             CommentSymTok ();
00700             InitReduce (COMMENTSYMTOKS2);
00701     }
00702 }
00703 
00704 <font class="keyword">static</font> <font class="keywordtype">void</font>
00705 QuantifierSymTok (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font>
00706 {
00707   Token ();
00708   InitReduce (QUANTIFIERSYMTOK1);
00709 }
00710 
00711 <font class="keyword">static</font> <font class="keywordtype">void</font>
00712 LogicalOpTok (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font>
00713 {
00714   Token ();
00715   InitReduce (LOGICALOPTOK1);
00716 }
00717 
00718 <font class="keyword">static</font> <font class="keywordtype">void</font>
00719 EqOpTok (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font>
00720 {
00721   Token ();
00722   InitReduce (LRC_EQOPTOK1);
00723 }
00724 
00725 <font class="keyword">static</font> <font class="keywordtype">void</font> EquationSymTok (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font>
00726 {
00727   Token ();
00728   InitReduce (LRC_EQUATIONSYMTOK1);
00729 }
00730 
00731 <font class="keyword">static</font> <font class="keywordtype">void</font> EqSepSymTok (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font>
00732 {
00733   Token ();
00734   InitReduce (LRC_EQSEPSYMTOK1);
00735 
00736 }
00737 
00738 <font class="keyword">static</font> <font class="keywordtype">void</font> SelectSymTok (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font>
00739 {
00740   Token ();
00741   InitReduce (SELECTSYMTOK1);
00742 }
00743 
00744 <font class="keyword">static</font> <font class="keywordtype">void</font> OpenSymTok (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font>
00745 {
00746   Token ();
00747   InitReduce (OPENSYMTOK1);
00748 }
00749 
00750 <font class="keyword">static</font> <font class="keywordtype">void</font> SepSymTok (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font>
00751 {
00752   Token ();
00753   InitReduce (SEPSYMTOK1);
00754 }
00755 
00756 <font class="keyword">static</font> <font class="keywordtype">void</font> CloseSymTok (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font>
00757 {
00758   Token ();
00759   InitReduce (CLOSESYMTOK1);
00760 }
00761 
00762 <font class="keyword">static</font> <font class="keywordtype">void</font> SimpleIdTok (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font>
00763 {
00764   Token ();
00765   InitReduce (SIMPLEIDTOK1);
00766 }
00767 
00768 <font class="keyword">static</font> <font class="keywordtype">void</font>
00769 MapSymTok (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font>
00770 {
00771   Token ();
00772   InitReduce (MAPSYMTOK1);
00773 }
00774 
00775 <font class="keyword">static</font> <font class="keywordtype">void</font>
00776 MarkerSymTok (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font>
00777 {
00778   Token ();
00779   InitReduce (MARKERSYMTOK1);
00780 
00781 }
00782 
00783 <font class="keyword">static</font> <font class="keywordtype">void</font>
00784 CommentSymTok (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font>
00785 {
00786   Token ();
00787   InitReduce (COMMENTSYMTOK1);
00788 }
00789 
00790 
00791 <font class="keyword">static</font> <font class="keywordtype">void</font>
00792 SynClass (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font>
00793 {
00794   <font class="keywordflow">if</font> (<a class="code" href="ltoken_c.html#a40">ltoken_getRawText</a> (nextToken) == ltoken_getText (synonymToken))
00795     {
00796       nextToken = <a class="code" href="lclscan_c.html#a9">LCLScanNextToken</a> ();
00797 
00798       OldToken ();
00799       NewToken ();
00800 
00801       InitReduce (SYNCLASS1);
00802     }
00803   <font class="keywordflow">else</font>
00804     {
00805       LocalUserError (nextToken, <font class="stringliteral">"expected synonym classification"</font>);
00806     }
00807 
00808 }
00809 
00810 <font class="keyword">static</font> <font class="keywordtype">void</font>
00811 OldToken (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font>
00812 {
00813   Token ();
00814   InitReduce (OLDTOKEN1);
00815 
00816 }
00817 
00818 <font class="keyword">static</font> <font class="keywordtype">void</font>
00819 NewToken (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font>
00820 {
00821   Token ();
00822   InitReduce (NEWTOKEN1);
00823 
00824 }
00825 
00826 <font class="keyword">static</font> <font class="keywordtype">void</font>
00827 Token (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font>
00828 {
00829   <font class="keywordflow">if</font> (ltoken_getCode (nextToken) == LLT_EOL
00830       || ltoken_getCode (nextToken) == LEOFTOKEN)
00831     {
00832       LocalUserError (nextToken, <font class="stringliteral">"unexpected end-of-line or end-of-file"</font>);
00833     }
00834   <font class="keywordflow">else</font>
00835     {
00836       <a class="code" href="shift_c.html#a5">LSLGenShift</a> (nextToken);
00837       nextToken = <a class="code" href="lclscan_c.html#a9">LCLScanNextToken</a> ();
00838     }
00839 }
00840 
00841 <font class="comment">/*</font>
00842 <font class="comment">** Init File Processing Routines, these routines use the shift-reduce sequence</font>
00843 <font class="comment">** produced by the init file parser and update the necessary tables for the</font>
00844 <font class="comment">** scanner.</font>
00845 <font class="comment">**</font>
00846 <font class="comment">** The same shift stack is used that LSL parser uses.  A different reduce</font>
00847 <font class="comment">** procedure is used because the init file grammar is different from the LSL</font>
00848 <font class="comment">** grammar.</font>
00849 <font class="comment">*/</font>
00850 
00851 <font class="keyword">static</font> <font class="keywordtype">void</font>
00852 InitReduce (LCLInitRuleCode rule) <font class="comment">/*@modifies nextToken@*/</font>
00853 {
00854   <font class="keywordflow">switch</font> (rule)
00855     {
00856     <font class="keywordflow">case</font> INITFILE1:
00857       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"INITFILE1"</font>);
00858       <font class="keywordflow">break</font>;
00859       
00860     <font class="keywordflow">case</font> INITLINES1:
00861       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"INITLINES1"</font>);
00862       <font class="keywordflow">break</font>;
00863       
00864     <font class="keywordflow">case</font> INITLINES2:
00865       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"INITLINES2"</font>);
00866       <font class="keywordflow">break</font>;
00867 
00868     <font class="keywordflow">case</font> INITLINES3:
00869       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"INITLINES3"</font>);
00870       <font class="keywordflow">break</font>;
00871 
00872     <font class="keywordflow">case</font> INITLINE1:
00873       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"INITLINE1"</font>);
00874       <font class="keywordflow">break</font>;
00875 
00876     <font class="keywordflow">case</font> INITLINE2:
00877       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"INITLINE2"</font>);
00878       <font class="keywordflow">break</font>;
00879 
00880     <font class="keywordflow">case</font> CLASSIFICATION1:
00881       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"CLASSIFICATION1"</font>);
00882       <font class="keywordflow">break</font>;
00883 
00884     <font class="keywordflow">case</font> CLASSIFICATION2:
00885       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"CLASSIFICATION2"</font>);
00886       <font class="keywordflow">break</font>;
00887 
00888     <font class="keywordflow">case</font> CLASSIFICATION3:
00889       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"CLASSIFICATION3"</font>);
00890       <font class="keywordflow">break</font>;
00891 
00892     <font class="keywordflow">case</font> CHARCLASS1:
00893       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"CHARCLASS1"</font>);
00894       <font class="keywordflow">break</font>;
00895 
00896     <font class="keywordflow">case</font> CHARCLASS2:
00897       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"CHARCLASS2"</font>);
00898       <font class="keywordflow">break</font>;
00899 
00900     <font class="keywordflow">case</font> CHARCLASS3:
00901       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"CHARCLASS3"</font>);
00902       <font class="keywordflow">break</font>;
00903 
00904     <font class="keywordflow">case</font> CHARCLASS4:
00905       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"CHARCLASS4"</font>);
00906       <font class="keywordflow">break</font>;
00907 
00908     <font class="keywordflow">case</font> CHARCLASS5:
00909       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"CHARCLASS5"</font>);
00910       <font class="keywordflow">break</font>;
00911 
00912     <font class="keywordflow">case</font> CHARCLASS6:
00913       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"CHARCLASS6"</font>);
00914       <font class="keywordflow">break</font>;
00915 
00916     <font class="keywordflow">case</font> LRC_ENDCOMMENT1:
00917       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"LRC_ENDCOMMENT1"</font>);
00918       <font class="keywordflow">break</font>;
00919 
00920     <font class="keywordflow">case</font> LRC_ENDCOMMENT2:
00921       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"LRC_ENDCOMMENT2"</font>);
00922       <font class="keywordflow">break</font>;
00923 
00924     <font class="keywordflow">case</font> IDCHARS1:
00925       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"IDCHARS1"</font>);
00926       <font class="keywordflow">break</font>;
00927 
00928     <font class="keywordflow">case</font> IDCHARS2:
00929       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"IDCHARS2"</font>);
00930       <font class="keywordflow">break</font>;
00931 
00932     <font class="keywordflow">case</font> OPCHARS1:
00933       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"OPCHARS1"</font>);
00934       <font class="keywordflow">break</font>;
00935 
00936     <font class="keywordflow">case</font> OPCHARS2:
00937       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"OPCHARS2"</font>);
00938       <font class="keywordflow">break</font>;
00939 
00940     <font class="keywordflow">case</font> LRC_EXTENSIONCHAR1:
00941       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"LRC_EXTENSIONCHAR1"</font>);
00942       ProcessExtensionChar ();
00943       <font class="keywordflow">break</font>;
00944 
00945     <font class="keywordflow">case</font> SINGCHARS1:
00946       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"SINGCHARS1"</font>);
00947       <font class="keywordflow">break</font>;
00948 
00949     <font class="keywordflow">case</font> SINGCHARS2:
00950       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"SINGCHARS2"</font>);
00951       <font class="keywordflow">break</font>;
00952 
00953     <font class="keywordflow">case</font> WHITECHARS1:
00954       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"WHITECHARS1"</font>);
00955       <font class="keywordflow">break</font>;
00956 
00957     <font class="keywordflow">case</font> WHITECHARS2:
00958       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"WHITECHARS2"</font>);
00959       <font class="keywordflow">break</font>;
00960 
00961     <font class="keywordflow">case</font> LRC_ENDCOMMENTCHAR1:
00962       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"LRC_ENDCOMMENTCHAR1"</font>);
00963       ProcessEndCommentChar ();
00964       <font class="keywordflow">break</font>;
00965 
00966     <font class="keywordflow">case</font> IDCHAR1:
00967       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"IDCHAR1"</font>);
00968       ProcessSingleChar (IDCHAR);
00969       <font class="keywordflow">break</font>;
00970 
00971     <font class="keywordflow">case</font> OPCHAR1:
00972       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"OPCHAR1"</font>);
00973       ProcessSingleChar (OPCHAR);
00974       <font class="keywordflow">break</font>;
00975 
00976     <font class="keywordflow">case</font> SINGCHAR1:
00977       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"SINGCHAR1"</font>);
00978       ProcessSingleChar (SINGLECHAR);
00979       <font class="keywordflow">break</font>;
00980 
00981     <font class="keywordflow">case</font> WHITECHAR1:
00982       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"CHAR1"</font>);
00983       ProcessSingleChar (WHITECHAR);
00984       <font class="keywordflow">break</font>;
00985 
00986     <font class="keywordflow">case</font> TOKENCLASS1:
00987       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"TOKENCLASS1"</font>);
00988       <font class="keywordflow">break</font>;
00989 
00990     <font class="keywordflow">case</font> TOKENCLASS2:
00991       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"TOKENCLASS2"</font>);
00992       <font class="keywordflow">break</font>;
00993 
00994     <font class="keywordflow">case</font> TOKENCLASS3:
00995       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"TOKENCLASS3"</font>);
00996       <font class="keywordflow">break</font>;
00997 
00998     <font class="keywordflow">case</font> TOKENCLASS4:
00999       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"TOKENCLASS4"</font>);
01000       <font class="keywordflow">break</font>;
01001 
01002     <font class="keywordflow">case</font> TOKENCLASS5:
01003       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"TOKENCLASS5"</font>);
01004       <font class="keywordflow">break</font>;
01005 
01006     <font class="keywordflow">case</font> TOKENCLASS6:
01007       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"TOKENCLASS6"</font>);
01008       <font class="keywordflow">break</font>;
01009 
01010     <font class="keywordflow">case</font> TOKENCLASS7:
01011       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"TOKENCLASS7"</font>);
01012       <font class="keywordflow">break</font>;
01013 
01014     <font class="keywordflow">case</font> TOKENCLASS8:
01015       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"TOKENCLASS8"</font>);
01016       <font class="keywordflow">break</font>;
01017 
01018     <font class="keywordflow">case</font> TOKENCLASS9:
01019       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"TOKENCLASS9"</font>);
01020       <font class="keywordflow">break</font>;
01021 
01022     <font class="keywordflow">case</font> TOKENCLASS10:
01023       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"TOKENCLASS10"</font>);
01024       <font class="keywordflow">break</font>;
01025 
01026     <font class="keywordflow">case</font> TOKENCLASS11:
01027       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"TOKENCLASS11"</font>);
01028       <font class="keywordflow">break</font>;
01029 
01030     <font class="keywordflow">case</font> TOKENCLASS12:
01031       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"TOKENCLASS12"</font>);
01032       <font class="keywordflow">break</font>;
01033 
01034     <font class="keywordflow">case</font> TOKENCLASS13:
01035       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"TOKENCLASS13"</font>);
01036       <font class="keywordflow">break</font>;
01037 
01038     <font class="keywordflow">case</font> QUANTIFIERSYMTOKS1:
01039       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"QUALIFERSYMTOKS1"</font>);
01040       <font class="keywordflow">break</font>;
01041 
01042     <font class="keywordflow">case</font> QUANTIFIERSYMTOKS2:
01043       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"QUANTIFIERSYMTOKS2"</font>);
01044       <font class="keywordflow">break</font>;
01045 
01046     <font class="keywordflow">case</font> LOGICALOPTOKS1:
01047       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"LOGICALOPTOKS1"</font>);
01048       <font class="keywordflow">break</font>;
01049 
01050     <font class="keywordflow">case</font> LOGICALOPTOKS2:
01051       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"LOGICALOPTOKS2"</font>);
01052       <font class="keywordflow">break</font>;
01053 
01054     <font class="keywordflow">case</font> LRC_EQOPTOKS1:
01055       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"LRC_EQOPTOKS1"</font>);
01056       <font class="keywordflow">break</font>;
01057 
01058     <font class="keywordflow">case</font> LRC_EQOPTOKS2:
01059       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"LRC_EQOPTOKS2"</font>);
01060       <font class="keywordflow">break</font>;
01061 
01062     <font class="keywordflow">case</font> LRC_EQUATIONSYMTOKS1:
01063       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"LRC_EQUATIONSYMTOKS1"</font>);
01064       <font class="keywordflow">break</font>;
01065 
01066     <font class="keywordflow">case</font> LRC_EQUATIONSYMTOKS2:
01067       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"LRC_EQUATIONSYMTOKS2"</font>);
01068       <font class="keywordflow">break</font>;
01069 
01070     <font class="keywordflow">case</font> LRC_EQSEPSYMTOKS1:
01071       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"LRC_EQSEPSYMTOKS1"</font>);
01072       <font class="keywordflow">break</font>;
01073 
01074     <font class="keywordflow">case</font> LRC_EQSEPSYMTOKS2:
01075       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"LRC_EQSEPSYMTOKS2"</font>);
01076       <font class="keywordflow">break</font>;
01077 
01078     <font class="keywordflow">case</font> SELECTSYMTOKS1:
01079       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"SELECTSYMTOKS1"</font>);
01080       <font class="keywordflow">break</font>;
01081 
01082     <font class="keywordflow">case</font> SELECTSYMTOKS2:
01083       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"SELECTSYMTOKS2"</font>);
01084       <font class="keywordflow">break</font>;
01085 
01086     <font class="keywordflow">case</font> OPENSYMTOKS1:
01087       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"OPENSYMTOKS1"</font>);
01088       <font class="keywordflow">break</font>;
01089 
01090     <font class="keywordflow">case</font> OPENSYMTOKS2:
01091       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"OPENSYMTOKS2"</font>);
01092       <font class="keywordflow">break</font>;
01093 
01094     <font class="keywordflow">case</font> SEPSYMTOKS1:
01095       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"SEPSYMTOKS1"</font>);
01096       <font class="keywordflow">break</font>;
01097 
01098     <font class="keywordflow">case</font> SEPSYMTOKS2:
01099       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"SEPSYMTOKS2"</font>);
01100       <font class="keywordflow">break</font>;
01101 
01102     <font class="keywordflow">case</font> CLOSESYMTOKS1:
01103       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"CLOSESYMTOKS1"</font>);
01104       <font class="keywordflow">break</font>;
01105 
01106     <font class="keywordflow">case</font> CLOSESYMTOKS2:
01107       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"CLOSESYMTOKS2"</font>);
01108       <font class="keywordflow">break</font>;
01109 
01110     <font class="keywordflow">case</font> SIMPLEIDTOKS1:
01111       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"SIMPLEIDTOKS1"</font>);
01112       <font class="keywordflow">break</font>;
01113 
01114     <font class="keywordflow">case</font> SIMPLEIDTOKS2:
01115       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"SIMPLEIDTOKS2"</font>);
01116       <font class="keywordflow">break</font>;
01117 
01118     <font class="keywordflow">case</font> MAPSYMTOKS1:
01119       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"MAPSYMTOKS1"</font>);
01120       <font class="keywordflow">break</font>;
01121 
01122     <font class="keywordflow">case</font> MAPSYMTOKS2:
01123       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"MAPSYMTOKS2"</font>);
01124       <font class="keywordflow">break</font>;
01125 
01126     <font class="keywordflow">case</font> MARKERSYMTOKS1:
01127       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"MARKERSYMTOKS1"</font>);
01128       <font class="keywordflow">break</font>;
01129 
01130     <font class="keywordflow">case</font> MARKERSYMTOKS2:
01131       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"MARKERSYMTOKS2"</font>);
01132       <font class="keywordflow">break</font>;
01133 
01134     <font class="keywordflow">case</font> COMMENTSYMTOKS1:
01135       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"COMMENTSYMTOKS1"</font>);
01136       <font class="keywordflow">break</font>;
01137 
01138     <font class="keywordflow">case</font> COMMENTSYMTOKS2:
01139       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"COMMENTSYMTOKS2"</font>);
01140       <font class="keywordflow">break</font>;
01141 
01142     <font class="keywordflow">case</font> QUANTIFIERSYMTOK1:
01143       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"QUANTIFERSYMTOK1"</font>);
01144       ProcessToken (quantifierSym);
01145       <font class="keywordflow">break</font>;
01146 
01147     <font class="keywordflow">case</font> LOGICALOPTOK1:
01148       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"LOGICALOPTOK1"</font>);
01149       ProcessToken (logicalOp);
01150       <font class="keywordflow">break</font>;
01151 
01152     <font class="keywordflow">case</font> LRC_EQOPTOK1:
01153       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"LRC_EQOPTOK1"</font>);
01154       ProcessToken (eqOp);
01155       <font class="keywordflow">break</font>;
01156 
01157     <font class="keywordflow">case</font> LRC_EQUATIONSYMTOK1:
01158       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"LRC_EQUATIONSYMTOK1"</font>);
01159       ProcessToken (equationSym);
01160       <font class="keywordflow">break</font>;
01161 
01162     <font class="keywordflow">case</font> LRC_EQSEPSYMTOK1:
01163       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"LRC_EQSEPSYMTOK1"</font>);
01164       ProcessToken (eqSepSym);
01165       <font class="keywordflow">break</font>;
01166 
01167     <font class="keywordflow">case</font> SELECTSYMTOK1:
01168       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"SELECTSYMTOK1"</font>);
01169       ProcessToken (selectSym);
01170       <font class="keywordflow">break</font>;
01171 
01172     <font class="keywordflow">case</font> OPENSYMTOK1:
01173       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"OPENSYMTOK1"</font>);
01174       ProcessToken (openSym);
01175       <font class="keywordflow">break</font>;
01176 
01177     <font class="keywordflow">case</font> SEPSYMTOK1:
01178       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"SEPSYMTOK1"</font>);
01179       ProcessToken (sepSym);
01180       <font class="keywordflow">break</font>;
01181 
01182     <font class="keywordflow">case</font> CLOSESYMTOK1:
01183       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"CLOSESYMTOK1"</font>);
01184       ProcessToken (closeSym);
01185       <font class="keywordflow">break</font>;
01186 
01187     <font class="keywordflow">case</font> SIMPLEIDTOK1:
01188       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"SIMPLEIDTOK1"</font>);
01189       ProcessToken (simpleId);
01190       <font class="keywordflow">break</font>;
01191 
01192     <font class="keywordflow">case</font> MAPSYMTOK1:
01193       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"MAPSYMTOK1"</font>);
01194       ProcessToken (mapSym);
01195       <font class="keywordflow">break</font>;
01196 
01197     <font class="keywordflow">case</font> MARKERSYMTOK1:
01198       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"MARKERSYMTOK1"</font>);
01199       ProcessToken (markerSym);
01200       <font class="keywordflow">break</font>;
01201 
01202     <font class="keywordflow">case</font> COMMENTSYMTOK1:
01203       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"COMMENTSYMTOK1"</font>);
01204       ProcessToken (commentSym);
01205       <font class="keywordflow">break</font>;
01206 
01207     <font class="keywordflow">case</font> SYNCLASS1:
01208       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"SYNCLASS1"</font>);
01209       ProcessSynonym ();
01210       <font class="keywordflow">break</font>;
01211 
01212     <font class="keywordflow">case</font> OLDTOKEN1:
01213       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"OLDTOKEN1"</font>);
01214       <font class="keywordflow">break</font>;
01215 
01216     <font class="keywordflow">case</font> NEWTOKEN1:
01217       <a class="code" href="lclinit_c.html#a0">TRACE</a> (<font class="stringliteral">"NEWTOKEN1"</font>);
01218       <font class="keywordflow">break</font>;
01219 
01220     <font class="keywordflow">default</font>:
01221       llcontbuglit (<font class="stringliteral">"InitReduce: bad case"</font>);
01222       <font class="keywordflow">break</font>;
01223     }
01224 }       
01225 
01226 <font class="comment">/*</font>
01227 <font class="comment">** Reset the first character of the predefined extensionChar keywords when  </font>
01228 <font class="comment">** the extensionChar changes.  e.g. "extensionChar @" changes "\forall" to  </font>
01229 <font class="comment">** "@forall".                                                               </font>
01230 <font class="comment">*/</font>
01231 
01232 <font class="keyword">static</font> <font class="keywordtype">void</font>
01233 UpdateXCharKeywords (charCode xChar)<font class="keyword"></font>
01234 <font class="keyword"></font>{
01235   <font class="keywordtype">char</font> *str;
01236   <font class="keywordtype">char</font> xchar = (<font class="keywordtype">char</font>)xChar;
01237 
01238   str = ltoken_getTextChars (ltoken_forall);
01239   *str = xchar;
01240 
01241   str = ltoken_getTextChars (ltoken_and);
01242   *str = xchar;
01243 
01244   str = ltoken_getTextChars (ltoken_or);
01245   *str = xchar;
01246 
01247   str = ltoken_getTextChars (ltoken_implies);
01248   *str = xchar;
01249 
01250   str = ltoken_getTextChars (ltoken_eq);
01251   *str = xchar;
01252 
01253   str = ltoken_getTextChars (ltoken_neq);
01254   *str = xchar;
01255 
01256   str = ltoken_getTextChars (ltoken_equals);
01257   *str = xchar;
01258 
01259   str = ltoken_getTextChars (ltoken_eqsep);
01260   *str = xchar;
01261 
01262   str = ltoken_getTextChars (ltoken_select);
01263   *str = xchar;
01264 
01265   str = ltoken_getTextChars (ltoken_open);
01266   *str = xchar;
01267 
01268   str = ltoken_getTextChars (ltoken_sep);
01269   *str = xchar;
01270 
01271   str = ltoken_getTextChars (ltoken_close);
01272   *str = xchar;
01273 
01274   str = ltoken_getTextChars (ltoken_id);
01275   *str = xchar;
01276 
01277   str = ltoken_getTextChars (ltoken_arrow);
01278   *str = xchar;
01279 
01280   str = ltoken_getTextChars (ltoken_marker);
01281   *str = xchar;
01282 
01283   str = ltoken_getTextChars (ltoken_comment);
01284   *str = xchar;
01285 }
01286 
01287 <font class="comment">/* Different from ProcessCharClass because only allow one extension         */</font>
01288 <font class="comment">/* character. Therefore, the present extension character must be set to a   */</font>
01289 <font class="comment">/* singleChar.                                                              */</font>
01290 
01291 <font class="keyword">static</font> <font class="keywordtype">void</font>
01292 ProcessExtensionChar (<font class="keywordtype">void</font>)<font class="keyword"></font>
01293 <font class="keyword"></font>{
01294   ltoken stackToken = <a class="code" href="shift_c.html#a7">LSLGenTopPopShiftStack</a> ();
01295   <font class="keywordtype">char</font> firstChar = <a class="code" href="cstring_c.html#a1">cstring_firstChar</a> (ltoken_unparse (stackToken));
01296 
01297   <font class="keywordflow">if</font> (!defineSingleChar[(<font class="keywordtype">int</font>)firstChar]
01298       &amp;&amp; <a class="code" href="ltoken_c.html#a44">ltoken_isSingleChar</a> (firstChar))
01299     {
01300       <font class="comment">/*</font>
01301 <font class="comment">      ** Is a single character that has not been defined before.           </font>
01302 <font class="comment">      ** Can only have one extension char.  Release old one. </font>
01303 <font class="comment">      */</font>
01304 
01305       <a class="code" href="lclscanline_c.html#a52">LCLSetCharClass</a> (firstChar, CHC_EXTENSION);
01306       <a class="code" href="lclscanline_c.html#a52">LCLSetCharClass</a> ((<font class="keywordtype">char</font>) currentExtensionChar, SINGLECHAR);
01307       currentExtensionChar = (charCode) firstChar;
01308       UpdateXCharKeywords (currentExtensionChar);
01309     }
01310   <font class="keywordflow">else</font>
01311     {
01312       <font class="comment">/* Already redefined.  Don't allow to be redefined. */</font>
01313       LocalUserError (stackToken, <font class="stringliteral">"Character is already defined, cannot redefine"</font>);
01314     }
01315 
01316   <a class="code" href="ltoken_c.html#a43">ltoken_free</a> (stackToken);
01317 }
01318 
01319 <font class="comment">/* Different from ProcessSingleChar because allow any characters to be      */</font>
01320 <font class="comment">/* endCommentChar and also set a different part of the scanner structure.   */</font>
01321 
01322 <font class="keyword">static</font> <font class="keywordtype">void</font>
01323 ProcessEndCommentChar (<font class="keywordtype">void</font>)<font class="keyword"></font>
01324 <font class="keyword"></font>{
01325   ltoken stackToken = <a class="code" href="shift_c.html#a7">LSLGenTopPopShiftStack</a> ();
01326   <font class="keywordtype">char</font> firstChar = <a class="code" href="cstring_c.html#a1">cstring_firstChar</a> (ltoken_unparse (stackToken));
01327 
01328   <font class="keywordflow">if</font> (<a class="code" href="lclscanline_c.html#a50">LCLIsEndComment</a> (firstChar))
01329     {
01330       LocalUserError (stackToken,
01331                     <font class="stringliteral">"already defined as a endCommentChar, cannot redefine"</font>);
01332     }
01333   <font class="keywordflow">else</font>
01334     {
01335       <a class="code" href="lclscanline_c.html#a53">LCLSetEndCommentChar</a> (firstChar, TRUE);
01336     }
01337   <a class="code" href="ltoken_c.html#a43">ltoken_free</a> (stackToken);
01338 }
01339 
01340 <font class="keyword">static</font> <font class="keywordtype">void</font>
01341 ProcessSingleChar (charCode code)<font class="keyword"></font>
01342 <font class="keyword"></font>{
01343   ltoken stackToken = <a class="code" href="shift_c.html#a7">LSLGenTopPopShiftStack</a> ();
01344   <font class="keywordtype">char</font> firstChar = <a class="code" href="cstring_c.html#a1">cstring_firstChar</a> (ltoken_unparse (stackToken));
01345 
01346   <font class="keywordflow">if</font> (!defineSingleChar[(<font class="keywordtype">int</font>)firstChar]
01347       &amp;&amp; <a class="code" href="ltoken_c.html#a44">ltoken_isSingleChar</a> (firstChar))
01348     {
01349       <font class="comment">/* Is a single character that has not been defined before.            */</font>
01350       <font class="comment">/* It's OK to redefine once. */</font>
01351       <a class="code" href="lclscanline_c.html#a52">LCLSetCharClass</a> (firstChar, code);
01352       <font class="comment">/* OK to mark as a defined singleChar even if not.  Only check        */</font>
01353       <font class="comment">/* defineSingleChar[] if defining a singleChar.                       */</font>
01354       defineSingleChar[(<font class="keywordtype">int</font>)(firstChar)] = TRUE;
01355     }
01356   <font class="keywordflow">else</font>
01357     {
01358       LocalUserError (stackToken, <font class="stringliteral">"Character is already defined, cannot redefine"</font>);
01359     }
01360   
01361   <a class="code" href="ltoken_c.html#a43">ltoken_free</a> (stackToken);
01362 }
01363 
01364 <font class="keyword">static</font> <font class="keywordtype">void</font>
01365 ProcessToken (ltokenCode code)<font class="keyword"></font>
01366 <font class="keyword"></font>{
01367   ltoken stackToken, ptok;
01368 
01369   stackToken = <a class="code" href="shift_c.html#a7">LSLGenTopPopShiftStack</a> ();
01370 
01371   
01372   <font class="keywordflow">if</font> (<a class="code" href="lclsyntable_c.html#a5">LCLIsSyn</a> (ltoken_getText (stackToken)))
01373     {
01374       LocalUserError (stackToken, <font class="stringliteral">"already defined as a synonym, cannot redefine"</font>);
01375     }
01376 
01377   <font class="comment">/*</font>
01378 <font class="comment">  ** Get the token from the token table, so can check if the token    </font>
01379 <font class="comment">  ** was updated by a previous token.                               </font>
01380 <font class="comment">  */</font>
01381 
01382   ptok = <a class="code" href="lcltokentable_c.html#a6">LCLGetToken</a> (ltoken_getText (stackToken));
01383 
01384   <font class="keywordflow">if</font> (ltoken_isStateDefined (ptok))
01385     {
01386             LocalUserError (stackToken, <font class="stringliteral">"already defined, cannot redefine"</font>);
01387     }
01388 
01389     <a class="code" href="lcltokentable_c.html#a4">LCLUpdateToken</a> (code, ltoken_getText (stackToken), TRUE);
01390   <a class="code" href="ltoken_c.html#a43">ltoken_free</a> (stackToken);
01391 }
01392 
01393 
01394 <font class="keyword">static</font> <font class="keywordtype">void</font>
01395 ProcessSynonym (<font class="keywordtype">void</font>)<font class="keyword"></font>
01396 <font class="keyword"></font>{
01397   ltoken newtok;
01398   ltoken oldtok;
01399 
01400   
01401   newtok = <a class="code" href="shift_c.html#a7">LSLGenTopPopShiftStack</a> ();
01402   oldtok = <a class="code" href="shift_c.html#a7">LSLGenTopPopShiftStack</a> ();
01403 
01404   
01405  <font class="comment">/* ignore synonyms: Bool -&gt; bool</font>
01406 <font class="comment">    and:             bool -&gt; Bool */</font>
01407  <font class="comment">/*</font>
01408 <font class="comment">     if ((ltoken_getText (newtok) == lsymbol_Bool ||</font>
01409 <font class="comment">          ltoken_getText (newtok) == lsymbol_bool) &amp;&amp;</font>
01410 <font class="comment">         (ltoken_getText (oldtok) == lsymbol_Bool ||</font>
01411 <font class="comment">          ltoken_getText (oldtok) == lsymbol_bool)) return;</font>
01412 <font class="comment"> */</font>
01413 
01414   <font class="keywordflow">if</font> (ltoken_wasSyn (newtok))
01415     {
01416      <font class="comment">/*</font>
01417 <font class="comment">     ** The token has a synonym.  This means that the synonym was in the </font>
01418 <font class="comment">     ** init file, so complain about redefining as a synonym again       </font>
01419 <font class="comment">     */</font>
01420 
01421       LocalUserError (newtok, <font class="stringliteral">"already is a synonym, cannot redefine"</font>);
01422     }
01423 
01424   <font class="keywordflow">if</font> (ltoken_hasSyn (newtok))
01425     {
01426       <font class="comment">/*</font>
01427 <font class="comment">      ** newtok already has a synonym defined for it.  Do not allow        </font>
01428 <font class="comment">      ** synonyms to be chained.                                            </font>
01429 <font class="comment">      */</font>
01430 
01431       LocalUserError (newtok,
01432                       <font class="stringliteral">"newtok already has a synonym, cannot chain synonyms"</font>);
01433     }
01434 
01435   <font class="keywordflow">if</font> (ltoken_isStateDefined (newtok))
01436     {
01437       LocalUserError (newtok, <font class="stringliteral">"newtok already defined, cannot redefine"</font>);
01438     }
01439 
01440     <a class="code" href="lclsyntable_c.html#a3">LCLAddSyn</a> (ltoken_getText (newtok), ltoken_getText (oldtok));
01441 
01442   <a class="code" href="ltoken_c.html#a43">ltoken_free</a> (newtok);
01443   <a class="code" href="ltoken_c.html#a43">ltoken_free</a> (oldtok); 
01444 }
01445 
01446 
01447 <font class="comment">/*</font>
01448 <font class="comment">** Utilities, in alphabetical order</font>
01449 <font class="comment">*/</font>
01450 
01451 <font class="keyword">static</font> <font class="keywordtype">void</font>
01452   LocalUserError (ltoken t, <font class="keywordtype">char</font> *msg)<font class="keyword"></font>
01453 <font class="keyword"></font>{
01454   <a class="code" href="llerror_c.html#a55">lclplainerror</a> (message (<font class="stringliteral">"%s %s in the LCL init file.  Ignoring line."</font>, 
01455                           ltoken_unparse (t), <a class="code" href="cstring_c.html#a28">cstring_fromChars</a> (msg)));
01456 
01457   <font class="comment">/* discard the whole current line */</font>
01458 
01459   nextToken = <a class="code" href="lclscan_c.html#a9">LCLScanNextToken</a> ();              <font class="comment">/* Discard bad token    */</font>
01460 
01461   <font class="keywordflow">while</font> (ltoken_getCode (nextToken) != LLT_EOL 
01462          &amp;&amp; ltoken_getCode (nextToken) != LEOFTOKEN)
01463     {
01464       nextToken = <a class="code" href="lclscan_c.html#a9">LCLScanNextToken</a> ();
01465     }
01466 }
01467 
01468 
01469 <font class="comment">/*</font>
01470 <font class="comment"> *  Required initialization and cleanup routines</font>
01471 <font class="comment"> */</font>
01472 
01473 <font class="keywordtype">void</font>
<a name="l01474"></a><a class="code" href="lclinit_c.html#a81">01474</a> <a class="code" href="lclinit_c.html#a81">LCLProcessInitFileInit</a> (<font class="keywordtype">void</font>)<font class="keyword"></font>
01475 <font class="keyword"></font>{
01476   <font class="keywordtype">int</font> i;
01477 
01478   <a class="code" href="shift_c.html#a8">LSLGenInit</a> (FALSE);           <font class="comment">/* parsing LCLinit, not LSLinit */</font>
01479   
01480   <font class="comment">/*</font>
01481 <font class="comment">  ** Insert the init file keywords into the token table as undefined        </font>
01482 <font class="comment">  ** SIMPLEIDs.  They are defined as simpleIds since they must be treated </font>
01483 <font class="comment">  ** that way if they do not appear as the first token on a line, and       </font>
01484 <font class="comment">  ** they must be treated that way for the actual LSL parsing. Save the   </font>
01485 <font class="comment">  ** tokens so can recognize as init file keywords when necessary.          </font>
01486 <font class="comment">  */</font>
01487 
01488   endCommentCharToken = insertSimpleToken (<font class="stringliteral">"endCommentChar"</font>);
01489   idCharToken = insertSimpleToken (<font class="stringliteral">"idChar"</font>);
01490   opCharToken = insertSimpleToken (<font class="stringliteral">"opChar"</font>);
01491   extensionCharToken = insertSimpleToken (<font class="stringliteral">"extensionChar"</font>);
01492   singleCharToken = insertSimpleToken (<font class="stringliteral">"singleChar"</font>);
01493   whiteCharToken = insertSimpleToken (<font class="stringliteral">"whiteChar"</font>);
01494 
01495   quantifierSymToken = insertSimpleToken (<font class="stringliteral">"quantifierSym"</font>);
01496   logicalOpToken = insertSimpleToken (<font class="stringliteral">"logicalOp"</font>);
01497   eqOpToken = insertSimpleToken (<font class="stringliteral">"eqOp"</font>);
01498   equationSymToken = insertSimpleToken (<font class="stringliteral">"equationSym"</font>);
01499   eqSepSymToken = insertSimpleToken (<font class="stringliteral">"eqSepSym"</font>);
01500   selectSymToken = insertSimpleToken (<font class="stringliteral">"selectSym"</font>);
01501   openSymToken = insertSimpleToken (<font class="stringliteral">"openSym"</font>);
01502   sepSymToken = insertSimpleToken (<font class="stringliteral">"sepSym"</font>);
01503   closeSymToken = insertSimpleToken (<font class="stringliteral">"closeSym"</font>);
01504   simpleIdToken = insertSimpleToken (<font class="stringliteral">"simpleId"</font>);
01505   mapSymToken = insertSimpleToken (<font class="stringliteral">"mapSym"</font>);
01506   markerSymToken = insertSimpleToken (<font class="stringliteral">"markerSym"</font>);
01507   commentSymToken = insertSimpleToken (<font class="stringliteral">"commentSym"</font>);
01508 
01509   synonymToken = insertSimpleToken (<font class="stringliteral">"synonym"</font>);
01510 
01511   <font class="comment">/*</font>
01512 <font class="comment">  ** Initialize defineSingleChar array to all FALSE to signal that no       </font>
01513 <font class="comment">  ** characters have been redefined as singleChar. </font>
01514 <font class="comment">  */</font>
01515 
01516   <font class="keywordflow">for</font> (i = 0; i &lt;= LASTCHAR; i++)
01517     {
01518       defineSingleChar[i] = FALSE;
01519     }
01520 
01521   <font class="comment">/* </font>
01522 <font class="comment">  ** Record the current extension character so can redefine back to         </font>
01523 <font class="comment">  ** singleChar if a new extension character is redefined.                  </font>
01524 <font class="comment">  */</font>
01525 
01526   currentExtensionChar = (charCode) CHAREXTENDER;
01527   
01528   <font class="comment">/* Init file processing needs to have EOL reported. */</font>
01529 
01530   <a class="code" href="lclscanline_c.html#a46">LCLReportEolTokens</a> (TRUE);
01531 
01532   <font class="comment">/* Not: context_getBoolName () */</font>
01533 
01534   <a class="code" href="lclsyntable_c.html#a3">LCLAddSyn</a> (lsymbol_fromChars (<font class="stringliteral">"Bool"</font>),
01535              <a class="code" href="lsymbol_c.html#a14">lsymbol_fromChars</a> (<font class="stringliteral">"bool"</font>));
01536 }
01537 
01538 <font class="keywordtype">void</font>
<a name="l01539"></a><a class="code" href="lclinit_c.html#a82">01539</a> <a class="code" href="lclinit_c.html#a82">LCLProcessInitFileReset</a> (<font class="keywordtype">void</font>)<font class="keyword"></font>
01540 <font class="keyword"></font>{
01541   nextToken = <a class="code" href="lclscan_c.html#a9">LCLScanNextToken</a> ();        
01542 }
01543 
01544 <font class="keywordtype">void</font>
<a name="l01545"></a><a class="code" href="lclinit_c.html#a83">01545</a> <a class="code" href="lclinit_c.html#a83">LCLProcessInitFileCleanup</a> (<font class="keywordtype">void</font>)<font class="keyword"></font>
01546 <font class="keyword"></font>{
01547 }
01548 
01549 
01550 
01551 
01552 
01553 
01554 
01555 
01556 
01557 
</div></pre><hr><address><small>Generated at Fri Nov 3 18:57:41 2000 for LCLint by
<a href="http://www.stack.nl/~dimitri/doxygen/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.3 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2000</small></address>
</body>
</html>
