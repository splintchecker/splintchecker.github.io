<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>tokentable.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.3 on Fri Nov 3 18:58:14 2000 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>tokentable.c File Reference</h1><code>#include "lclintMacros.nf"</code><br>
<code>#include "llbasic.h"</code><br>
<code>#include "osd.h"</code><br>
<code>#include "tokentable.h"</code><br>

<p>
<a href="tokentable_c-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td nowrap align=right valign=top>ltoken&nbsp;</td><td valign=bottom><a class="el" href="tokentable_c.html#a1">LSLInsertToken</a> (ltokenCode cod, lsymbol sym, lsymbol rTxt, bool def)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="tokentable_c.html#a2">LSLUpdateToken</a> (ltokenCode cod, lsymbol sym, bool def)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="tokentable_c.html#a3">LSLSetTokenHasSyn</a> (lsymbol sym, bool syn)</td></tr>
<tr><td nowrap align=right valign=top>ltoken&nbsp;</td><td valign=bottom><a class="el" href="tokentable_c.html#a4">LSLGetToken</a> (lsymbol sym)</td></tr>
<tr><td nowrap align=right valign=top>ltoken&nbsp;</td><td valign=bottom><a class="el" href="tokentable_c.html#a5">LSLReserveToken</a> (ltokenCode cod, char *txt)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="tokentable_c.html#a6">ltokenTableInit</a> (void)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="tokentable_c.html#a7">ltokenTableCleanup</a> (void)</td></tr>
</table>
<hr><h2>Function Documentation</h2>
<a name="a4" doxytag="tokentable.c::LSLGetToken"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
ltoken LSLGetToken (
          </b></td>
          <td valign="bottom"><b>
lsymbol <em>sym</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="tokentable_c-source.html#l00090">90</a> of file <a class="el" href="tokentable_c-source.html">tokentable.c</a>.
<p>
Referenced by <a class="el" href="syntable_c-source.html#l00115">LSLGetTokenForSyn</a>().<div class="fragment"><pre>00091 {
00092   llassert (TokenTable != NULL);
00093 
00094   <font class="keywordflow">if</font> (!((sym &lt; MaxToken) || (!ltoken_isUndefined (TokenTable[sym]))))
00095     {
00096       llcontbuglit (<font class="stringliteral">"LSLGetToken: bad argument"</font>);
00097       <font class="keywordflow">return</font> TokenTable[0];
00098     }
00099 
00100   <font class="keywordflow">return</font> TokenTable[sym];
00101 }
</div></pre>    </td>
  </tr>
</table>
<a name="a1" doxytag="tokentable.c::LSLInsertToken"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
ltoken LSLInsertToken (
          </b></td>
          <td valign="bottom"><b>
ltokenCode <em>cod</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
lsymbol <em>sym</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
lsymbol <em>rTxt</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
bool <em>def</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="tokentable_c-source.html#l00039">39</a> of file <a class="el" href="tokentable_c-source.html">tokentable.c</a>.
<p>
Referenced by <a class="el" href="tokentable_c-source.html#l00104">LSLReserveToken</a>(), <a class="el" href="scanline_c-source.html#l00393">lscanLine</a>(), and <a class="el" href="lslparse_c-source.html#l00055">parseSignatures</a>().<div class="fragment"><pre>00040 {
00041   <font class="keywordflow">while</font> (sym &gt;= MaxToken)
00042     {
00043       AllocTokenTable ();
00044     }
00045 
00046   llassert (TokenTable != NULL);
00047 
00048   <font class="keywordflow">if</font> (ltoken_isUndefined (TokenTable[sym]))
00049     {
00050       TokenTable[sym] = <a class="code" href="ltoken_c.html#a32">ltoken_create</a> (cod, sym);        
00051       ltoken_setRawText (TokenTable[sym], rTxt);
00052       ltoken_setDefined (TokenTable[sym], def);
00053     }
00054   
00055   <font class="keywordflow">return</font> TokenTable[sym];
00056 }
</div></pre>    </td>
  </tr>
</table>
<a name="a5" doxytag="tokentable.c::LSLReserveToken"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
ltoken LSLReserveToken (
          </b></td>
          <td valign="bottom"><b>
ltokenCode <em>cod</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
char * <em>txt</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="tokentable_c-source.html#l00104">104</a> of file <a class="el" href="tokentable_c-source.html">tokentable.c</a>.
<p>
Referenced by <a class="el" href="scanline_c-source.html#l00712">lscanLineInit</a>().<div class="fragment"><pre>00105 {
00106   lsymbol sym;
00107   
00108   sym = <a class="code" href="lsymbol_c.html#a14">lsymbol_fromChars</a> (txt);
00109 
00110   <font class="comment">/* </font>
00111 <font class="comment">  ** Reserved tokens never have raw text like synonyms.</font>
00112 <font class="comment">  */</font>
00113 
00114   <font class="keywordflow">return</font> <a class="code" href="tokentable_c.html#a1">LSLInsertToken</a> (cod, sym, lsymbol_undefined, TRUE);
00115 }
</div></pre>    </td>
  </tr>
</table>
<a name="a3" doxytag="tokentable.c::LSLSetTokenHasSyn"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void LSLSetTokenHasSyn (
          </b></td>
          <td valign="bottom"><b>
lsymbol <em>sym</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
bool <em>syn</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="tokentable_c-source.html#l00076">76</a> of file <a class="el" href="tokentable_c-source.html">tokentable.c</a>.
<p>
Referenced by <a class="el" href="syntable_c-source.html#l00094">LSLAddSyn</a>().<div class="fragment"><pre>00077 {
00078   llassert (TokenTable != NULL);
00079     
00080   <font class="keywordflow">if</font> (!ltoken_isUndefined (TokenTable[sym]))
00081     {
00082       ltoken_setHasSyn (TokenTable[sym], syn);
00083     }
00084   <font class="keywordflow">else</font>
00085     {
00086       llbuglit (<font class="stringliteral">"LSLSetTokenHasSyn: null token"</font>);
00087     }
00088 }
</div></pre>    </td>
  </tr>
</table>
<a name="a2" doxytag="tokentable.c::LSLUpdateToken"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void LSLUpdateToken (
          </b></td>
          <td valign="bottom"><b>
ltokenCode <em>cod</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
lsymbol <em>sym</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
bool <em>def</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="tokentable_c-source.html#l00059">59</a> of file <a class="el" href="tokentable_c-source.html">tokentable.c</a>.<div class="fragment"><pre>00060 {
00061   llassert (TokenTable != NULL);
00062 
00063   <font class="keywordflow">if</font> (!ltoken_isUndefined (TokenTable[sym]))
00064     {
00065       ltoken_setCode (TokenTable[sym], cod);
00066       ltoken_setDefined (TokenTable[sym], def);
00067     }
00068   <font class="keywordflow">else</font>
00069     {
00070       <a class="code" href="llerror_c.html#a43">llfatalbug</a> (message (<font class="stringliteral">"LSLUpdateToken: token not in table: %d, text: %s"</font>, 
00071                            (<font class="keywordtype">int</font>) cod, <a class="code" href="cstring_c.html#a28">cstring_fromChars</a> (lsymbol_toChars (sym))));
00072     }
00073 }
</div></pre>    </td>
  </tr>
</table>
<a name="a7" doxytag="tokentable.c::ltokenTableCleanup"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void ltokenTableCleanup (
          </b></td>
          <td valign="bottom"><b>
void&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="tokentable_c-source.html#l00166">166</a> of file <a class="el" href="tokentable_c-source.html">tokentable.c</a>.<div class="fragment"><pre>00167 {
00168   <font class="keywordflow">if</font> (TokenTable != NULL)
00169     {
00170       <font class="keywordtype">long</font> <font class="keywordtype">unsigned</font> i;
00171       
00172       <font class="keywordflow">for</font> (i = 0; i &lt; MaxToken; i++)
00173         {
00174           <a class="code" href="ltoken_c.html#a43">ltoken_free</a> (TokenTable[i]);
00175         }
00176 
00177       <a class="code" href="general_c.html#a0">sfree</a> (TokenTable); 
00178       TokenTable = NULL;
00179     }
00180 }
</div></pre>    </td>
  </tr>
</table>
<a name="a6" doxytag="tokentable.c::ltokenTableInit"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void ltokenTableInit (
          </b></td>
          <td valign="bottom"><b>
void&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="tokentable_c-source.html#l00160">160</a> of file <a class="el" href="tokentable_c-source.html">tokentable.c</a>.<div class="fragment"><pre>00161 {
00162   MaxToken = 0;
00163 }
</div></pre>    </td>
  </tr>
</table>
<hr><address><small>Generated at Fri Nov 3 18:58:14 2000 for LCLint by
<a href="http://www.stack.nl/~dimitri/doxygen/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.3 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2000</small></address>
</body>
</html>
