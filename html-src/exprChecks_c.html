<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>exprChecks.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.3 on Fri Nov 3 18:57:55 2000 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>exprChecks.c File Reference</h1><code>#include "lclintMacros.nf"</code><br>
<code>#include "basic.h"</code><br>
<code>#include "cgrammar.h"</code><br>
<code>#include "cgrammar_tokens.h"</code><br>
<code>#include "aliasChecks.h"</code><br>
<code>#include "exprChecks.h"</code><br>

<p>
<a href="exprChecks_c-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="exprChecks_c.html#a4">exprNode_checkStatement</a> (exprNode e)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="exprChecks_c.html#a7">exprNode_checkModify</a> (exprNode e, exprNode err)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="exprChecks_c.html#a8">exprNode_checkModifyVal</a> (exprNode e, exprNode err)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="exprChecks_c.html#a9">exprChecks_checkNullReturn</a> (fileloc loc)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="exprChecks_c.html#a10">exprNode_checkReturn</a> (exprNode e)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="exprChecks_c.html#a11">exprNode_checkPred</a> (cstring c, exprNode e)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="exprChecks_c.html#a12">exprChecks_checkUsedGlobs</a> (globSet decl, globSet used)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="exprChecks_c.html#a13">exprNode_checkAllMods</a> (sRefSet mods, uentry ue)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="exprChecks_c.html#a14">exprNode_checkMacroBody</a> ( exprNode e)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="exprChecks_c.html#a15">exprNode_checkFunctionBody</a> (exprNode body)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="exprChecks_c.html#a16">exprNode_checkFunction</a> ( uentry ue, exprNode body)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="exprChecks_c.html#a17">exprChecks_checkEmptyMacroBody</a> (void)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="exprChecks_c.html#a18">exprNode_checkIterBody</a> ( exprNode body)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="exprChecks_c.html#a19">exprNode_checkIterEnd</a> ( exprNode body)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="exprChecks_c.html#a21">exprNode_checkCallModifyVal</a> (sRef s, exprNodeList args, exprNode f, exprNode err)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="exprChecks_c.html#a22">exprChecks_checkExport</a> (uentry e)</td></tr>
</table>
<hr><h2>Function Documentation</h2>
<a name="a17" doxytag="exprChecks.c::exprChecks_checkEmptyMacroBody"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void exprChecks_checkEmptyMacroBody (
          </b></td>
          <td valign="bottom"><b>
void&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="exprChecks_c-source.html#l00899">899</a> of file <a class="el" href="exprChecks_c-source.html">exprChecks.c</a>.<div class="fragment"><pre>00900 {
00901   uentry hdr;
00902   
00903   <font class="keywordflow">if</font> (!(<a class="code" href="context_c.html#a175">context_inFunctionLike</a> () || <a class="code" href="context_c.html#a224">context_inMacroConstant</a> ()
00904         || <a class="code" href="context_c.html#a225">context_inMacroUnknown</a> ()))
00905     {
00906       llcontbug 
00907         (<a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"exprNode_checkEmptyMacroBody: not in macro function or constant: %q"</font>, 
00908                   context_unparse ()));
00909       <font class="keywordflow">return</font>;
00910     }
00911   
00912   hdr = <a class="code" href="context_c.html#a96">context_getHeader</a> ();
00913   
00914   beginLine ();
00915   
00916   <font class="keywordflow">if</font> (uentry_isFunction (hdr))
00917     {
00918       voptgenerror 
00919         (FLG_MACROEMPTY,
00920          message 
00921          (<font class="stringliteral">"Macro definition for %q is empty"</font>, <a class="code" href="uentry_c.html#a195">uentry_getName</a> (hdr)),
00922          g_currentloc);
00923 
00924       <a class="code" href="usymtab_c.html#a105">usymtab_checkFinalScope</a> (FALSE);
00925     }
00926 
00927   <a class="code" href="context_c.html#a129">context_exitFunction</a> ();
00928   <font class="keywordflow">return</font>;
00929 }
</div></pre>    </td>
  </tr>
</table>
<a name="a22" doxytag="exprChecks.c::exprChecks_checkExport"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void exprChecks_checkExport (
          </b></td>
          <td valign="bottom"><b>
uentry <em>e</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="exprChecks_c-source.html#l01262">1262</a> of file <a class="el" href="exprChecks_c-source.html">exprChecks.c</a>.<div class="fragment"><pre>01263 {
01264   <font class="keywordflow">if</font> (<a class="code" href="context_c.html#a104">context_checkExport</a> (e))
01265     {
01266       fileloc fl = <a class="code" href="uentry_c.html#a202">uentry_whereDeclared</a> (e);
01267       
01268       <font class="keywordflow">if</font> (<a class="code" href="fileloc_c.html#a43">fileloc_isHeader</a> (fl) &amp;&amp; !<a class="code" href="fileloc_c.html#a47">fileloc_isLib</a> (fl) 
01269           &amp;&amp; !fileloc_isImport (fl) &amp;&amp; !uentry_isStatic (e))
01270         {
01271           <font class="keywordflow">if</font> (uentry_isFunction (e) || 
01272               (<a class="code" href="uentry_c.html#a159">uentry_isVariable</a> (e) &amp;&amp; <a class="code" href="ctype_c.html#a49">ctype_isFunction</a> (uentry_getType (e))))
01273             {
01274               voptgenerror 
01275                 (FLG_EXPORTFCN,
01276                  <a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"Function exported, but not specified: %q"</font>, 
01277                           uentry_getName (e)),
01278                  fl);
01279             }
01280           <font class="keywordflow">else</font> <font class="keywordflow">if</font> (<a class="code" href="uentry_c.html#a171">uentry_isExpandedMacro</a> (e))
01281             {
01282               voptgenerror
01283                 (FLG_EXPORTMACRO,
01284                  <a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"Expanded macro exported, but not specified: %q"</font>, 
01285                           uentry_getName (e)),
01286                  fl);
01287             }
01288           <font class="keywordflow">else</font> <font class="keywordflow">if</font> (<a class="code" href="uentry_c.html#a159">uentry_isVariable</a> (e) &amp;&amp; !<a class="code" href="uentry_c.html#a170">uentry_isParam</a> (e)) 
01289             {
01290               voptgenerror 
01291                 (FLG_EXPORTVAR,
01292                  <a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"Variable exported, but not specified: %q"</font>, 
01293                           uentry_getName (e)),
01294                  fl);
01295             }
01296           <font class="keywordflow">else</font> <font class="keywordflow">if</font> (uentry_isEitherConstant (e))
01297             {
01298               voptgenerror 
01299                 (FLG_EXPORTCONST,
01300                  <a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"Constant exported, but not specified: %q"</font>, 
01301                           uentry_getName (e)),
01302                  fl);
01303             }
01304           <font class="keywordflow">else</font> <font class="keywordflow">if</font> (<a class="code" href="uentry_c.html#a184">uentry_isIter</a> (e) || <a class="code" href="uentry_c.html#a185">uentry_isEndIter</a> (e))
01305             {
01306               voptgenerror 
01307                 (FLG_EXPORTITER,
01308                  <a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"Iterator exported, but not specified: %q"</font>, 
01309                           uentry_getName (e)),
01310                  fl);
01311             }
01312 
01313           <font class="keywordflow">else</font> <font class="keywordflow">if</font> (<a class="code" href="uentry_c.html#a163">uentry_isDatatype</a> (e))
01314             {
01315               ; <font class="comment">/* error already reported */</font>
01316             }
01317           <font class="keywordflow">else</font>
01318             {
01319               BADEXIT;
01320             }
01321         }
01322     }
01323 }
</div></pre>    </td>
  </tr>
</table>
<a name="a9" doxytag="exprChecks.c::exprChecks_checkNullReturn"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void exprChecks_checkNullReturn (
          </b></td>
          <td valign="bottom"><b>
fileloc <em>loc</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="exprChecks_c-source.html#l00349">349</a> of file <a class="el" href="exprChecks_c-source.html">exprChecks.c</a>.
<p>
Referenced by <a class="el" href="exprNode_c-source.html#l06797">exprNode_nullReturn</a>().<div class="fragment"><pre>00350 {
00351   <font class="keywordflow">if</font> (!<a class="code" href="context_c.html#a176">context_inRealFunction</a> ())
00352     {
00353       <font class="comment">/*</font>
00354 <font class="comment">      llmsg ("exprChecks_checkNullReturnExpr: not in function context");</font>
00355 <font class="comment">      */</font>
00356       <font class="keywordflow">return</font>;
00357     }
00358   <font class="keywordflow">else</font>
00359     {
00360       <font class="keywordflow">if</font> (<a class="code" href="ctype_c.html#a49">ctype_isFunction</a> (context_currentFunctionType ()))
00361         {
00362           ctype tr = <a class="code" href="ctype_c.html#a39">ctype_returnValue</a> (context_currentFunctionType ());
00363 
00364           <font class="keywordflow">if</font> (!<a class="code" href="ctype_c.html#a115">ctype_isFirstVoid</a> (tr))
00365             {
00366               <font class="keywordflow">if</font> (ctype_isUnknown (tr))
00367                 {
00368                   voptgenerror
00369                     (FLG_CONTROL,
00370                      cstring_makeLiteral (<font class="stringliteral">"Empty return in function declared to implicitly return int"</font>),
00371                      loc);
00372                 }
00373               <font class="keywordflow">else</font>
00374                 {
00375                   voptgenerror (FLG_CONTROL,
00376                                 message (<font class="stringliteral">"Empty return in function declared to return %t"</font>, tr),
00377                                 loc);
00378                 }
00379             }
00380         }
00381     }
00382 }
</div></pre>    </td>
  </tr>
</table>
<a name="a12" doxytag="exprChecks.c::exprChecks_checkUsedGlobs"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void exprChecks_checkUsedGlobs (
          </b></td>
          <td valign="bottom"><b>
globSet <em>decl</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
globSet <em>used</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="exprChecks_c-source.html#l00469">469</a> of file <a class="el" href="exprChecks_c-source.html">exprChecks.c</a>.
<p>
Referenced by <a class="el" href="context_c-source.html#l02197">context_exitFunction</a>().<div class="fragment"><pre>00470 {
00471   fileloc fl = <a class="code" href="uentry_c.html#a200">uentry_whereSpecified</a> (context_getHeader ());
00472 
00473   <font class="keywordflow">if</font> (fileloc_isUndefined (fl))
00474     {
00475       fl = <a class="code" href="uentry_c.html#a202">uentry_whereDeclared</a> (context_getHeader ());
00476     }
00477 
00478   globSet_allElements (decl, el)<font class="keyword"></font>
00479 <font class="keyword">    </font>{
00480       <font class="keywordflow">if</font> (!<a class="code" href="globSet_c.html#a5">globSet_member</a> (used, el))
00481         {
00482           <font class="keywordflow">if</font> (<a class="code" href="sRef_c.html#a162">sRef_isSpecInternalState</a> (el)
00483               || <a class="code" href="sRef_c.html#a160">sRef_isNothing</a> (el))
00484             {
00485               ;
00486             }
00487           <font class="keywordflow">else</font>
00488             {
00489               cstring sname = <a class="code" href="sRef_c.html#a123">sRef_unparse</a> (el);
00490               
00491               <font class="keywordflow">if</font> (<a class="code" href="fileloc_c.html#a47">fileloc_isLib</a> (fl))
00492                 {
00493                   voptgenerror (FLG_USEALLGLOBS,
00494                                 message (<font class="stringliteral">"Global %s listed (%q) but not used"</font>, 
00495                                          sname, fileloc_unparse (fl)),
00496                                 g_currentloc);
00497                 }               
00498               <font class="keywordflow">else</font>
00499                 {
00500                   voptgenerror (FLG_USEALLGLOBS,
00501                                 message (<font class="stringliteral">"Global %s listed but not used"</font>, sname),
00502                                 fl);
00503                 }
00504 
00505               <a class="code" href="cstring_c.html#a27">cstring_free</a> (sname);
00506             }
00507         }
00508     } end_globSet_allElements;
00509 }
</div></pre>    </td>
  </tr>
</table>
<a name="a13" doxytag="exprChecks.c::exprNode_checkAllMods"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void exprNode_checkAllMods (
          </b></td>
          <td valign="bottom"><b>
sRefSet <em>mods</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
uentry <em>ue</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="exprChecks_c-source.html#l00512">512</a> of file <a class="el" href="exprChecks_c-source.html">exprChecks.c</a>.
<p>
Referenced by <a class="el" href="context_c-source.html#l02197">context_exitFunction</a>().<div class="fragment"><pre>00513 {
00514   <font class="keywordtype">bool</font> realParams = FALSE;
00515   uentry le = <a class="code" href="context_c.html#a96">context_getHeader</a> ();
00516   fileloc fl = <a class="code" href="uentry_c.html#a200">uentry_whereSpecified</a> (le);
00517   uentryList specParamNames = uentryList_undefined;
00518   uentryList paramNames = <a class="code" href="context_c.html#a131">context_getParams</a> ();
00519 
00520   <font class="keywordflow">if</font> (uentry_isFunction (le))
00521     {
00522       specParamNames = <a class="code" href="uentry_c.html#a193">uentry_getParams</a> (le);  
00523 
00524       <font class="keywordflow">if</font> (uentryList_isUndefined (specParamNames))
00525         {
00526           ; <font class="comment">/* unknown params */</font>
00527         }
00528       <font class="keywordflow">else</font> <font class="keywordflow">if</font> (<a class="code" href="uentryList_c.html#a29">uentryList_size</a> (paramNames) != <a class="code" href="uentryList_c.html#a29">uentryList_size</a> (specParamNames))
00529         {
00530           llbug
00531             (<a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"exprNode_checkAllMods: parameter lists have different sizes: "</font>
00532                       <font class="stringliteral">"%q (%d) / %q (%d)"</font>,
00533                       uentryList_unparse (paramNames),
00534                       <a class="code" href="uentryList_c.html#a29">uentryList_size</a> (paramNames),
00535                       <a class="code" href="uentryList_c.html#a5">uentryList_unparse</a> (specParamNames),
00536                       <a class="code" href="uentryList_c.html#a29">uentryList_size</a> (specParamNames)));
00537         }
00538       <font class="keywordflow">else</font> <font class="keywordflow">if</font> (<a class="code" href="uentryList_c.html#a29">uentryList_size</a> (paramNames) &gt; 0 
00539                &amp;&amp; !<a class="code" href="uentry_c.html#a188">uentry_hasRealName</a> (uentryList_getN (specParamNames, 0)))
00540         {
00541           <font class="comment">/* loaded from a library */</font>
00542         }
00543       <font class="keywordflow">else</font>
00544         {
00545           realParams = TRUE;
00546         }
00547     }
00548 
00549   sRefSet_allElements (mods, sr)<font class="keyword"></font>
00550 <font class="keyword">    </font>{
00551       <font class="keywordflow">if</font> (<a class="code" href="sRef_c.html#a160">sRef_isNothing</a> (sr) || <a class="code" href="sRef_c.html#a163">sRef_isSpecState</a> (sr))
00552         {
00553           ; <font class="comment">/* should report on anything? */</font>
00554         }
00555       <font class="keywordflow">else</font> <font class="keywordflow">if</font> (<a class="code" href="sRef_c.html#a161">sRef_isInternalState</a> (sr))
00556         {
00557           <font class="keywordflow">if</font> (!<a class="code" href="sRef_c.html#a97">sRef_isModified</a> (sr))
00558             {
00559               <font class="keywordflow">if</font> (<a class="code" href="sRefSet_c.html#a28">sRefSet_hasStatic</a> (mods))
00560                 {
00561                   ; <font class="comment">/* okay */</font>
00562                 }
00563               <font class="keywordflow">else</font>
00564                 {
00565                   <font class="keywordflow">if</font> (optgenerror 
00566                       (FLG_MUSTMOD,
00567                        message
00568                        (<font class="stringliteral">"Function %s specified to modify internal state "</font>
00569                         <font class="stringliteral">"but no internal state is modified"</font>, 
00570                         <a class="code" href="uentry_c.html#a194">uentry_rawName</a> (ue)),
00571                        <a class="code" href="uentry_c.html#a198">uentry_whereLast</a> (ue)))
00572                     {
00573                       <a class="code" href="uentry_c.html#a249">uentry_showWhereSpecified</a> (le);
00574                     }
00575                 }
00576             }
00577         }
00578       <font class="keywordflow">else</font> 
00579         {
00580           <font class="keywordflow">if</font> (!<a class="code" href="sRef_c.html#a97">sRef_isModified</a> (sr))
00581             {
00582               cstring sname = realParams ? <a class="code" href="sRef_c.html#a123">sRef_unparse</a> (sr) : sRef_unparse (sr);
00583               
00584               <font class="keywordflow">if</font> (<a class="code" href="fileloc_c.html#a47">fileloc_isLib</a> (fl) &amp;&amp; !realParams)
00585                 {
00586                   voptgenerror 
00587                     (FLG_MUSTMOD,
00588                      <a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"Suspect object listed (%q) in modifies "</font>
00589                               <font class="stringliteral">"clause of %s not modified: %s"</font>, 
00590                               fileloc_unparse (fl),
00591                               <a class="code" href="uentry_c.html#a194">uentry_rawName</a> (ue),
00592                               sname),
00593                      <a class="code" href="uentry_c.html#a198">uentry_whereLast</a> (ue));
00594                 }               
00595               <font class="keywordflow">else</font>
00596                 {
00597                   <font class="keywordflow">if</font> (optgenerror 
00598                       (FLG_MUSTMOD,
00599                        <a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"Suspect object listed in modifies of %s "</font>
00600                                 <font class="stringliteral">"not modified: %s"</font>, 
00601                                 uentry_rawName (ue),
00602                                 sname),
00603                        <a class="code" href="uentry_c.html#a198">uentry_whereLast</a> (ue)))
00604                     {
00605                       <a class="code" href="uentry_c.html#a249">uentry_showWhereSpecified</a> (le);
00606                     }
00607                 }
00608               <a class="code" href="cstring_c.html#a27">cstring_free</a> (sname);
00609             }
00610         }
00611     } end_sRefSet_allElements;
00612 }
</div></pre>    </td>
  </tr>
</table>
<a name="a21" doxytag="exprChecks.c::exprNode_checkCallModifyVal"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void exprNode_checkCallModifyVal (
          </b></td>
          <td valign="bottom"><b>
sRef <em>s</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
exprNodeList <em>args</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
exprNode <em>f</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
exprNode <em>err</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="exprChecks_c-source.html#l01255">1255</a> of file <a class="el" href="exprChecks_c-source.html">exprChecks.c</a>.<div class="fragment"><pre>01256 {
01257   s = <a class="code" href="sRef_c.html#a114">sRef_fixBaseParam</a> (s, args);
01258   <a class="code" href="sRef_c.html#a318">sRef_aliasCheckPred</a> (checkCallModifyAux, NULL, s, f, err);
01259 }
</div></pre>    </td>
  </tr>
</table>
<a name="a16" doxytag="exprChecks.c::exprNode_checkFunction"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void exprNode_checkFunction (
          </b></td>
          <td valign="bottom"><b>
uentry <em>ue</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
exprNode <em>body</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="exprChecks_c-source.html#l00894">894</a> of file <a class="el" href="exprChecks_c-source.html">exprChecks.c</a>.<div class="fragment"><pre>00895 {
00896   <a class="code" href="exprNode_c.html#a57">exprNode_free</a> (body);
00897   }
</div></pre>    </td>
  </tr>
</table>
<a name="a15" doxytag="exprChecks.c::exprNode_checkFunctionBody"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void exprNode_checkFunctionBody (
          </b></td>
          <td valign="bottom"><b>
exprNode <em>body</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="exprChecks_c-source.html#l00852">852</a> of file <a class="el" href="exprChecks_c-source.html">exprChecks.c</a>.<div class="fragment"><pre>00853 {
00854   <font class="keywordflow">if</font> (!exprNode_isError (body))
00855     {
00856       <font class="keywordtype">bool</font> noret = <a class="code" href="context_c.html#a189">context_getFlag</a> (FLG_NORETURN);
00857       <font class="keywordtype">bool</font> checkret = <a class="code" href="exprNode_c.html#a125">exprNode_mustEscape</a> (body);
00858 
00859       <font class="keywordflow">if</font> (!checkret 
00860           &amp;&amp; noret 
00861           &amp;&amp; !<a class="code" href="exprNode_c.html#a126">exprNode_errorEscape</a> (body)
00862           &amp;&amp; <a class="code" href="context_c.html#a176">context_inRealFunction</a> ()
00863           &amp;&amp; <a class="code" href="ctype_c.html#a49">ctype_isFunction</a> (context_currentFunctionType ()))
00864         {
00865           ctype tr = <a class="code" href="ctype_c.html#a39">ctype_returnValue</a> (context_currentFunctionType ());
00866           
00867           <font class="keywordflow">if</font> (!<a class="code" href="ctype_c.html#a115">ctype_isFirstVoid</a> (tr)) 
00868             {
00869               <font class="keywordflow">if</font> (ctype_isUnknown (tr))
00870                 {
00871                   voptgenerror 
00872                     (FLG_NORETURN,
00873                      cstring_makeLiteral (<font class="stringliteral">"Path with no return in function declared to implicity return int"</font>), 
00874                      g_currentloc);
00875                 }
00876               <font class="keywordflow">else</font>
00877                 {
00878                   voptgenerror 
00879                     (FLG_NORETURN,
00880                      <a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"Path with no return in function declared to return %t"</font>, 
00881                               tr),
00882                      g_currentloc);
00883                 }
00884             }
00885         }
00886       
00887       <font class="keywordflow">if</font> (!checkret)
00888         {
00889           <a class="code" href="context_c.html#a128">context_returnFunction</a> ();
00890         }
00891     }
00892 }
</div></pre>    </td>
  </tr>
</table>
<a name="a18" doxytag="exprChecks.c::exprNode_checkIterBody"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void exprNode_checkIterBody (
          </b></td>
          <td valign="bottom"><b>
exprNode <em>body</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="exprChecks_c-source.html#l00931">931</a> of file <a class="el" href="exprChecks_c-source.html">exprChecks.c</a>.<div class="fragment"><pre>00932 {
00933   <a class="code" href="context_c.html#a119">context_exitAllClauses</a> ();
00934 
00935   <a class="code" href="context_c.html#a129">context_exitFunction</a> ();
00936   <a class="code" href="exprNode_c.html#a57">exprNode_free</a> (body);
00937 }
</div></pre>    </td>
  </tr>
</table>
<a name="a19" doxytag="exprChecks.c::exprNode_checkIterEnd"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void exprNode_checkIterEnd (
          </b></td>
          <td valign="bottom"><b>
exprNode <em>body</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="exprChecks_c-source.html#l00939">939</a> of file <a class="el" href="exprChecks_c-source.html">exprChecks.c</a>.<div class="fragment"><pre>00940 {
00941   <a class="code" href="context_c.html#a119">context_exitAllClauses</a> ();
00942   <a class="code" href="context_c.html#a129">context_exitFunction</a> ();
00943   <a class="code" href="exprNode_c.html#a57">exprNode_free</a> (body);
00944 }
</div></pre>    </td>
  </tr>
</table>
<a name="a14" doxytag="exprChecks.c::exprNode_checkMacroBody"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void exprNode_checkMacroBody (
          </b></td>
          <td valign="bottom"><b>
exprNode <em>e</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="exprChecks_c-source.html#l00614">614</a> of file <a class="el" href="exprChecks_c-source.html">exprChecks.c</a>.<div class="fragment"><pre>00615 {
00616   <font class="keywordflow">if</font> (!exprNode_isError (e))
00617     {
00618       uentry hdr;
00619 
00620       <font class="keywordflow">if</font> (!(<a class="code" href="context_c.html#a175">context_inFunctionLike</a> () || <a class="code" href="context_c.html#a224">context_inMacroConstant</a> ()
00621             || <a class="code" href="context_c.html#a225">context_inMacroUnknown</a> ()))
00622         {
00623           llcontbug 
00624             (message 
00625              (<font class="stringliteral">"exprNode_checkMacroBody: not in macro function or constant: %q"</font>, 
00626               <a class="code" href="context_c.html#a162">context_unparse</a> ()));
00627           <a class="code" href="exprNode_c.html#a57">exprNode_free</a> (e);
00628           <font class="keywordflow">return</font>;
00629         }
00630 
00631       hdr = <a class="code" href="context_c.html#a96">context_getHeader</a> ();
00632       
00633       <font class="keywordflow">if</font> (e-&gt;kind == XPR_STMTLIST || e-&gt;kind == XPR_BODY)
00634         {
00635           voptgenerror 
00636             (FLG_MACROSTMT,
00637              message 
00638              (<font class="stringliteral">"Macro %q definition is statement list (recommend "</font>
00639               <font class="stringliteral">"do { ... } while (0) constuction to ensure multiple "</font>
00640               <font class="stringliteral">"statement macro is syntactic function)"</font>,
00641               <a class="code" href="uentry_c.html#a195">uentry_getName</a> (hdr)),
00642              fileloc_isDefined (e-&gt;loc) ? e-&gt;loc : g_currentloc);
00643         }
00644       
00645       <font class="keywordflow">if</font> (<a class="code" href="context_c.html#a224">context_inMacroConstant</a> ())
00646         {
00647           ctype t = <a class="code" href="uentry_c.html#a197">uentry_getType</a> (hdr);
00648 
00649           <a class="code" href="uentry_c.html#a210">uentry_setDefined</a> (hdr, e-&gt;loc);
00650           
00651           <font class="keywordflow">if</font> (!(<a class="code" href="exprNode_c.html#a166">exprNode_matchType</a> (t, e)))
00652             {
00653               cstring uname = <a class="code" href="uentry_c.html#a195">uentry_getName</a> (hdr);
00654 
00655               <font class="keywordflow">if</font> (<a class="code" href="cstring_c.html#a18">cstring_equal</a> (uname, context_getTrueName ())
00656                   || <a class="code" href="cstring_c.html#a18">cstring_equal</a> (uname, context_getFalseName ()))
00657                 {
00658                   <font class="comment">/* </font>
00659 <font class="comment">                  ** We need to do something special to allow FALSE and TRUE</font>
00660 <font class="comment">                  ** to be defined without reporting errors.  This is a tad</font>
00661 <font class="comment">                  ** bogus, but otherwise lots of things would break.</font>
00662 <font class="comment">                  */</font>
00663 
00664 
00665                   llassert (ctype_isManifestBool (t));
00666                   <font class="comment">/* Should also check type of e is a reasonable (?) bool type. */</font>
00667                 }
00668               <font class="keywordflow">else</font> 
00669                 {
00670                   <font class="keywordflow">if</font> (optgenerror 
00671                       (FLG_INCONDEFS,
00672                        message
00673                        (<font class="stringliteral">"Constant %q specified as %s, but defined as %s: %s"</font>,
00674                         <a class="code" href="uentry_c.html#a195">uentry_getName</a> (hdr),
00675                         <a class="code" href="ctype_c.html#a107">ctype_unparse</a> (t),
00676                         <a class="code" href="ctype_c.html#a107">ctype_unparse</a> (e-&gt;typ),
00677                         <a class="code" href="exprNode_c.html#a160">exprNode_unparse</a> (e)),
00678                        e-&gt;loc))
00679                     {
00680                       <a class="code" href="uentry_c.html#a249">uentry_showWhereSpecified</a> (hdr);
00681                     }
00682                 }
00683 
00684               <a class="code" href="cstring_c.html#a27">cstring_free</a> (uname);
00685             }
00686           <font class="keywordflow">else</font>
00687             {
00688               <font class="keywordflow">if</font> (<a class="code" href="context_c.html#a188">context_maybeSet</a> (FLG_NULLSTATE)
00689                   &amp;&amp; <a class="code" href="ctype_c.html#a31">ctype_isUA</a>(t) 
00690                   &amp;&amp; <a class="code" href="ctype_c.html#a73">ctype_isRealPointer</a> (t)
00691                   &amp;&amp; <a class="code" href="exprNode_c.html#a70">exprNode_isNullValue</a> (e))
00692                 {
00693                   uentry ue = <a class="code" href="usymtab_c.html#a71">usymtab_getTypeEntry</a> (ctype_typeId (t));
00694                   sRef   sr = <a class="code" href="uentry_c.html#a213">uentry_getSref</a> (ue);
00695                   
00696                   <font class="keywordflow">if</font> (!<a class="code" href="sRef_c.html#a304">sRef_possiblyNull</a> (sr))
00697                     {
00698                       vgenhinterror 
00699                         (FLG_NULLSTATE,
00700                          <a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"Constant %q of non-null type %s defined "</font>
00701                                   <font class="stringliteral">"as null: %s"</font>,
00702                                   uentry_getName (hdr), <a class="code" href="ctype_c.html#a107">ctype_unparse</a> (t),
00703                                   <a class="code" href="exprNode_c.html#a160">exprNode_unparse</a> (e)),
00704                          <a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"If %s can be null, add a /*@null@*/ "</font>
00705                                   <font class="stringliteral">"qualifer to its typedef."</font>,
00706                                   ctype_unparse (t)),
00707                          e-&gt;loc);
00708                     }
00709                   
00710                   <a class="code" href="uentry_c.html#a259">uentry_mergeConstantValue</a> (hdr, e-&gt;val);
00711                   e-&gt;val = multiVal_undefined;
00712                 }
00713             }
00714         }
00715       <font class="keywordflow">else</font> <font class="keywordflow">if</font> (<a class="code" href="context_c.html#a223">context_inMacroFunction</a> () || <a class="code" href="context_c.html#a225">context_inMacroUnknown</a> ())
00716         {
00717           ctype rettype = <a class="code" href="context_c.html#a117">context_getRetType</a> ();
00718 
00719           <font class="keywordflow">if</font> (<a class="code" href="context_c.html#a255">context_isMacroMissingParams</a> ())
00720             {
00721               llassert (context_inMacroFunction ());
00722 
00723               <font class="comment">/*</font>
00724 <font class="comment">              ** # define newname oldname</font>
00725 <font class="comment">              **</font>
00726 <font class="comment">              ** newname is a function</font>
00727 <font class="comment">              ** specification of oldname should match</font>
00728 <font class="comment">              ** specification of newname.</font>
00729 <font class="comment">              */</font>
00730 
00731               <font class="keywordflow">if</font> (!<a class="code" href="ctype_c.html#a49">ctype_isFunction</a> (e-&gt;typ))
00732                 {
00733                   voptgenerror 
00734                     (FLG_INCONDEFS,
00735                      <a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"Function %s defined by unparameterized "</font>
00736                               <font class="stringliteral">"macro not corresponding to function"</font>,
00737                               context_inFunctionName ()),
00738                      e-&gt;loc);
00739                 }
00740               <font class="keywordflow">else</font>
00741                 {
00742                   uentry ue = <a class="code" href="exprNode_c.html#a93">exprNode_getUentry</a> (e);
00743 
00744                   <font class="keywordflow">if</font> (uentry_isValid (ue))
00745                     {
00746                       <font class="comment">/*</font>
00747 <font class="comment">                      ** Okay, for now --- should check for consistency</font>
00748 <font class="comment">                      */</font>
00749                       <font class="comment">/*</font>
00750 <font class="comment">                      ** uentry oldue = usymtab_lookup (cfname);</font>
00751 <font class="comment">                      */</font>
00752 
00753                       <font class="comment">/* check var conformance here! */</font>
00754                     }
00755                   <font class="keywordflow">else</font>
00756                     {
00757                       voptgenerror
00758                         (FLG_INCONDEFS,
00759                          <a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"Function %s defined by unparameterized "</font>
00760                                   <font class="stringliteral">"macro not corresponding to function"</font>,
00761                                   context_inFunctionName ()),
00762                          e-&gt;loc);
00763                     }
00764                   
00765                   e-&gt;typ = <a class="code" href="ctype_c.html#a39">ctype_returnValue</a> (e-&gt;typ);
00766                   rettype = e-&gt;typ; <font class="comment">/* avoid aditional errors */</font>
00767                 }
00768             }
00769 
00770           <font class="keywordflow">if</font> (<a class="code" href="ctype_c.html#a51">ctype_isVoid</a> (rettype) || ctype_isUnknown (rettype))
00771             {
00772              ; <font class="comment">/* don't complain when void macros have values */</font>
00773             }       
00774           <font class="keywordflow">else</font> <font class="keywordflow">if</font> (!<a class="code" href="exprNode_c.html#a166">exprNode_matchType</a> (rettype, e))
00775             {
00776               <font class="keywordflow">if</font> (optgenerror 
00777                   (FLG_INCONDEFS,
00778                    <a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"Function %q specified to return %s, "</font>
00779                             <font class="stringliteral">"implemented as macro having type %s: %s"</font>,
00780                             uentry_getName (hdr),
00781                             <a class="code" href="ctype_c.html#a107">ctype_unparse</a> (rettype), <a class="code" href="ctype_c.html#a107">ctype_unparse</a> (e-&gt;typ),
00782                             <a class="code" href="exprNode_c.html#a160">exprNode_unparse</a> (e)),
00783                    e-&gt;loc))
00784                 {
00785                   <a class="code" href="uentry_c.html#a249">uentry_showWhereSpecified</a> (hdr);
00786                 }
00787             }
00788           <font class="keywordflow">else</font>
00789             {
00790               <font class="keywordflow">switch</font> (e-&gt;kind)
00791                 {
00792                   <font class="comment">/* these expressions have values: */</font>
00793                 <font class="keywordflow">case</font> XPR_PARENS: <font class="keywordflow">case</font> XPR_ASSIGN: 
00794                 <font class="keywordflow">case</font> XPR_EMPTY: <font class="keywordflow">case</font> XPR_VAR:
00795                 <font class="keywordflow">case</font> XPR_OP: <font class="keywordflow">case</font> XPR_POSTOP: 
00796                 <font class="keywordflow">case</font> XPR_PREOP: <font class="keywordflow">case</font> XPR_CALL: 
00797                 <font class="keywordflow">case</font> XPR_SIZEOFT: <font class="keywordflow">case</font> XPR_SIZEOF: 
00798                 <font class="keywordflow">case</font> XPR_ALIGNOFT: <font class="keywordflow">case</font> XPR_ALIGNOF: 
00799                 <font class="keywordflow">case</font> XPR_CAST: <font class="keywordflow">case</font> XPR_FETCH: 
00800                 <font class="keywordflow">case</font> XPR_COMMA: <font class="keywordflow">case</font> XPR_COND: 
00801                 <font class="keywordflow">case</font> XPR_ARROW: <font class="keywordflow">case</font> XPR_CONST: 
00802                 <font class="keywordflow">case</font> XPR_STRINGLITERAL: <font class="keywordflow">case</font> XPR_NUMLIT:
00803                 <font class="keywordflow">case</font> XPR_FACCESS: <font class="keywordflow">case</font> XPR_OFFSETOF:
00804 
00805                   <a class="code" href="aliasChecks_c.html#a27">checkReturnTransfer</a> (e, hdr);
00806                   <font class="keywordflow">break</font>;
00807 
00808                   <font class="comment">/* these expressions don't */</font>
00809                 <font class="keywordflow">case</font> XPR_LABEL:
00810                 <font class="keywordflow">case</font> XPR_VAARG: <font class="keywordflow">case</font> XPR_ITER: 
00811                 <font class="keywordflow">case</font> XPR_FOR: <font class="keywordflow">case</font> XPR_FORPRED:
00812                 <font class="keywordflow">case</font> XPR_GOTO: <font class="keywordflow">case</font> XPR_CONTINUE: 
00813                 <font class="keywordflow">case</font> XPR_BREAK: <font class="keywordflow">case</font> XPR_RETURN:
00814                 <font class="keywordflow">case</font> XPR_NULLRETURN: <font class="keywordflow">case</font> XPR_IF: 
00815                 <font class="keywordflow">case</font> XPR_IFELSE: <font class="keywordflow">case</font> XPR_DOWHILE:
00816                 <font class="keywordflow">case</font> XPR_WHILE: <font class="keywordflow">case</font> XPR_STMT: 
00817                 <font class="keywordflow">case</font> XPR_STMTLIST: <font class="keywordflow">case</font> XPR_SWITCH:
00818                 <font class="keywordflow">case</font> XPR_INIT: <font class="keywordflow">case</font> XPR_BODY: 
00819                 <font class="keywordflow">case</font> XPR_NODE: <font class="keywordflow">case</font> XPR_ITERCALL:
00820                 <font class="keywordflow">case</font> XPR_TOK: <font class="keywordflow">case</font> XPR_CASE: 
00821                 <font class="keywordflow">case</font> XPR_FTCASE: <font class="keywordflow">case</font> XPR_FTDEFAULT:
00822                 <font class="keywordflow">case</font> XPR_DEFAULT: <font class="keywordflow">case</font> XPR_WHILEPRED:
00823                 <font class="keywordflow">case</font> XPR_BLOCK: <font class="keywordflow">case</font> XPR_INITBLOCK:
00824                   <font class="keywordflow">if</font> (optgenerror 
00825                       (FLG_INCONDEFS,
00826                        <a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"Function %q specified to return %s, "</font>
00827                                 <font class="stringliteral">"implemented as macro with no result: %s"</font>,
00828                                 uentry_getName (hdr),
00829                                 <a class="code" href="ctype_c.html#a107">ctype_unparse</a> (rettype), 
00830                                 <a class="code" href="exprNode_c.html#a160">exprNode_unparse</a> (e)),
00831                        e-&gt;loc))
00832                     {
00833                       <a class="code" href="uentry_c.html#a249">uentry_showWhereSpecified</a> (hdr);
00834                     }
00835                 }
00836             }
00837 
00838           <a class="code" href="usymtab_c.html#a105">usymtab_checkFinalScope</a> (FALSE);
00839         }
00840       <font class="keywordflow">else</font>
00841         {
00842           llbug (message (<font class="stringliteral">"exprNode_checkMacroBody: not in macro function: %q"</font>, context_unparse ()));
00843         }
00844 
00845       <a class="code" href="exprNode_c.html#a57">exprNode_free</a> (e);
00846     }
00847 
00848   <a class="code" href="context_c.html#a129">context_exitFunction</a> ();
00849   <font class="keywordflow">return</font>;
00850 }
</div></pre>    </td>
  </tr>
</table>
<a name="a7" doxytag="exprChecks.c::exprNode_checkModify"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void exprNode_checkModify (
          </b></td>
          <td valign="bottom"><b>
exprNode <em>e</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
exprNode <em>err</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="exprChecks_c-source.html#l00323">323</a> of file <a class="el" href="exprChecks_c-source.html">exprChecks.c</a>.
<p>
Referenced by <a class="el" href="exprNode_c-source.html#l03541">exprNode_postOp</a>(), and <a class="el" href="exprNode_c-source.html#l03607">exprNode_preOp</a>().<div class="fragment"><pre>00324 {
00325   llassert (exprNode_isDefined (e));
00326 
00327   DPRINTF ((<font class="stringliteral">"Check modify: %s"</font>, exprNode_unparse (e)));
00328 
00329   <font class="keywordflow">if</font> (sRef_isValid (e-&gt;sref))
00330     {
00331       <a class="code" href="sRef_c.html#a318">sRef_aliasCheckPred</a> (checkModifyAux, sRef_isReference, e-&gt;sref, e, err);
00332     }
00333 }
</div></pre>    </td>
  </tr>
</table>
<a name="a8" doxytag="exprChecks.c::exprNode_checkModifyVal"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void exprNode_checkModifyVal (
          </b></td>
          <td valign="bottom"><b>
exprNode <em>e</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
exprNode <em>err</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="exprChecks_c-source.html#l00336">336</a> of file <a class="el" href="exprChecks_c-source.html">exprChecks.c</a>.<div class="fragment"><pre>00337 {
00338   llassert (exprNode_isDefined (e));
00339   
00340   DPRINTF ((<font class="stringliteral">"Check modify val: %s"</font>, exprNode_unparse (e)));
00341 
00342   <font class="keywordflow">if</font> (sRef_isValid (e-&gt;sref))
00343     {
00344       <a class="code" href="sRef_c.html#a318">sRef_aliasCheckPred</a> (checkModifyValAux, sRef_isReference, e-&gt;sref, e, err);
00345     }
00346 }
</div></pre>    </td>
  </tr>
</table>
<a name="a11" doxytag="exprChecks.c::exprNode_checkPred"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void exprNode_checkPred (
          </b></td>
          <td valign="bottom"><b>
cstring <em>c</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
exprNode <em>e</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="exprChecks_c-source.html#l00419">419</a> of file <a class="el" href="exprChecks_c-source.html">exprChecks.c</a>.
<p>
Referenced by <a class="el" href="exprNode_c-source.html#l05126">exprNode_cond</a>(), <a class="el" href="exprNode_c-source.html#l06355">exprNode_doWhile</a>(), <a class="el" href="exprNode_c-source.html#l06558">exprNode_forPred</a>(), <a class="el" href="exprNode_c-source.html#l05708">exprNode_if</a>(), <a class="el" href="exprNode_c-source.html#l05788">exprNode_ifelse</a>(), and <a class="el" href="exprNode_c-source.html#l06538">exprNode_whilePred</a>().<div class="fragment"><pre>00420 {
00421   ctype ct;
00422 
00423   <font class="keywordflow">if</font> (exprNode_isError (e))
00424     <font class="keywordflow">return</font>;
00425 
00426   ct = exprNode_getType (e);
00427 
00428   <font class="keywordflow">if</font> (<a class="code" href="exprNode_c.html#a133">exprNode_isAssign</a> (e))
00429     {
00430       voptgenerror 
00431         (FLG_PREDASSIGN,
00432          <a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"Test expression for %s is assignment expression: %s"</font>, 
00433                   c, exprNode_unparse (e)),
00434          e-&gt;loc);
00435     }
00436 
00437   <font class="keywordflow">if</font> (<a class="code" href="ctype_c.html#a72">ctype_isRealBool</a> (ct))
00438     {
00439      ;
00440     }
00441   <font class="keywordflow">else</font> <font class="keywordflow">if</font> (<a class="code" href="ctype_c.html#a73">ctype_isRealPointer</a> (ct))
00442     {
00443       voptgenerror
00444         (FLG_PREDBOOLPTR,
00445          <a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"Test expression for %s not %s, type %t: %s"</font>, c, 
00446                   context_printBoolName (), 
00447                   ct, <a class="code" href="exprNode_c.html#a160">exprNode_unparse</a> (e)),
00448          e-&gt;loc);
00449     }
00450   <font class="keywordflow">else</font> <font class="keywordflow">if</font> (<a class="code" href="ctype_c.html#a70">ctype_isRealInt</a> (ct))
00451     {
00452       voptgenerror 
00453         (FLG_PREDBOOLINT,
00454          <a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"Test expression for %s not %s, type %t: %s"</font>, c, 
00455                   context_printBoolName (), ct, <a class="code" href="exprNode_c.html#a160">exprNode_unparse</a> (e)),
00456          e-&gt;loc);
00457     }
00458   <font class="keywordflow">else</font>
00459     {
00460       voptgenerror 
00461         (FLG_PREDBOOLOTHERS,
00462          <a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"Test expression for %s not %s, type %t: %s"</font>, c, 
00463                   context_printBoolName (), ct, <a class="code" href="exprNode_c.html#a160">exprNode_unparse</a> (e)),
00464          e-&gt;loc);
00465     }
00466 }
</div></pre>    </td>
  </tr>
</table>
<a name="a10" doxytag="exprChecks.c::exprNode_checkReturn"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void exprNode_checkReturn (
          </b></td>
          <td valign="bottom"><b>
exprNode <em>e</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="exprChecks_c-source.html#l00385">385</a> of file <a class="el" href="exprChecks_c-source.html">exprChecks.c</a>.
<p>
Referenced by <a class="el" href="exprNode_c-source.html#l06811">exprNode_return</a>().<div class="fragment"><pre>00386 {
00387   <font class="keywordflow">if</font> (!exprNode_isError (e))
00388     {
00389       <font class="keywordflow">if</font> (!<a class="code" href="context_c.html#a176">context_inRealFunction</a> ())
00390         {
00391           <font class="keywordflow">if</font> (<a class="code" href="context_c.html#a235">context_inMacro</a> ())
00392             {
00393               llerror (FLG_CONTROL,
00394                        message (<font class="stringliteral">"Macro %s uses return (not functional)"</font>,
00395                                 context_inFunctionName ()));
00396             }
00397           <font class="keywordflow">else</font>
00398             {
00399               <font class="comment">/*</font>
00400 <font class="comment">                llbuglit ("exprNode_checkReturn: not in function context");</font>
00401 <font class="comment">                */</font>
00402             }
00403         }
00404       <font class="keywordflow">else</font>
00405         {
00406           <font class="keywordflow">if</font> (<a class="code" href="ctype_c.html#a49">ctype_isFunction</a> (context_currentFunctionType ()))
00407             {
00408               checkSafeReturnExpr (e);
00409             }
00410           <font class="keywordflow">else</font>
00411             {
00412               ;
00413             }
00414         }
00415     }
00416 }
</div></pre>    </td>
  </tr>
</table>
<a name="a4" doxytag="exprChecks.c::exprNode_checkStatement"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void exprNode_checkStatement (
          </b></td>
          <td valign="bottom"><b>
exprNode <em>e</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="exprChecks_c-source.html#l00056">56</a> of file <a class="el" href="exprChecks_c-source.html">exprChecks.c</a>.
<p>
Referenced by <a class="el" href="exprNode_c-source.html#l05610">exprNode_statement</a>().<div class="fragment"><pre>00057 {
00058   <font class="keywordtype">bool</font> hasError = FALSE;
00059 
00060   <font class="keywordflow">if</font> (!exprNode_isError (e))
00061     {
00062       exprKind ek = e-&gt;kind;
00063 
00064       <font class="keywordflow">if</font> (ek == XPR_CALL &amp;&amp; !(<a class="code" href="ctype_c.html#a71">ctype_isRealVoid</a> (e-&gt;typ)))
00065         { 
00066           <font class="keywordflow">if</font> (ctype_isKnown (e-&gt;typ))
00067             {
00068               <font class="keywordflow">if</font> (<a class="code" href="ctype_c.html#a61">ctype_isManifestBool</a> (ctype_realishType (e-&gt;typ)))
00069                 {
00070                   hasError = optgenerror 
00071                     (FLG_RETVALBOOL,
00072                      <a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"Return value (type %t) ignored: %s"</font>,
00073                               e-&gt;typ,
00074                               exprNode_unparseFirst (e)),
00075                      e-&gt;loc);
00076                 }
00077               <font class="keywordflow">else</font> <font class="keywordflow">if</font> (<a class="code" href="ctype_c.html#a78">ctype_isDirectInt</a> (e-&gt;typ))
00078                 {
00079                   hasError = optgenerror 
00080                     (FLG_RETVALINT,
00081                      <a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"Return value (type %t) ignored: %s"</font>,
00082                               e-&gt;typ,
00083                               exprNode_unparseFirst (e)),
00084                      e-&gt;loc);
00085                 }
00086               <font class="keywordflow">else</font>
00087                 {
00088                   hasError = optgenerror 
00089                     (FLG_RETVALOTHER,
00090                      <a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"Return value (type %t) ignored: %s"</font>,
00091                               e-&gt;typ,
00092                               exprNode_unparseFirst (e)),
00093                      e-&gt;loc);
00094                 }
00095             }
00096         }
00097 
00098       <font class="keywordflow">if</font> (!hasError &amp;&amp; !(<a class="code" href="exprNode_c.html#a123">exprNode_mayEscape</a> (e))
00099           &amp;&amp; !(e-&gt;canBreak)) <font class="comment">/* control changes are effects too! */</font>
00100         {
00101           <font class="keywordflow">if</font> (<a class="code" href="sRefSet_c.html#a24">sRefSet_hasRealElement</a> (e-&gt;sets)
00102               || <a class="code" href="sRefSet_c.html#a24">sRefSet_hasRealElement</a> (e-&gt;msets))
00103             {
00104               ; <font class="comment">/* okay */</font>
00105             }
00106           <font class="keywordflow">else</font>
00107             {
00108               <font class="keywordflow">if</font> (sRefSet_isEmpty (e-&gt;sets) &amp;&amp; sRefSet_isEmpty (e-&gt;msets))
00109                 {
00110                   voptgenerror
00111                     (FLG_NOEFFECT,
00112                      <a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"Statement has no effect: %s"</font>,
00113                               exprNode_unparseFirst (e)),
00114                      e-&gt;loc);
00115                 }
00116               <font class="keywordflow">else</font>
00117                 {
00118                   <font class="keywordflow">if</font> (<a class="code" href="context_c.html#a188">context_maybeSet</a> (FLG_NOEFFECTUNCON))
00119                     {
00120                       <font class="keywordflow">if</font> (<a class="code" href="sRefSet_c.html#a29">sRefSet_hasUnconstrained</a> (e-&gt;sets))
00121                         {
00122                           voptgenerror
00123                             (FLG_NOEFFECTUNCON,
00124                              <a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"Statement has no effect (possible "</font>
00125                                       <font class="stringliteral">"undected modification through "</font>
00126                                       <font class="stringliteral">"call to %q): %s"</font>,
00127                                       sRefSet_unparseUnconstrained (e-&gt;sets),
00128                                       <a class="code" href="exprNode_c.html#a159">exprNode_unparseFirst</a> (e)),
00129                              e-&gt;loc);
00130                         }
00131                       <font class="keywordflow">else</font> <font class="keywordflow">if</font> (<a class="code" href="sRefSet_c.html#a29">sRefSet_hasUnconstrained</a> (e-&gt;msets))
00132                         {
00133                           voptgenerror
00134                             (FLG_NOEFFECTUNCON,
00135                              <a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"Statement has no effect (possible "</font>
00136                                       <font class="stringliteral">"undected modification through "</font>
00137                                       <font class="stringliteral">"call to %q): %s"</font>,
00138                                       sRefSet_unparseUnconstrained (e-&gt;msets),
00139                                       <a class="code" href="exprNode_c.html#a159">exprNode_unparseFirst</a> (e)),
00140                              e-&gt;loc);
00141                         }
00142                       <font class="keywordflow">else</font>
00143                         {
00144                           ; <font class="comment">/* statement has unknown modification */</font>
00145                         }
00146                     }
00147                 }
00148             }
00149         }
00150     }
00151 }
</div></pre>    </td>
  </tr>
</table>
<hr><address><small>Generated at Fri Nov 3 18:57:55 2000 for LCLint by
<a href="http://www.stack.nl/~dimitri/doxygen/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.3 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2000</small></address>
</body>
</html>
