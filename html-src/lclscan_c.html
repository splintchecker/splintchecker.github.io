<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>lclscan.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.3 on Fri Nov 3 18:57:59 2000 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>lclscan.c File Reference</h1><code>#include "lclintMacros.nf"</code><br>
<code>#include "llbasic.h"</code><br>
<code>#include "llgrammar2.h"</code><br>
<code>#include "lclscan.h"</code><br>
<code>#include "scanline.h"</code><br>
<code>#include "lclscanline.h"</code><br>
<code>#include "lcltokentable.h"</code><br>

<p>
<a href="lclscan_c-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td nowrap align=right valign=top>ltokenCode&nbsp;</td><td valign=bottom><a class="el" href="lclscan_c.html#a8">yllex</a> (void)</td></tr>
<tr><td nowrap align=right valign=top>ltoken&nbsp;</td><td valign=bottom><a class="el" href="lclscan_c.html#a9">LCLScanNextToken</a> (void)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="lclscan_c.html#a11">LCLScanFreshToken</a> ( ltoken tok)</td></tr>
<tr><td nowrap align=right valign=top>tsource*&nbsp;</td><td valign=bottom><a class="el" href="lclscan_c.html#a12">LCLScanSource</a> (void)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="lclscan_c.html#a13">LCLScanInit</a> (void)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="lclscan_c.html#a14">LCLScanReset</a> (tsource * s)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="lclscan_c.html#a15">LCLScanCleanup</a> (void)</td></tr>
<tr><td colspan=2><br><h2>Variables</h2></td></tr>
<tr><td nowrap align=right valign=top>bool&nbsp;</td><td valign=bottom><a class="el" href="lclscan_c.html#a0">g_inTypeDef</a> = FALSE</td></tr>
</table>
<hr><h2>Function Documentation</h2>
<a name="a15" doxytag="lclscan.c::LCLScanCleanup"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void LCLScanCleanup (
          </b></td>
          <td valign="bottom"><b>
void&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="lclscan_c-source.html#l00208">208</a> of file <a class="el" href="lclscan_c-source.html">lclscan.c</a>.<div class="fragment"><pre>00209 {
00210 }
</div></pre>    </td>
  </tr>
</table>
<a name="a11" doxytag="lclscan.c::LCLScanFreshToken"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void LCLScanFreshToken (
          </b></td>
          <td valign="bottom"><b>
ltoken <em>tok</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="lclscan_c-source.html#l00175">175</a> of file <a class="el" href="lclscan_c-source.html">lclscan.c</a>.
<p>
Referenced by <a class="el" href="lclscanline_c-source.html#l01424">LCLScanLine</a>().<div class="fragment"><pre>00176 {
00177   <font class="keywordflow">if</font> (lastToken &lt; MAXLINE)
00178     {           
00179       TokenList[lastToken++] = tok;
00180     }
00181   <font class="keywordflow">else</font>
00182     {
00183       llbugexitlit (<font class="stringliteral">"LCLScanFreshToken: out of range"</font>);
00184     }
00185 }
</div></pre>    </td>
  </tr>
</table>
<a name="a13" doxytag="lclscan.c::LCLScanInit"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void LCLScanInit (
          </b></td>
          <td valign="bottom"><b>
void&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="lclscan_c-source.html#l00194">194</a> of file <a class="el" href="lclscan_c-source.html">lclscan.c</a>.<div class="fragment"><pre>00195 {
00196 }
</div></pre>    </td>
  </tr>
</table>
<a name="a9" doxytag="lclscan.c::LCLScanNextToken"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
ltoken LCLScanNextToken (
          </b></td>
          <td valign="bottom"><b>
void&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="lclscan_c-source.html#l00118">118</a> of file <a class="el" href="lclscan_c-source.html">lclscan.c</a>.
<p>
Referenced by <a class="el" href="lclinit_c-source.html#l01539">LCLProcessInitFileReset</a>().<div class="fragment"><pre>00119 {
00120   ltoken ret;
00121 
00122   <font class="keywordflow">if</font> (nextToken &lt; lastToken)
00123     {                   
00124       ret = TokenList[nextToken++];
00125     }
00126   <font class="keywordflow">else</font>
00127     {
00128       lastToken = 0;
00129       lineNumber++;
00130       line = <a class="code" href="source_c.html#a4">tsource_nextLine</a> (scanFile);       
00131 
00132       <font class="keywordflow">if</font> (line != (<font class="keywordtype">char</font> *) 0)
00133         {
00134           
00135           <a class="code" href="lclscanline_c.html#a44">LCLScanLine</a> (line);   
00136           nextToken = 0;
00137           ret = <a class="code" href="lclscan_c.html#a9">LCLScanNextToken</a> ();    
00138           <font class="keywordflow">return</font> ret;
00139         }
00140       <font class="keywordflow">else</font>
00141         {
00142           ret = <a class="code" href="lclscanline_c.html#a45">LCLScanEofToken</a> ();
00143         }
00144     }
00145 
00146 
00147     <font class="keywordflow">return</font> ret;
00148 }
</div></pre>    </td>
  </tr>
</table>
<a name="a14" doxytag="lclscan.c::LCLScanReset"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void LCLScanReset (
          </b></td>
          <td valign="bottom"><b>
tsource * <em>s</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="lclscan_c-source.html#l00199">199</a> of file <a class="el" href="lclscan_c-source.html">lclscan.c</a>.<div class="fragment"><pre>00200 {
00201   scanFile = s;
00202   lastToken = 0;
00203   nextToken = lastToken + 1;    
00204   lineNumber = 0;
00205 }
</div></pre>    </td>
  </tr>
</table>
<a name="a12" doxytag="lclscan.c::LCLScanSource"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
tsource * LCLScanSource (
          </b></td>
          <td valign="bottom"><b>
void&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="lclscan_c-source.html#l00187">187</a> of file <a class="el" href="lclscan_c-source.html">lclscan.c</a>.
<p>
Referenced by <a class="el" href="imports_c-source.html#l00165">processImport</a>(), <a class="el" href="sort_c-source.html#l02867">sort_import</a>(), and <a class="el" href="symtable_c-source.html#l01375">symtable_import</a>().<div class="fragment"><pre>00188 {
00189   <font class="keywordflow">return</font> scanFile;
00190 }
</div></pre>    </td>
  </tr>
</table>
<a name="a8" doxytag="lclscan.c::yllex"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
ltokenCode yllex (
          </b></td>
          <td valign="bottom"><b>
void&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="lclscan_c-source.html#l00071">71</a> of file <a class="el" href="lclscan_c-source.html">lclscan.c</a>.<div class="fragment"><pre>00073 {
00074   lsymbol tokenSym;
00075 
00076   <font class="keywordflow">if</font> (restore)
00077     {
00078       yllval = restoretok;
00079       restore = FALSE;
00080     }
00081   <font class="keywordflow">else</font>
00082     {
00083       yllval.ltok = <a class="code" href="ltoken_c.html#a39">ltoken_copy</a> (LCLScanNextToken ());
00084     }
00085 
00086   tokenSym = ltoken_getText (yllval.ltok);
00087 
00088   <font class="keywordflow">if</font> (ltoken_getCode (yllval.ltok) == simpleId)
00089     {
00090       <font class="keywordflow">if</font> (g_inTypeDef)
00091         {
00092           ltoken_setCode (yllval.ltok, LLT_TYPEDEF_NAME);
00093           <a class="code" href="lcltokentable_c.html#a4">LCLUpdateToken</a> (LLT_TYPEDEF_NAME, tokenSym, 
00094                           ltoken_isStateDefined (yllval.ltok));
00095         }
00096       <font class="keywordflow">else</font>
00097         {
00098          <font class="comment">/* or if it is already declared as a type, so</font>
00099 <font class="comment">            typedef int foo; typedef foo bar;      works*/</font>
00100           <font class="keywordflow">if</font> (<a class="code" href="symtable_c.html#a48">symtable_exists</a> (g_symtab, tokenSym))
00101             {
00102               <font class="keywordflow">if</font> (typeInfo_exists (symtable_typeInfo (g_symtab, tokenSym)))
00103                 {
00104                   ltoken_setCode (yllval.ltok, LLT_TYPEDEF_NAME);
00105                   <a class="code" href="lcltokentable_c.html#a4">LCLUpdateToken</a> (LLT_TYPEDEF_NAME, tokenSym, 
00106                                   ltoken_isStateDefined (yllval.ltok));
00107                 }
00108             }
00109         }
00110     }
00111 
00112   <font class="keywordflow">return</font> (ltoken_getCode (yllval.ltok));
00113 }
</div></pre>    </td>
  </tr>
</table>
<hr><h2>Variable Documentation</h2>
<a name="a0" doxytag="lclscan.c::g_inTypeDef"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
bool g_inTypeDef = FALSE
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="llgrammar_tab_c-source.html#l00167">167</a> of file <a class="el" href="llgrammar_tab_c-source.html">llgrammar.tab.c</a>.    </td>
  </tr>
</table>
<hr><address><small>Generated at Fri Nov 3 18:57:59 2000 for LCLint by
<a href="http://www.stack.nl/~dimitri/doxygen/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.3 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2000</small></address>
</body>
</html>
