<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>lslinit.c Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.3 on Fri Nov 3 18:57:43 2000 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>lslinit.c</h1><a href="lslinit_c.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">/*</font>
00002 <font class="comment">** LCLint - annotation-assisted static program checker</font>
00003 <font class="comment">** Copyright (C) 1994-2000 University of Virginia,</font>
00004 <font class="comment">**         Massachusetts Institute of Technology</font>
00005 <font class="comment">**</font>
00006 <font class="comment">** This program is free software; you can redistribute it and/or modify it</font>
00007 <font class="comment">** under the terms of the GNU General Public License as published by the</font>
00008 <font class="comment">** Free Software Foundation; either version 2 of the License, or (at your</font>
00009 <font class="comment">** option) any later version.</font>
00010 <font class="comment">** </font>
00011 <font class="comment">** This program is distributed in the hope that it will be useful, but</font>
00012 <font class="comment">** WITHOUT ANY WARRANTY; without even the implied warranty of</font>
00013 <font class="comment">** MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</font>
00014 <font class="comment">** General Public License for more details.</font>
00015 <font class="comment">** </font>
00016 <font class="comment">** The GNU General Public License is available from http://www.gnu.org/ or</font>
00017 <font class="comment">** the Free Software Foundation, Inc., 59 Temple Place - Suite 330, Boston,</font>
00018 <font class="comment">** MA 02111-1307, USA.</font>
00019 <font class="comment">**</font>
00020 <font class="comment">** For information on lclint: lclint-request@cs.virginia.edu</font>
00021 <font class="comment">** To report a bug: lclint-bug@cs.virginia.edu</font>
00022 <font class="comment">** For more information: http://lclint.cs.virginia.edu</font>
00023 <font class="comment">*/</font>
00024 <font class="comment">/*</font>
00025 <font class="comment">** lslinit.c</font>
00026 <font class="comment">**</font>
00027 <font class="comment">** Processor for Larch Shared Language Init Files</font>
00028 <font class="comment">*/</font>
00029 
00030 <font class="preprocessor"># include "lclintMacros.nf"</font>
00031 <font class="preprocessor"># include "llbasic.h"</font>
00032 <font class="preprocessor"># include "signature.h"</font>
00033 <font class="preprocessor"># include "signature2.h"</font>
00034 <font class="preprocessor"># include "scan.h"</font>
00035 <font class="preprocessor"># include "scanline.h"</font>
00036 <font class="preprocessor"># include "tokentable.h"</font>
00037 <font class="preprocessor"># include "syntable.h"</font>
00038 <font class="preprocessor"># include "lslinit.h"</font>
00039 
00040 <font class="comment">/* needed to parse init files */</font>
00041 <font class="preprocessor"># include "shift.h"</font>
00042 <font class="preprocessor">#if TRACING == 1</font>
00043 <font class="preprocessor"></font><font class="comment">/*@notfunction@*/</font>
00044 <font class="preprocessor"># define LTRACE(rule) printf ("Reducing: %s\n", rule)</font>
00045 <font class="preprocessor"></font><font class="preprocessor">#else</font>
00046 <font class="preprocessor"></font><font class="comment">/*@notfunction@*/</font>
<a name="l00047"></a><a class="code" href="lslinit_c.html#a0">00047</a> <font class="preprocessor"># define LTRACE(rule)</font>
00048 <font class="preprocessor"></font><font class="preprocessor">#endif</font>
00049 <font class="preprocessor"></font>
00050 <font class="keyword">static</font> <font class="keywordtype">void</font> LocalUserError (ltoken p_t, <font class="comment">/*@temp@*/</font> <font class="keywordtype">char</font> *p_msg)
00051   <font class="comment">/*@modifies *g_msgstream@*/</font>;
00052 
00053 <font class="keyword">static</font> <font class="comment">/*@only@*/</font> ltoken nextToken;
00054 
00055 <font class="keyword">static</font> <font class="keywordtype">void</font> InitFile (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00056 <font class="keyword">static</font> <font class="keywordtype">void</font> InitLines (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00057 <font class="keyword">static</font> <font class="keywordtype">void</font> InitLine (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00058 <font class="keyword">static</font> <font class="keywordtype">void</font> Classification (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00059 <font class="keyword">static</font> <font class="keywordtype">void</font> CharClass (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00060 
00061 <font class="keyword">static</font> <font class="keywordtype">void</font> EndCommentChars (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00062 <font class="keyword">static</font> <font class="keywordtype">void</font> IdChars (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00063 <font class="keyword">static</font> <font class="keywordtype">void</font> OpChars (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00064 <font class="keyword">static</font> <font class="keywordtype">void</font> ExtensionChar (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00065 <font class="keyword">static</font> <font class="keywordtype">void</font> SingChars (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00066 <font class="keyword">static</font> <font class="keywordtype">void</font> WhiteChars (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00067 <font class="keyword">static</font> <font class="keywordtype">void</font> EndCommentChar (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00068 <font class="keyword">static</font> <font class="keywordtype">void</font> IdChar (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00069 <font class="keyword">static</font> <font class="keywordtype">void</font> OpChar (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00070 <font class="keyword">static</font> <font class="keywordtype">void</font> SingChar (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00071 <font class="keyword">static</font> <font class="keywordtype">void</font> WhiteChar (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00072 
00073 <font class="keyword">static</font> <font class="keywordtype">void</font> TokenClass (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00074 <font class="keyword">static</font> <font class="keywordtype">void</font> QuantifierSymToks (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00075 <font class="keyword">static</font> <font class="keywordtype">void</font> LogicalOpToks (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00076 <font class="keyword">static</font> <font class="keywordtype">void</font> EqOpToks (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00077 <font class="keyword">static</font> <font class="keywordtype">void</font> EquationSymToks (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00078 <font class="keyword">static</font> <font class="keywordtype">void</font> EqSepSymToks (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00079 <font class="keyword">static</font> <font class="keywordtype">void</font> SelectSymToks (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00080 <font class="keyword">static</font> <font class="keywordtype">void</font> OpenSymToks (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00081 <font class="keyword">static</font> <font class="keywordtype">void</font> SepSymToks (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00082 <font class="keyword">static</font> <font class="keywordtype">void</font> CloseSymToks (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00083 <font class="keyword">static</font> <font class="keywordtype">void</font> SimpleIdToks (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00084 <font class="keyword">static</font> <font class="keywordtype">void</font> MapSymToks (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00085 <font class="keyword">static</font> <font class="keywordtype">void</font> MarkerSymToks (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00086 <font class="keyword">static</font> <font class="keywordtype">void</font> CommentSymToks (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00087 <font class="keyword">static</font> <font class="keywordtype">void</font> QuantifierSymTok (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00088 <font class="keyword">static</font> <font class="keywordtype">void</font> LogicalOpTok (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00089 <font class="keyword">static</font> <font class="keywordtype">void</font> EqOpTok (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00090 <font class="keyword">static</font> <font class="keywordtype">void</font> EquationSymTok (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00091 <font class="keyword">static</font> <font class="keywordtype">void</font> EqSepSymTok (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00092 <font class="keyword">static</font> <font class="keywordtype">void</font> SelectSymTok (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00093 <font class="keyword">static</font> <font class="keywordtype">void</font> OpenSymTok (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00094 <font class="keyword">static</font> <font class="keywordtype">void</font> SepSymTok (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00095 <font class="keyword">static</font> <font class="keywordtype">void</font> CloseSymTok (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00096 <font class="keyword">static</font> <font class="keywordtype">void</font> SimpleIdTok (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00097 <font class="keyword">static</font> <font class="keywordtype">void</font> MapSymTok (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00098 <font class="keyword">static</font> <font class="keywordtype">void</font> MarkerSymTok (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00099 <font class="keyword">static</font> <font class="keywordtype">void</font> CommentSymTok (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00100 <font class="keyword">static</font> <font class="keywordtype">void</font> SynClass (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00101 <font class="keyword">static</font> <font class="keywordtype">void</font> OldToken (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00102 <font class="keyword">static</font> <font class="keywordtype">void</font> NewToken (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00103 <font class="keyword">static</font> <font class="keywordtype">void</font> Token (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00104 
00105 <font class="keyword">static</font> <font class="keywordtype">void</font> InitReduce (LSLInitRuleCode p_rule) <font class="comment">/*@modifies nextToken@*/</font> ;
00106 <font class="keyword">static</font> <font class="keywordtype">void</font> UpdateXCharKeywords (charCode) <font class="comment">/*@modifies nextToken@*/</font> ;
00107 <font class="keyword">static</font> <font class="keywordtype">void</font> ProcessExtensionChar (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00108 <font class="keyword">static</font> <font class="keywordtype">void</font> ProcessEndCommentChar (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00109 <font class="keyword">static</font> <font class="keywordtype">void</font> ProcessSingleChar (charCode p_code) <font class="comment">/*@modifies nextToken@*/</font> ;
00110 <font class="keyword">static</font> <font class="keywordtype">void</font> ProcessToken (ltokenCode p_code) <font class="comment">/*@modifies nextToken@*/</font> ;
00111 <font class="keyword">static</font> <font class="keywordtype">void</font> ProcessSynonym (<font class="keywordtype">void</font>) <font class="comment">/*@modifies nextToken@*/</font> ;
00112 
00113 <font class="comment">/* If TRUE character has been redefined as a singleChar. */</font>
00114 <font class="keyword">static</font> <font class="keywordtype">bool</font> defineSingleChar[LASTCHAR + 1];
00115 
00116 <font class="keyword">static</font> charCode currentExtensionChar;
00117 
00118 <font class="comment">/* LSL init file keyword tokens.  */</font>
00119 
00120 <font class="keyword">static</font> <font class="comment">/*@dependent@*/</font> ltoken endCommentCharToken;
00121 <font class="keyword">static</font> <font class="comment">/*@dependent@*/</font> ltoken idCharToken;
00122 <font class="keyword">static</font> <font class="comment">/*@dependent@*/</font> ltoken opCharToken;
00123 <font class="keyword">static</font> <font class="comment">/*@dependent@*/</font> ltoken extensionCharToken;
00124 <font class="keyword">static</font> <font class="comment">/*@dependent@*/</font> ltoken singleCharToken;
00125 <font class="keyword">static</font> <font class="comment">/*@dependent@*/</font> ltoken whiteCharToken;
00126 <font class="keyword">static</font> <font class="comment">/*@dependent@*/</font> ltoken quantifierSymToken;
00127 <font class="keyword">static</font> <font class="comment">/*@dependent@*/</font> ltoken logicalOpToken;
00128 <font class="keyword">static</font> <font class="comment">/*@dependent@*/</font> ltoken eqOpToken;
00129 <font class="keyword">static</font> <font class="comment">/*@dependent@*/</font> ltoken equationSymToken;
00130 <font class="keyword">static</font> <font class="comment">/*@dependent@*/</font> ltoken eqSepSymToken;
00131 <font class="keyword">static</font> <font class="comment">/*@dependent@*/</font> ltoken selectSymToken;
00132 <font class="keyword">static</font> <font class="comment">/*@dependent@*/</font> ltoken openSymToken;
00133 <font class="keyword">static</font> <font class="comment">/*@dependent@*/</font> ltoken sepSymToken;
00134 <font class="keyword">static</font> <font class="comment">/*@dependent@*/</font> ltoken closeSymToken;
00135 <font class="keyword">static</font> <font class="comment">/*@dependent@*/</font> ltoken simpleIdToken;
00136 <font class="keyword">static</font> <font class="comment">/*@dependent@*/</font> ltoken mapSymToken;
00137 <font class="keyword">static</font> <font class="comment">/*@dependent@*/</font> ltoken markerSymToken;
00138 <font class="keyword">static</font> <font class="comment">/*@dependent@*/</font> ltoken commentSymToken;
00139 <font class="keyword">static</font> <font class="comment">/*@dependent@*/</font> ltoken synonymToken;
00140 
00141 <font class="keyword">static</font> <font class="keywordtype">bool</font>
00142 hasFirstChar (ltoken tok)<font class="keyword"></font>
00143 <font class="keyword"></font>{
00144   <font class="keywordflow">return</font> (ltoken_isChar (tok)
00145           &amp;&amp; <a class="code" href="scanline_c.html#a10">lscanCharClass</a> (cstring_firstChar (ltoken_unparse (tok))) == SINGLECHAR);
00146 }
00147 
00148 <font class="keywordtype">void</font>
<a name="l00149"></a><a class="code" href="lslinit_c.html#a3">00149</a> <a class="code" href="lslinit_c.html#a3">LSLProcessInitFile</a> (<font class="keywordtype">void</font>)<font class="keyword"></font>
00150 <font class="keyword"></font>{
00151   InitFile ();
00152 }
00153 
00154 <font class="comment">/*</font>
00155 <font class="comment">**</font>
00156 <font class="comment">**  Parsing functions for init file processing, in the same order as the</font>
00157 <font class="comment">**  grammar file lslinit.cfg.  This is top-down order, as much as possible.</font>
00158 <font class="comment">**</font>
00159 <font class="comment">*/</font>
00160 
00161 <font class="keyword">static</font> <font class="keywordtype">void</font>
00162 InitFile (<font class="keywordtype">void</font>)<font class="keyword"></font>
00163 <font class="keyword"></font>{
00164   InitLines ();
00165   InitReduce (INITFILE1);
00166 
00167   <font class="keywordflow">if</font> (ltoken_getCode (nextToken) != LEOFTOKEN)
00168     {
00169       LocalUserError (nextToken, <font class="stringliteral">"unexpected tokens after end-of-file"</font>);
00170     }
00171 }
00172 
00173 <font class="keyword">static</font> <font class="keywordtype">void</font>
00174 InitLines (<font class="keywordtype">void</font>)<font class="keyword"></font>
00175 <font class="keyword"></font>{
00176   InitReduce (INITLINES1);
00177 
00178   <font class="keywordflow">if</font> (ltoken_getCode (nextToken) != LEOFTOKEN)
00179     {
00180       InitLine ();
00181       InitReduce (INITLINES2);
00182     }
00183 
00184   <font class="keywordflow">while</font> (ltoken_getCode (nextToken) != LEOFTOKEN)
00185     {
00186       InitLine ();
00187       InitReduce (INITLINES3);
00188     }
00189 
00190 }
00191 
00192 <font class="keyword">static</font> <font class="keywordtype">void</font>
00193 InitLine (<font class="keywordtype">void</font>)<font class="keyword"></font>
00194 <font class="keyword"></font>{
00195   <font class="keywordflow">if</font> (ltoken_getCode (nextToken) == LST_EOL)
00196     {
00197      <font class="comment">/* Nothing on line. */</font>
00198       InitReduce (INITLINE1);
00199     }
00200   <font class="keywordflow">else</font>
00201     {
00202       Classification ();
00203       InitReduce (INITLINE2);
00204     }
00205 
00206   <font class="keywordflow">if</font> (ltoken_getCode (nextToken) != LST_EOL)
00207     {
00208       LocalUserError (nextToken, <font class="stringliteral">"Unexpected tokens on line"</font>);
00209     }
00210 
00211   <a class="code" href="ltoken_c.html#a43">ltoken_free</a> (nextToken);
00212   nextToken = <a class="code" href="scan_c.html#a3">LSLScanNextToken</a> ();             
00213 }
00214 
00215 <font class="keyword">static</font> <font class="keywordtype">void</font>
00216 Classification (<font class="keywordtype">void</font>)<font class="keyword"></font>
00217 <font class="keyword"></font>{
00218   <font class="keywordflow">if</font> (<a class="code" href="ltoken_c.html#a40">ltoken_getRawText</a> (nextToken) == ltoken_getText (endCommentCharToken)
00219       || <a class="code" href="ltoken_c.html#a40">ltoken_getRawText</a> (nextToken) == ltoken_getText (idCharToken)
00220       || <a class="code" href="ltoken_c.html#a40">ltoken_getRawText</a> (nextToken) == ltoken_getText (opCharToken)
00221       || <a class="code" href="ltoken_c.html#a40">ltoken_getRawText</a> (nextToken) == ltoken_getText (extensionCharToken)
00222       || <a class="code" href="ltoken_c.html#a40">ltoken_getRawText</a> (nextToken) == ltoken_getText (singleCharToken)
00223       || <a class="code" href="ltoken_c.html#a40">ltoken_getRawText</a> (nextToken) == ltoken_getText (whiteCharToken))
00224     {
00225       CharClass ();
00226       InitReduce (CLASSIFICATION1);
00227     }
00228   <font class="keywordflow">else</font> <font class="keywordflow">if</font> (<a class="code" href="ltoken_c.html#a40">ltoken_getRawText</a> (nextToken) == ltoken_getText (quantifierSymToken)
00229            || <a class="code" href="ltoken_c.html#a40">ltoken_getRawText</a> (nextToken) == ltoken_getText (logicalOpToken)
00230            || <a class="code" href="ltoken_c.html#a40">ltoken_getRawText</a> (nextToken) == ltoken_getText (eqOpToken)
00231            || <a class="code" href="ltoken_c.html#a40">ltoken_getRawText</a> (nextToken) == ltoken_getText (equationSymToken)
00232            || <a class="code" href="ltoken_c.html#a40">ltoken_getRawText</a> (nextToken) == ltoken_getText (eqSepSymToken)
00233            || <a class="code" href="ltoken_c.html#a40">ltoken_getRawText</a> (nextToken) == ltoken_getText (selectSymToken)
00234            || <a class="code" href="ltoken_c.html#a40">ltoken_getRawText</a> (nextToken) == ltoken_getText (openSymToken)
00235            || <a class="code" href="ltoken_c.html#a40">ltoken_getRawText</a> (nextToken) == ltoken_getText (sepSymToken)
00236            || <a class="code" href="ltoken_c.html#a40">ltoken_getRawText</a> (nextToken) == ltoken_getText (closeSymToken)
00237            || <a class="code" href="ltoken_c.html#a40">ltoken_getRawText</a> (nextToken) == ltoken_getText (simpleIdToken)
00238            || <a class="code" href="ltoken_c.html#a40">ltoken_getRawText</a> (nextToken) == ltoken_getText (mapSymToken)
00239            || <a class="code" href="ltoken_c.html#a40">ltoken_getRawText</a> (nextToken) == ltoken_getText (markerSymToken)
00240            || <a class="code" href="ltoken_c.html#a40">ltoken_getRawText</a> (nextToken) == ltoken_getText (commentSymToken))
00241     {
00242       TokenClass ();
00243       InitReduce (CLASSIFICATION2);
00244     }
00245   <font class="keywordflow">else</font> <font class="keywordflow">if</font> (<a class="code" href="ltoken_c.html#a40">ltoken_getRawText</a> (nextToken) == ltoken_getText (synonymToken))
00246     {
00247       SynClass ();
00248       InitReduce (CLASSIFICATION3);
00249     }
00250   <font class="keywordflow">else</font>
00251     {
00252       LocalUserError (nextToken,
00253                       <font class="stringliteral">"expected character, token, or synonym classification"</font>);
00254     }
00255 }
00256 
00257 <font class="keyword">static</font> <font class="keywordtype">void</font>
00258 CharClass (<font class="keywordtype">void</font>)<font class="keyword"></font>
00259 <font class="keyword"></font>{
00260   ltoken charClassToken;
00261 
00262   charClassToken = nextToken;
00263 
00264   nextToken = <a class="code" href="scan_c.html#a3">LSLScanNextToken</a> ();              <font class="comment">/* Discard char class keyword. */</font>
00265 
00266   <font class="keywordflow">if</font> (<a class="code" href="ltoken_c.html#a40">ltoken_getRawText</a> (charClassToken) == ltoken_getText (endCommentCharToken))
00267     {
00268       EndCommentChars ();
00269       InitReduce (CHARCLASS1);
00270     }
00271   <font class="keywordflow">else</font> <font class="keywordflow">if</font> (<a class="code" href="ltoken_c.html#a40">ltoken_getRawText</a> (charClassToken) == ltoken_getText (idCharToken))
00272     {
00273       IdChars ();
00274       InitReduce (CHARCLASS2);
00275     }
00276   <font class="keywordflow">else</font> <font class="keywordflow">if</font> (<a class="code" href="ltoken_c.html#a40">ltoken_getRawText</a> (charClassToken) == ltoken_getText (opCharToken))
00277     {
00278       OpChars ();
00279       InitReduce (CHARCLASS3);
00280     }
00281   <font class="keywordflow">else</font> <font class="keywordflow">if</font> (<a class="code" href="ltoken_c.html#a40">ltoken_getRawText</a> (charClassToken)
00282            == ltoken_getText (extensionCharToken))
00283     {
00284       ExtensionChar ();
00285       InitReduce (CHARCLASS4);
00286     }
00287   <font class="keywordflow">else</font> <font class="keywordflow">if</font> (<a class="code" href="ltoken_c.html#a40">ltoken_getRawText</a> (charClassToken) == ltoken_getText (singleCharToken))
00288     {
00289       SingChars ();
00290       InitReduce (CHARCLASS5);
00291     }
00292   <font class="keywordflow">else</font> <font class="keywordflow">if</font> (<a class="code" href="ltoken_c.html#a40">ltoken_getRawText</a> (charClassToken) == ltoken_getText (whiteCharToken))
00293     {
00294       WhiteChars ();
00295       InitReduce (CHARCLASS6);
00296     }
00297   <font class="keywordflow">else</font>
00298     {
00299       LocalUserError (nextToken, <font class="stringliteral">"expected character classification"</font>);
00300     }
00301 
00302   <a class="code" href="ltoken_c.html#a43">ltoken_free</a> (charClassToken);
00303 }
00304 
00305 <font class="keyword">static</font> <font class="keywordtype">void</font>
00306 EndCommentChars (<font class="keywordtype">void</font>)<font class="keyword"></font>
00307 <font class="keyword"></font>{
00308   EndCommentChar ();
00309   InitReduce (LRC_ENDCOMMENT1);
00310 
00311   <font class="keywordflow">while</font> (ltoken_getCode (nextToken) != LST_EOL)
00312     {
00313       EndCommentChar ();
00314       InitReduce (LRC_ENDCOMMENT2);
00315     }
00316 
00317 }
00318 
00319 <font class="keyword">static</font> <font class="keywordtype">void</font>
00320 IdChars (<font class="keywordtype">void</font>)<font class="keyword"></font>
00321 <font class="keyword"></font>{
00322   IdChar ();
00323   InitReduce (IDCHARS1);
00324 
00325   <font class="keywordflow">while</font> (ltoken_getCode (nextToken) != LST_EOL)
00326     {
00327       IdChar ();
00328       InitReduce (IDCHARS2);
00329     }
00330 }
00331 
00332 <font class="keyword">static</font> <font class="keywordtype">void</font>
00333 OpChars (<font class="keywordtype">void</font>)<font class="keyword"></font>
00334 <font class="keyword"></font>{
00335   OpChar ();
00336   InitReduce (OPCHARS1);
00337 
00338   <font class="keywordflow">while</font> (ltoken_getCode (nextToken) != LST_EOL)
00339     {
00340       OpChar ();
00341       InitReduce (OPCHARS2);
00342     }
00343 }
00344 
00345 <font class="keyword">static</font> <font class="keywordtype">void</font>
00346 ExtensionChar (<font class="keywordtype">void</font>)<font class="keyword"></font>
00347 <font class="keyword"></font>{
00348   <font class="keywordflow">if</font> (ltoken_isChar (nextToken)
00349       &amp;&amp; <a class="code" href="scanline_c.html#a10">lscanCharClass</a> (cstring_firstChar (ltoken_unparse (nextToken))) == SINGLECHAR)
00350     {
00351       <a class="code" href="shift_c.html#a6">LSLGenShiftOnly</a> (nextToken);
00352       nextToken = <a class="code" href="scan_c.html#a3">LSLScanNextToken</a> ();
00353       InitReduce (LRC_EXTENSIONCHAR1);
00354     }
00355   <font class="keywordflow">else</font>
00356     {
00357       LocalUserError (nextToken, <font class="stringliteral">"expected only one character"</font>);
00358     }
00359 }
00360 
00361 <font class="keyword">static</font> <font class="keywordtype">void</font>
00362 SingChars (<font class="keywordtype">void</font>)<font class="keyword"></font>
00363 <font class="keyword"></font>{
00364   SingChar ();
00365   InitReduce (SINGCHARS1);
00366 
00367   <font class="keywordflow">while</font> (ltoken_getCode (nextToken) != LST_EOL)
00368     {
00369       SingChar ();
00370       InitReduce (SINGCHARS2);
00371     }
00372 }
00373 
00374 <font class="keyword">static</font> <font class="keywordtype">void</font>
00375 WhiteChars (<font class="keywordtype">void</font>)<font class="keyword"></font>
00376 <font class="keyword"></font>{
00377   WhiteChar ();
00378   InitReduce (WHITECHARS1);
00379 
00380   <font class="keywordflow">while</font> (ltoken_getCode (nextToken) != LST_EOL)
00381     {
00382       WhiteChar ();
00383       InitReduce (WHITECHARS2);
00384     }
00385 }
00386 
00387 <font class="keyword">static</font> <font class="keywordtype">void</font>
00388 EndCommentChar (<font class="keywordtype">void</font>)<font class="keyword"></font>
00389 <font class="keyword"></font>{
00390   <font class="keywordflow">if</font> (ltoken_isChar (nextToken))
00391     {
00392       <a class="code" href="shift_c.html#a6">LSLGenShiftOnly</a> (nextToken);
00393       nextToken = <a class="code" href="scan_c.html#a3">LSLScanNextToken</a> ();
00394       InitReduce (LRC_ENDCOMMENTCHAR1);
00395     }
00396   <font class="keywordflow">else</font>
00397     {
00398       LocalUserError (nextToken, <font class="stringliteral">"expected only one character"</font>);
00399     }
00400 }
00401 
00402 <font class="keyword">static</font> <font class="keywordtype">void</font>
00403 IdChar (<font class="keywordtype">void</font>)<font class="keyword"></font>
00404 <font class="keyword"></font>{
00405   <font class="keywordflow">if</font> (hasFirstChar (nextToken))
00406     {
00407       <a class="code" href="shift_c.html#a6">LSLGenShiftOnly</a> (nextToken);
00408       nextToken = <a class="code" href="scan_c.html#a3">LSLScanNextToken</a> ();
00409       InitReduce (IDCHAR1);
00410     }
00411   <font class="keywordflow">else</font>
00412     {
00413       LocalUserError (nextToken, <font class="stringliteral">"character is already defined, cannot redefine"</font>);
00414     }
00415 }
00416 
00417 <font class="keyword">static</font> <font class="keywordtype">void</font>
00418 OpChar (<font class="keywordtype">void</font>)<font class="keyword"></font>
00419 <font class="keyword"></font>{
00420   <font class="keywordflow">if</font> (hasFirstChar (nextToken))
00421     {
00422       <a class="code" href="shift_c.html#a6">LSLGenShiftOnly</a> (nextToken);
00423       nextToken = <a class="code" href="scan_c.html#a3">LSLScanNextToken</a> ();
00424       InitReduce (OPCHAR1);
00425     }
00426   <font class="keywordflow">else</font>
00427     {
00428       LocalUserError (nextToken, <font class="stringliteral">"character is already defined, cannot redefine"</font>);
00429     }
00430 }
00431 
00432 <font class="keyword">static</font> <font class="keywordtype">void</font>
00433 SingChar (<font class="keywordtype">void</font>)<font class="keyword"></font>
00434 <font class="keyword"></font>{
00435   <font class="keywordflow">if</font> (hasFirstChar (nextToken))
00436     {
00437       <a class="code" href="shift_c.html#a6">LSLGenShiftOnly</a> (nextToken);
00438       nextToken = <a class="code" href="scan_c.html#a3">LSLScanNextToken</a> ();
00439       InitReduce (SINGCHAR1);
00440     }
00441   <font class="keywordflow">else</font>
00442     {
00443       LocalUserError (nextToken, <font class="stringliteral">"character is already defined, cannot redefine"</font>);
00444     }
00445 }
00446 
00447 <font class="keyword">static</font> <font class="keywordtype">void</font>
00448 WhiteChar (<font class="keywordtype">void</font>)<font class="keyword"></font>
00449 <font class="keyword"></font>{
00450   <font class="keywordflow">if</font> (hasFirstChar (nextToken))
00451     {
00452       <a class="code" href="shift_c.html#a6">LSLGenShiftOnly</a> (nextToken);
00453       nextToken = <a class="code" href="scan_c.html#a3">LSLScanNextToken</a> ();
00454       InitReduce (WHITECHAR1);
00455     }
00456   <font class="keywordflow">else</font>
00457     {
00458       LocalUserError (nextToken, <font class="stringliteral">"character is already defined, cannot redefine"</font>);
00459     }
00460 }
00461 
00462 <font class="keyword">static</font> <font class="keywordtype">void</font>
00463 TokenClass (<font class="keywordtype">void</font>)<font class="keyword"></font>
00464 <font class="keyword"></font>{
00465   ltoken tokenClassToken;
00466 
00467   tokenClassToken = nextToken;
00468 
00469   nextToken = <a class="code" href="scan_c.html#a3">LSLScanNextToken</a> ();
00470 
00471   <font class="keywordflow">if</font> (<a class="code" href="ltoken_c.html#a40">ltoken_getRawText</a> (tokenClassToken) == ltoken_getText (quantifierSymToken))
00472     {
00473       QuantifierSymToks ();
00474       InitReduce (TOKENCLASS1);
00475     }
00476   <font class="keywordflow">else</font> <font class="keywordflow">if</font> (<a class="code" href="ltoken_c.html#a40">ltoken_getRawText</a> (tokenClassToken) == ltoken_getText (logicalOpToken))
00477     {
00478       LogicalOpToks ();
00479       InitReduce (TOKENCLASS2);
00480     }
00481   <font class="keywordflow">else</font> <font class="keywordflow">if</font> (<a class="code" href="ltoken_c.html#a40">ltoken_getRawText</a> (tokenClassToken) == ltoken_getText (eqOpToken))
00482     {
00483       EqOpToks ();
00484       InitReduce (TOKENCLASS3);
00485     }
00486   <font class="keywordflow">else</font> <font class="keywordflow">if</font> (<a class="code" href="ltoken_c.html#a40">ltoken_getRawText</a> (tokenClassToken)
00487            == ltoken_getText (equationSymToken))
00488     {
00489       EquationSymToks ();
00490       InitReduce (TOKENCLASS4);
00491     }
00492   <font class="keywordflow">else</font> <font class="keywordflow">if</font> (<a class="code" href="ltoken_c.html#a40">ltoken_getRawText</a> (tokenClassToken) == ltoken_getText (eqSepSymToken))
00493     {
00494       EqSepSymToks ();
00495       InitReduce (TOKENCLASS5);
00496     }
00497   <font class="keywordflow">else</font> <font class="keywordflow">if</font> (<a class="code" href="ltoken_c.html#a40">ltoken_getRawText</a> (tokenClassToken) == ltoken_getText (selectSymToken))
00498     {
00499       SelectSymToks ();
00500       InitReduce (TOKENCLASS6);
00501     }
00502   <font class="keywordflow">else</font> <font class="keywordflow">if</font> (<a class="code" href="ltoken_c.html#a40">ltoken_getRawText</a> (tokenClassToken) == ltoken_getText (openSymToken))
00503     {
00504       OpenSymToks ();
00505       InitReduce (TOKENCLASS7);
00506     }
00507   <font class="keywordflow">else</font> <font class="keywordflow">if</font> (<a class="code" href="ltoken_c.html#a40">ltoken_getRawText</a> (tokenClassToken) == ltoken_getText (sepSymToken))
00508     {
00509       SepSymToks ();
00510       InitReduce (TOKENCLASS8);
00511     }
00512   <font class="keywordflow">else</font> <font class="keywordflow">if</font> (<a class="code" href="ltoken_c.html#a40">ltoken_getRawText</a> (tokenClassToken) == ltoken_getText (closeSymToken))
00513     {
00514       CloseSymToks ();
00515       InitReduce (TOKENCLASS9);
00516     }
00517   <font class="keywordflow">else</font> <font class="keywordflow">if</font> (<a class="code" href="ltoken_c.html#a40">ltoken_getRawText</a> (tokenClassToken) == ltoken_getText (simpleIdToken))
00518     {
00519       SimpleIdToks ();
00520       InitReduce (TOKENCLASS10);
00521     }
00522   <font class="keywordflow">else</font> <font class="keywordflow">if</font> (<a class="code" href="ltoken_c.html#a40">ltoken_getRawText</a> (tokenClassToken) == ltoken_getText (mapSymToken))
00523     {
00524       MapSymToks ();
00525       InitReduce (TOKENCLASS11);
00526     }
00527   <font class="keywordflow">else</font> <font class="keywordflow">if</font> (<a class="code" href="ltoken_c.html#a40">ltoken_getRawText</a> (tokenClassToken) == ltoken_getText (markerSymToken))
00528     {
00529       MarkerSymToks ();
00530       InitReduce (TOKENCLASS12);
00531     }
00532   <font class="keywordflow">else</font> <font class="keywordflow">if</font> (<a class="code" href="ltoken_c.html#a40">ltoken_getRawText</a> (tokenClassToken)
00533            == ltoken_getText (commentSymToken))
00534     {
00535       CommentSymToks ();
00536       InitReduce (TOKENCLASS13);
00537     }
00538   <font class="keywordflow">else</font>
00539     {
00540       LocalUserError (nextToken, <font class="stringliteral">"expected token classification"</font>);
00541     }
00542 
00543   <a class="code" href="ltoken_c.html#a43">ltoken_free</a> (tokenClassToken);
00544 }
00545 
00546 <font class="keyword">static</font> <font class="keywordtype">void</font>
00547 QuantifierSymToks (<font class="keywordtype">void</font>)<font class="keyword"></font>
00548 <font class="keyword"></font>{
00549   QuantifierSymTok ();
00550   InitReduce (QUANTIFIERSYMTOKS1);
00551 
00552   <font class="keywordflow">while</font> (ltoken_getCode (nextToken) != LST_EOL)
00553     {
00554       QuantifierSymTok ();
00555       InitReduce (QUANTIFIERSYMTOKS2);
00556     }
00557 }
00558 
00559 <font class="keyword">static</font> <font class="keywordtype">void</font>
00560 LogicalOpToks (<font class="keywordtype">void</font>)<font class="keyword"></font>
00561 <font class="keyword"></font>{
00562   LogicalOpTok ();
00563   InitReduce (LOGICALOPTOKS1);
00564 
00565   <font class="keywordflow">while</font> (ltoken_getCode (nextToken) != LST_EOL)
00566     {
00567       LogicalOpTok ();
00568       InitReduce (LOGICALOPTOKS2);
00569     }
00570 }
00571 
00572 <font class="keyword">static</font> <font class="keywordtype">void</font>
00573 EqOpToks (<font class="keywordtype">void</font>)<font class="keyword"></font>
00574 <font class="keyword"></font>{
00575   EqOpTok ();
00576   InitReduce (LRC_EQOPTOKS1);
00577 
00578   <font class="keywordflow">while</font> (ltoken_getCode (nextToken) != LST_EOL)
00579     {
00580       EqOpTok ();
00581       InitReduce (LRC_EQOPTOKS2);
00582     }
00583 }
00584 
00585 <font class="keyword">static</font> <font class="keywordtype">void</font>
00586 EquationSymToks (<font class="keywordtype">void</font>)<font class="keyword"></font>
00587 <font class="keyword"></font>{
00588   EquationSymTok ();
00589   InitReduce (LRC_EQUATIONSYMTOKS1);
00590 
00591   <font class="keywordflow">while</font> (ltoken_getCode (nextToken) != LST_EOL)
00592     {
00593       EquationSymTok ();
00594       InitReduce (LRC_EQUATIONSYMTOKS2);
00595     }
00596 }
00597 
00598 <font class="keyword">static</font> <font class="keywordtype">void</font>
00599 EqSepSymToks (<font class="keywordtype">void</font>)<font class="keyword"></font>
00600 <font class="keyword"></font>{
00601   EqSepSymTok ();
00602   InitReduce (LRC_EQSEPSYMTOKS1);
00603 
00604   <font class="keywordflow">while</font> (ltoken_getCode (nextToken) != LST_EOL)
00605     {
00606       EqSepSymTok ();
00607       InitReduce (LRC_EQSEPSYMTOKS2);
00608     }
00609 }
00610 
00611 <font class="keyword">static</font> <font class="keywordtype">void</font>
00612 SelectSymToks (<font class="keywordtype">void</font>)<font class="keyword"></font>
00613 <font class="keyword"></font>{
00614   SelectSymTok ();
00615   InitReduce (SELECTSYMTOKS1);
00616 
00617   <font class="keywordflow">while</font> (ltoken_getCode (nextToken) != LST_EOL)
00618     {
00619       SelectSymTok ();
00620       InitReduce (SELECTSYMTOKS2);
00621     }
00622 }
00623 
00624 <font class="keyword">static</font> <font class="keywordtype">void</font>
00625 OpenSymToks (<font class="keywordtype">void</font>)<font class="keyword"></font>
00626 <font class="keyword"></font>{
00627   OpenSymTok ();
00628   InitReduce (OPENSYMTOKS1);
00629 
00630   <font class="keywordflow">while</font> (ltoken_getCode (nextToken) != LST_EOL)
00631     {
00632       OpenSymTok ();
00633       InitReduce (OPENSYMTOKS2);
00634     }
00635 }
00636 
00637 <font class="keyword">static</font> <font class="keywordtype">void</font>
00638 SepSymToks (<font class="keywordtype">void</font>)<font class="keyword"></font>
00639 <font class="keyword"></font>{
00640   SepSymTok ();
00641   InitReduce (SEPSYMTOKS1);
00642 
00643   <font class="keywordflow">while</font> (ltoken_getCode (nextToken) != LST_EOL)
00644     {
00645       SepSymTok ();
00646       InitReduce (SEPSYMTOKS2);
00647     }
00648 }
00649 
00650 <font class="keyword">static</font> <font class="keywordtype">void</font>
00651 CloseSymToks (<font class="keywordtype">void</font>)<font class="keyword"></font>
00652 <font class="keyword"></font>{
00653   CloseSymTok ();
00654   InitReduce (CLOSESYMTOKS1);
00655 
00656   <font class="keywordflow">while</font> (ltoken_getCode (nextToken) != LST_EOL)
00657     {
00658       CloseSymTok ();
00659       InitReduce (CLOSESYMTOKS2);
00660     }
00661 }
00662 
00663 <font class="keyword">static</font> <font class="keywordtype">void</font>
00664 SimpleIdToks (<font class="keywordtype">void</font>)<font class="keyword"></font>
00665 <font class="keyword"></font>{
00666   SimpleIdTok ();
00667   InitReduce (SIMPLEIDTOKS1);
00668 
00669   <font class="keywordflow">while</font> (ltoken_getCode (nextToken) != LST_EOL)
00670     {
00671       SimpleIdTok ();
00672       InitReduce (SIMPLEIDTOKS2);
00673     }
00674 }
00675 
00676 <font class="keyword">static</font> <font class="keywordtype">void</font>
00677 MapSymToks (<font class="keywordtype">void</font>)<font class="keyword"></font>
00678 <font class="keyword"></font>{
00679   MapSymTok ();
00680   InitReduce (MAPSYMTOKS1);
00681 
00682   <font class="keywordflow">while</font> (ltoken_getCode (nextToken) != LST_EOL)
00683     {
00684       MapSymTok ();
00685       InitReduce (MAPSYMTOKS2);
00686     }
00687 }
00688 
00689 <font class="keyword">static</font> <font class="keywordtype">void</font>
00690 MarkerSymToks (<font class="keywordtype">void</font>)<font class="keyword"></font>
00691 <font class="keyword"></font>{
00692   MarkerSymTok ();
00693   InitReduce (MARKERSYMTOKS1);
00694 
00695   <font class="keywordflow">while</font> (ltoken_getCode (nextToken) != LST_EOL)
00696     {
00697       MarkerSymTok ();
00698       InitReduce (MARKERSYMTOKS2);
00699     }
00700 }
00701 
00702 <font class="keyword">static</font> <font class="keywordtype">void</font>
00703 CommentSymToks (<font class="keywordtype">void</font>)<font class="keyword"></font>
00704 <font class="keyword"></font>{
00705   CommentSymTok ();
00706   InitReduce (COMMENTSYMTOKS1);
00707 
00708   <font class="keywordflow">while</font> (ltoken_getCode (nextToken) != LST_EOL)
00709     {
00710       CommentSymTok ();
00711       InitReduce (COMMENTSYMTOKS2);
00712     }
00713 }
00714 
00715 <font class="keyword">static</font> <font class="keywordtype">void</font>
00716 QuantifierSymTok (<font class="keywordtype">void</font>)<font class="keyword"></font>
00717 <font class="keyword"></font>{
00718   Token ();
00719   InitReduce (QUANTIFIERSYMTOK1);
00720 }
00721 
00722 <font class="keyword">static</font> <font class="keywordtype">void</font>
00723 LogicalOpTok (<font class="keywordtype">void</font>)<font class="keyword"></font>
00724 <font class="keyword"></font>{
00725   Token ();
00726   InitReduce (LOGICALOPTOK1);
00727 }
00728 
00729 <font class="keyword">static</font> <font class="keywordtype">void</font>
00730 EqOpTok (<font class="keywordtype">void</font>)<font class="keyword"></font>
00731 <font class="keyword"></font>{
00732   Token ();
00733   InitReduce (LRC_EQOPTOK1);
00734 }
00735 
00736 <font class="keyword">static</font> <font class="keywordtype">void</font>
00737 EquationSymTok (<font class="keywordtype">void</font>)<font class="keyword"></font>
00738 <font class="keyword"></font>{
00739  <font class="comment">/* ### EquationSymTok (); ### */</font>
00740   Token ();
00741   InitReduce (LRC_EQUATIONSYMTOK1);
00742 }
00743 
00744 <font class="keyword">static</font> <font class="keywordtype">void</font>
00745 EqSepSymTok (<font class="keywordtype">void</font>)<font class="keyword"></font>
00746 <font class="keyword"></font>{
00747   Token ();
00748   InitReduce (LRC_EQSEPSYMTOK1);
00749 
00750 }
00751 
00752 <font class="keyword">static</font> <font class="keywordtype">void</font>
00753 SelectSymTok (<font class="keywordtype">void</font>)<font class="keyword"></font>
00754 <font class="keyword"></font>{
00755   Token ();
00756   InitReduce (SELECTSYMTOK1);
00757 }
00758 
00759 <font class="keyword">static</font> <font class="keywordtype">void</font>
00760 OpenSymTok (<font class="keywordtype">void</font>)<font class="keyword"></font>
00761 <font class="keyword"></font>{
00762   Token ();
00763   InitReduce (OPENSYMTOK1);
00764 }
00765 
00766 <font class="keyword">static</font> <font class="keywordtype">void</font>
00767 SepSymTok (<font class="keywordtype">void</font>)<font class="keyword"></font>
00768 <font class="keyword"></font>{
00769   Token ();
00770   InitReduce (SEPSYMTOK1);
00771 }
00772 
00773 <font class="keyword">static</font> <font class="keywordtype">void</font>
00774 CloseSymTok (<font class="keywordtype">void</font>)<font class="keyword"></font>
00775 <font class="keyword"></font>{
00776   Token ();
00777   InitReduce (CLOSESYMTOK1);
00778 }
00779 
00780 <font class="keyword">static</font> <font class="keywordtype">void</font>
00781 SimpleIdTok (<font class="keywordtype">void</font>)<font class="keyword"></font>
00782 <font class="keyword"></font>{
00783   Token ();
00784   InitReduce (SIMPLEIDTOK1);
00785 }
00786 
00787 <font class="keyword">static</font> <font class="keywordtype">void</font>
00788 MapSymTok (<font class="keywordtype">void</font>)<font class="keyword"></font>
00789 <font class="keyword"></font>{
00790   Token ();
00791   InitReduce (MAPSYMTOK1);
00792 }
00793 
00794 <font class="keyword">static</font> <font class="keywordtype">void</font>
00795 MarkerSymTok (<font class="keywordtype">void</font>)<font class="keyword"></font>
00796 <font class="keyword"></font>{
00797   Token ();
00798   InitReduce (MARKERSYMTOK1);
00799 
00800 }
00801 
00802 <font class="keyword">static</font> <font class="keywordtype">void</font>
00803 CommentSymTok (<font class="keywordtype">void</font>)<font class="keyword"></font>
00804 <font class="keyword"></font>{
00805   Token ();
00806   InitReduce (COMMENTSYMTOK1);
00807 }
00808 
00809 
00810 <font class="keyword">static</font> <font class="keywordtype">void</font>
00811 SynClass (<font class="keywordtype">void</font>)<font class="keyword"></font>
00812 <font class="keyword"></font>{
00813   <font class="keywordflow">if</font> (<a class="code" href="ltoken_c.html#a40">ltoken_getRawText</a> (nextToken) == ltoken_getText (synonymToken))
00814     {
00815       <a class="code" href="ltoken_c.html#a43">ltoken_free</a> (nextToken);
00816       nextToken = <a class="code" href="scan_c.html#a3">LSLScanNextToken</a> ();
00817 
00818       OldToken ();
00819       NewToken ();
00820 
00821       InitReduce (SYNCLASS1);
00822     }
00823   <font class="keywordflow">else</font>
00824     {
00825       LocalUserError (nextToken, <font class="stringliteral">"expected synonym classification"</font>);
00826     }
00827 
00828 }
00829 
00830 <font class="keyword">static</font> <font class="keywordtype">void</font>
00831 OldToken (<font class="keywordtype">void</font>)<font class="keyword"></font>
00832 <font class="keyword"></font>{
00833   Token ();
00834   InitReduce (OLDTOKEN1);
00835 
00836 }
00837 
00838 <font class="keyword">static</font> <font class="keywordtype">void</font>
00839 NewToken (<font class="keywordtype">void</font>)<font class="keyword"></font>
00840 <font class="keyword"></font>{
00841   Token ();
00842   InitReduce (NEWTOKEN1);
00843 
00844 }
00845 
00846 <font class="keyword">static</font> <font class="keywordtype">void</font>
00847 Token (<font class="keywordtype">void</font>)<font class="keyword"></font>
00848 <font class="keyword"></font>{
00849   <font class="keywordflow">if</font> (ltoken_getCode (nextToken) == LST_EOL
00850       || ltoken_getCode (nextToken) == LEOFTOKEN)
00851     {
00852       LocalUserError (nextToken, <font class="stringliteral">"unexpected end-of-line or end-of-file"</font>);
00853     }
00854   <font class="keywordflow">else</font>
00855     {
00856       <a class="code" href="shift_c.html#a6">LSLGenShiftOnly</a> (nextToken);
00857       nextToken = <a class="code" href="scan_c.html#a3">LSLScanNextToken</a> ();
00858     }
00859 }
00860 
00861 <font class="comment">/*</font>
00862 <font class="comment">** Init File Processing Routines, these routines use the shift-reduce sequence</font>
00863 <font class="comment">** produced by the init file parser and update the necessary tables for the</font>
00864 <font class="comment">** scanner.</font>
00865 <font class="comment">**</font>
00866 <font class="comment">** The same shift stack is used that LSL parser uses.  A different reduce</font>
00867 <font class="comment">** procedure is used because the init file grammar is different from the LSL</font>
00868 <font class="comment">** grammar.</font>
00869 <font class="comment">**</font>
00870 <font class="comment">*/</font>
00871 
00872 <font class="keyword">static</font> <font class="keywordtype">void</font>
00873 InitReduce (LSLInitRuleCode rule)<font class="keyword"></font>
00874 <font class="keyword"></font>{
00875   <font class="keywordflow">switch</font> (rule)
00876     {
00877       <font class="keywordflow">case</font> INITFILE1:
00878       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"INITFILE1"</font>);
00879       <font class="keywordflow">break</font>;
00880 
00881     <font class="keywordflow">case</font> INITLINES1:
00882       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"INITLINES1"</font>);
00883       <font class="keywordflow">break</font>;
00884 
00885     <font class="keywordflow">case</font> INITLINES2:
00886       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"INITLINES2"</font>);
00887       <font class="keywordflow">break</font>;
00888 
00889     <font class="keywordflow">case</font> INITLINES3:
00890       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"INITLINES3"</font>);
00891       <font class="keywordflow">break</font>;
00892 
00893     <font class="keywordflow">case</font> INITLINE1:
00894       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"INITLINE1"</font>);
00895       <font class="keywordflow">break</font>;
00896 
00897     <font class="keywordflow">case</font> INITLINE2:
00898       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"INITLINE2"</font>);
00899       <font class="keywordflow">break</font>;
00900 
00901     <font class="keywordflow">case</font> CLASSIFICATION1:
00902       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"CLASSIFICATION1"</font>);
00903       <font class="keywordflow">break</font>;
00904 
00905     <font class="keywordflow">case</font> CLASSIFICATION2:
00906       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"CLASSIFICATION2"</font>);
00907       <font class="keywordflow">break</font>;
00908 
00909     <font class="keywordflow">case</font> CLASSIFICATION3:
00910       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"CLASSIFICATION3"</font>);
00911       <font class="keywordflow">break</font>;
00912 
00913     <font class="keywordflow">case</font> CHARCLASS1:
00914       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"CHARCLASS1"</font>);
00915       <font class="keywordflow">break</font>;
00916 
00917     <font class="keywordflow">case</font> CHARCLASS2:
00918       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"CHARCLASS2"</font>);
00919       <font class="keywordflow">break</font>;
00920 
00921     <font class="keywordflow">case</font> CHARCLASS3:
00922       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"CHARCLASS3"</font>);
00923       <font class="keywordflow">break</font>;
00924 
00925     <font class="keywordflow">case</font> CHARCLASS4:
00926       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"CHARCLASS4"</font>);
00927       <font class="keywordflow">break</font>;
00928 
00929     <font class="keywordflow">case</font> CHARCLASS5:
00930       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"CHARCLASS5"</font>);
00931       <font class="keywordflow">break</font>;
00932 
00933     <font class="keywordflow">case</font> CHARCLASS6:
00934       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"CHARCLASS6"</font>);
00935       <font class="keywordflow">break</font>;
00936 
00937     <font class="keywordflow">case</font> LRC_ENDCOMMENT1:
00938       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"LRC_ENDCOMMENT1"</font>);
00939       <font class="keywordflow">break</font>;
00940 
00941     <font class="keywordflow">case</font> LRC_ENDCOMMENT2:
00942       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"LRC_ENDCOMMENT2"</font>);
00943       <font class="keywordflow">break</font>;
00944 
00945     <font class="keywordflow">case</font> IDCHARS1:
00946       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"IDCHARS1"</font>);
00947       <font class="keywordflow">break</font>;
00948 
00949     <font class="keywordflow">case</font> IDCHARS2:
00950       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"IDCHARS2"</font>);
00951       <font class="keywordflow">break</font>;
00952 
00953     <font class="keywordflow">case</font> OPCHARS1:
00954       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"OPCHARS1"</font>);
00955       <font class="keywordflow">break</font>;
00956 
00957     <font class="keywordflow">case</font> OPCHARS2:
00958       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"OPCHARS2"</font>);
00959       <font class="keywordflow">break</font>;
00960 
00961     <font class="keywordflow">case</font> LRC_EXTENSIONCHAR1:
00962       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"LRC_EXTENSIONCHAR1"</font>);
00963       ProcessExtensionChar ();
00964       <font class="keywordflow">break</font>;
00965 
00966     <font class="keywordflow">case</font> SINGCHARS1:
00967       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"SINGCHARS1"</font>);
00968       <font class="keywordflow">break</font>;
00969 
00970     <font class="keywordflow">case</font> SINGCHARS2:
00971       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"SINGCHARS2"</font>);
00972       <font class="keywordflow">break</font>;
00973 
00974     <font class="keywordflow">case</font> WHITECHARS1:
00975       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"WHITECHARS1"</font>);
00976       <font class="keywordflow">break</font>;
00977 
00978     <font class="keywordflow">case</font> WHITECHARS2:
00979       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"WHITECHARS2"</font>);
00980       <font class="keywordflow">break</font>;
00981 
00982     <font class="keywordflow">case</font> LRC_ENDCOMMENTCHAR1:
00983       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"LRC_ENDCOMMENTCHAR1"</font>);
00984       ProcessEndCommentChar ();
00985       <font class="keywordflow">break</font>;
00986 
00987     <font class="keywordflow">case</font> IDCHAR1:
00988       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"IDCHAR1"</font>);
00989       ProcessSingleChar (IDCHAR);
00990       <font class="keywordflow">break</font>;
00991 
00992     <font class="keywordflow">case</font> OPCHAR1:
00993       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"OPCHAR1"</font>);
00994       ProcessSingleChar (OPCHAR);
00995       <font class="keywordflow">break</font>;
00996 
00997     <font class="keywordflow">case</font> SINGCHAR1:
00998       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"SINGCHAR1"</font>);
00999       ProcessSingleChar (SINGLECHAR);
01000       <font class="keywordflow">break</font>;
01001 
01002     <font class="keywordflow">case</font> WHITECHAR1:
01003       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"CHAR1"</font>);
01004       ProcessSingleChar (WHITECHAR);
01005       <font class="keywordflow">break</font>;
01006 
01007     <font class="keywordflow">case</font> TOKENCLASS1:
01008       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"TOKENCLASS1"</font>);
01009       <font class="keywordflow">break</font>;
01010 
01011     <font class="keywordflow">case</font> TOKENCLASS2:
01012       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"TOKENCLASS2"</font>);
01013       <font class="keywordflow">break</font>;
01014 
01015     <font class="keywordflow">case</font> TOKENCLASS3:
01016       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"TOKENCLASS3"</font>);
01017       <font class="keywordflow">break</font>;
01018 
01019     <font class="keywordflow">case</font> TOKENCLASS4:
01020       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"TOKENCLASS4"</font>);
01021       <font class="keywordflow">break</font>;
01022 
01023     <font class="keywordflow">case</font> TOKENCLASS5:
01024       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"TOKENCLASS5"</font>);
01025       <font class="keywordflow">break</font>;
01026 
01027     <font class="keywordflow">case</font> TOKENCLASS6:
01028       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"TOKENCLASS6"</font>);
01029       <font class="keywordflow">break</font>;
01030 
01031     <font class="keywordflow">case</font> TOKENCLASS7:
01032       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"TOKENCLASS7"</font>);
01033       <font class="keywordflow">break</font>;
01034 
01035     <font class="keywordflow">case</font> TOKENCLASS8:
01036       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"TOKENCLASS8"</font>);
01037       <font class="keywordflow">break</font>;
01038 
01039     <font class="keywordflow">case</font> TOKENCLASS9:
01040       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"TOKENCLASS9"</font>);
01041       <font class="keywordflow">break</font>;
01042 
01043     <font class="keywordflow">case</font> TOKENCLASS10:
01044       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"TOKENCLASS10"</font>);
01045       <font class="keywordflow">break</font>;
01046 
01047     <font class="keywordflow">case</font> TOKENCLASS11:
01048       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"TOKENCLASS11"</font>);
01049       <font class="keywordflow">break</font>;
01050 
01051     <font class="keywordflow">case</font> TOKENCLASS12:
01052       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"TOKENCLASS12"</font>);
01053       <font class="keywordflow">break</font>;
01054 
01055     <font class="keywordflow">case</font> TOKENCLASS13:
01056       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"TOKENCLASS13"</font>);
01057       <font class="keywordflow">break</font>;
01058 
01059     <font class="keywordflow">case</font> QUANTIFIERSYMTOKS1:
01060       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"QUALIFERSYMTOKS1"</font>);
01061       <font class="keywordflow">break</font>;
01062 
01063     <font class="keywordflow">case</font> QUANTIFIERSYMTOKS2:
01064       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"QUANTIFIERSYMTOKS2"</font>);
01065       <font class="keywordflow">break</font>;
01066 
01067     <font class="keywordflow">case</font> LOGICALOPTOKS1:
01068       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"LOGICALOPTOKS1"</font>);
01069       <font class="keywordflow">break</font>;
01070 
01071     <font class="keywordflow">case</font> LOGICALOPTOKS2:
01072       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"LOGICALOPTOKS2"</font>);
01073       <font class="keywordflow">break</font>;
01074 
01075     <font class="keywordflow">case</font> LRC_EQOPTOKS1:
01076       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"LRC_EQOPTOKS1"</font>);
01077       <font class="keywordflow">break</font>;
01078 
01079     <font class="keywordflow">case</font> LRC_EQOPTOKS2:
01080       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"LRC_EQOPTOKS2"</font>);
01081       <font class="keywordflow">break</font>;
01082 
01083     <font class="keywordflow">case</font> LRC_EQUATIONSYMTOKS1:
01084       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"LRC_EQUATIONSYMTOKS1"</font>);
01085       <font class="keywordflow">break</font>;
01086 
01087     <font class="keywordflow">case</font> LRC_EQUATIONSYMTOKS2:
01088       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"LRC_EQUATIONSYMTOKS2"</font>);
01089       <font class="keywordflow">break</font>;
01090 
01091     <font class="keywordflow">case</font> LRC_EQSEPSYMTOKS1:
01092       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"LRC_EQSEPSYMTOKS1"</font>);
01093       <font class="keywordflow">break</font>;
01094 
01095     <font class="keywordflow">case</font> LRC_EQSEPSYMTOKS2:
01096       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"LRC_EQSEPSYMTOKS2"</font>);
01097       <font class="keywordflow">break</font>;
01098 
01099     <font class="keywordflow">case</font> SELECTSYMTOKS1:
01100       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"SELECTSYMTOKS1"</font>);
01101       <font class="keywordflow">break</font>;
01102 
01103     <font class="keywordflow">case</font> SELECTSYMTOKS2:
01104       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"SELECTSYMTOKS2"</font>);
01105       <font class="keywordflow">break</font>;
01106 
01107     <font class="keywordflow">case</font> OPENSYMTOKS1:
01108       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"OPENSYMTOKS1"</font>);
01109       <font class="keywordflow">break</font>;
01110 
01111     <font class="keywordflow">case</font> OPENSYMTOKS2:
01112       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"OPENSYMTOKS2"</font>);
01113       <font class="keywordflow">break</font>;
01114 
01115     <font class="keywordflow">case</font> SEPSYMTOKS1:
01116       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"SEPSYMTOKS1"</font>);
01117       <font class="keywordflow">break</font>;
01118 
01119     <font class="keywordflow">case</font> SEPSYMTOKS2:
01120       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"SEPSYMTOKS2"</font>);
01121       <font class="keywordflow">break</font>;
01122 
01123     <font class="keywordflow">case</font> CLOSESYMTOKS1:
01124       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"CLOSESYMTOKS1"</font>);
01125       <font class="keywordflow">break</font>;
01126 
01127     <font class="keywordflow">case</font> CLOSESYMTOKS2:
01128       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"CLOSESYMTOKS2"</font>);
01129       <font class="keywordflow">break</font>;
01130 
01131     <font class="keywordflow">case</font> SIMPLEIDTOKS1:
01132       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"SIMPLEIDTOKS1"</font>);
01133       <font class="keywordflow">break</font>;
01134 
01135     <font class="keywordflow">case</font> SIMPLEIDTOKS2:
01136       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"SIMPLEIDTOKS2"</font>);
01137       <font class="keywordflow">break</font>;
01138 
01139     <font class="keywordflow">case</font> MAPSYMTOKS1:
01140       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"MAPSYMTOKS1"</font>);
01141       <font class="keywordflow">break</font>;
01142 
01143     <font class="keywordflow">case</font> MAPSYMTOKS2:
01144       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"MAPSYMTOKS2"</font>);
01145       <font class="keywordflow">break</font>;
01146 
01147     <font class="keywordflow">case</font> MARKERSYMTOKS1:
01148       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"MARKERSYMTOKS1"</font>);
01149       <font class="keywordflow">break</font>;
01150 
01151     <font class="keywordflow">case</font> MARKERSYMTOKS2:
01152       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"MARKERSYMTOKS2"</font>);
01153       <font class="keywordflow">break</font>;
01154 
01155     <font class="keywordflow">case</font> COMMENTSYMTOKS1:
01156       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"COMMENTSYMTOKS1"</font>);
01157       <font class="keywordflow">break</font>;
01158 
01159     <font class="keywordflow">case</font> COMMENTSYMTOKS2:
01160       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"COMMENTSYMTOKS2"</font>);
01161       <font class="keywordflow">break</font>;
01162 
01163     <font class="keywordflow">case</font> QUANTIFIERSYMTOK1:
01164       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"QUANTIFERSYMTOK1"</font>);
01165       ProcessToken (LST_QUANTIFIERSYM);
01166       <font class="keywordflow">break</font>;
01167 
01168     <font class="keywordflow">case</font> LOGICALOPTOK1:
01169       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"LOGICALOPTOK1"</font>);
01170       ProcessToken (LST_LOGICALOP);
01171       <font class="keywordflow">break</font>;
01172 
01173     <font class="keywordflow">case</font> LRC_EQOPTOK1:
01174       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"LRC_EQOPTOK1"</font>);
01175       ProcessToken (LST_EQOP);
01176       <font class="keywordflow">break</font>;
01177 
01178     <font class="keywordflow">case</font> LRC_EQUATIONSYMTOK1:
01179       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"LRC_EQUATIONSYMTOK1"</font>);
01180       ProcessToken (LST_EQUATIONSYM);
01181       <font class="keywordflow">break</font>;
01182 
01183     <font class="keywordflow">case</font> LRC_EQSEPSYMTOK1:
01184       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"LRC_EQSEPSYMTOK1"</font>);
01185       ProcessToken (LST_EQSEPSYM);
01186       <font class="keywordflow">break</font>;
01187 
01188     <font class="keywordflow">case</font> SELECTSYMTOK1:
01189       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"SELECTSYMTOK1"</font>);
01190       ProcessToken (LST_SELECTSYM);
01191       <font class="keywordflow">break</font>;
01192 
01193     <font class="keywordflow">case</font> OPENSYMTOK1:
01194       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"OPENSYMTOK1"</font>);
01195       ProcessToken (LST_OPENSYM);
01196       <font class="keywordflow">break</font>;
01197 
01198     <font class="keywordflow">case</font> SEPSYMTOK1:
01199       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"SEPSYMTOK1"</font>);
01200       ProcessToken (LST_SEPSYM);
01201       <font class="keywordflow">break</font>;
01202 
01203     <font class="keywordflow">case</font> CLOSESYMTOK1:
01204       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"CLOSESYMTOK1"</font>);
01205       ProcessToken (LST_CLOSESYM);
01206       <font class="keywordflow">break</font>;
01207 
01208     <font class="keywordflow">case</font> SIMPLEIDTOK1:
01209       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"SIMPLEIDTOK1"</font>);
01210       ProcessToken (LST_SIMPLEID);
01211       <font class="keywordflow">break</font>;
01212 
01213     <font class="keywordflow">case</font> MAPSYMTOK1:
01214       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"MAPSYMTOK1"</font>);
01215       ProcessToken (LST_MAPSYM);
01216       <font class="keywordflow">break</font>;
01217 
01218     <font class="keywordflow">case</font> MARKERSYMTOK1:
01219       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"MARKERSYMTOK1"</font>);
01220       ProcessToken (LST_MARKERSYM);
01221       <font class="keywordflow">break</font>;
01222 
01223     <font class="keywordflow">case</font> COMMENTSYMTOK1:
01224       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"COMMENTSYMTOK1"</font>);
01225       ProcessToken (LST_COMMENTSYM);
01226       <font class="keywordflow">break</font>;
01227 
01228     <font class="keywordflow">case</font> SYNCLASS1:
01229       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"SYNCLASS1"</font>);
01230       ProcessSynonym ();
01231       <font class="keywordflow">break</font>;
01232 
01233     <font class="keywordflow">case</font> OLDTOKEN1:
01234       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"OLDTOKEN1"</font>);
01235       <font class="keywordflow">break</font>;
01236 
01237     <font class="keywordflow">case</font> NEWTOKEN1:
01238       <a class="code" href="lslinit_c.html#a0">LTRACE</a> (<font class="stringliteral">"NEWTOKEN1"</font>);
01239       <font class="keywordflow">break</font>;
01240 
01241     <font class="keywordflow">default</font>:
01242       llcontbuglit (<font class="stringliteral">"InitReduce: bad switch"</font>);
01243       <font class="keywordflow">break</font>;
01244 
01245     }                           <font class="comment">/* end switch       */</font>
01246 }                               <font class="comment">/* end InitReduce () */</font>
01247 
01248 
01249 
01250 <font class="comment">/* Reset the first character of the predefined extensionChar keywords when  */</font>
01251 <font class="comment">/* the extensionChar changes.  e.g. "extensionChar @" changes "forall" to   */</font>
01252 <font class="comment">/* "@forall".                                                               */</font>
01253 
01254 <font class="keyword">static</font> <font class="keywordtype">void</font>
01255 UpdateXCharKeywords (charCode xCharCode)<font class="keyword"></font>
01256 <font class="keyword"></font>{
01257   <font class="keywordtype">char</font> xChar = (<font class="keywordtype">char</font>) xCharCode;
01258   <font class="keywordtype">char</font> *str;
01259 
01260   str = ltoken_getTextChars (ltoken_forall);
01261   *str = xChar;
01262 
01263   str = ltoken_getTextChars (ltoken_and);
01264   *str = xChar;
01265 
01266   str = ltoken_getTextChars (ltoken_or);
01267   *str = xChar;
01268 
01269   str = ltoken_getTextChars (ltoken_implies);
01270   *str = xChar;
01271 
01272   str = ltoken_getTextChars (ltoken_eq);
01273   *str = xChar;
01274 
01275   str = ltoken_getTextChars (ltoken_neq);
01276   *str = xChar;
01277 
01278   str = ltoken_getTextChars (ltoken_equals);
01279   *str = xChar;
01280 
01281   str = ltoken_getTextChars (ltoken_eqsep);
01282   *str = xChar;
01283 
01284   str = ltoken_getTextChars (ltoken_select);
01285   *str = xChar;
01286 
01287   str = ltoken_getTextChars (ltoken_open);
01288   *str = xChar;
01289 
01290   str = ltoken_getTextChars (ltoken_sep);
01291   *str = xChar;
01292 
01293   str = ltoken_getTextChars (ltoken_close);
01294   *str = xChar;
01295 
01296   str = ltoken_getTextChars (ltoken_id);
01297   *str = xChar;
01298 
01299   str = ltoken_getTextChars (ltoken_arrow);
01300   *str = xChar;
01301 
01302   str = ltoken_getTextChars (ltoken_marker);
01303   *str = xChar;
01304 
01305   str = ltoken_getTextChars (ltoken_comment);
01306   *str = xChar;
01307 
01308 }
01309 
01310 <font class="comment">/* Different from ProcessCharClass because only allow one extension         */</font>
01311 <font class="comment">/* character. Therefore, the present extension character must be set to a   */</font>
01312 <font class="comment">/* singleChar.                                                              */</font>
01313 
01314 <font class="keyword">static</font> <font class="keywordtype">void</font>
01315 ProcessExtensionChar (<font class="keywordtype">void</font>)<font class="keyword"></font>
01316 <font class="keyword"></font>{
01317   ltoken stackToken = <a class="code" href="shift_c.html#a7">LSLGenTopPopShiftStack</a> ();
01318   <font class="keywordtype">char</font> firstChar = <a class="code" href="cstring_c.html#a1">cstring_firstChar</a> (ltoken_unparse (stackToken));
01319 
01320   <font class="keywordflow">if</font> (!defineSingleChar[(<font class="keywordtype">int</font>)firstChar]
01321       &amp;&amp; <a class="code" href="scanline_c.html#a10">lscanCharClass</a> (firstChar) == SINGLECHAR)
01322     {
01323      <font class="comment">/* Is a single character that has not been defined before.     */</font>
01324      <font class="comment">/* Can only have one extension char.  Release old one. */</font>
01325       <a class="code" href="scanline_c.html#a12">lsetCharClass</a> (firstChar, CHC_EXTENSION);
01326       
01327       <font class="comment">/* this is a (bogus) type bug! caught by lclint */</font>
01328       <font class="comment">/* lsetCharClass (currentExtensionChar, SINGLECHAR); */</font>
01329 
01330       <a class="code" href="scanline_c.html#a12">lsetCharClass</a> ((<font class="keywordtype">char</font>) currentExtensionChar, SINGLECHAR);
01331 
01332       currentExtensionChar = (charCode) firstChar;
01333       UpdateXCharKeywords (currentExtensionChar);
01334     }
01335   <font class="keywordflow">else</font>
01336     {
01337      <font class="comment">/* Already redefined.  Don't allow to be redefined. */</font>
01338       LocalUserError (stackToken, <font class="stringliteral">"character is already defined, cannot redefine"</font>);
01339     }
01340   <a class="code" href="ltoken_c.html#a43">ltoken_free</a> (stackToken);
01341 }
01342 
01343 <font class="comment">/* Different from ProcessSingleChar because allow any characters to be      */</font>
01344 <font class="comment">/* endCommentChar and also set a different part of the scanner structure.   */</font>
01345 
01346 <font class="keyword">static</font> <font class="keywordtype">void</font>
01347 ProcessEndCommentChar (<font class="keywordtype">void</font>)<font class="keyword"></font>
01348 <font class="keyword"></font>{
01349   ltoken stackToken = <a class="code" href="shift_c.html#a7">LSLGenTopPopShiftStack</a> ();
01350   <font class="keywordtype">char</font> firstChar = <a class="code" href="cstring_c.html#a1">cstring_firstChar</a> (ltoken_unparse (stackToken));
01351 
01352   <font class="keywordflow">if</font> (<a class="code" href="scanline_c.html#a11">LSLIsEndComment</a> (firstChar))
01353     {
01354       LocalUserError (stackToken,
01355                     <font class="stringliteral">"already defined as a endCommentChar, cannot redefine"</font>);
01356     }
01357   <font class="keywordflow">else</font>
01358     {
01359       <a class="code" href="scanline_c.html#a13">lsetEndCommentChar</a> (firstChar, TRUE);
01360     }
01361   <a class="code" href="ltoken_c.html#a43">ltoken_free</a> (stackToken);
01362 }
01363 
01364 <font class="keyword">static</font> <font class="keywordtype">void</font>
01365 ProcessSingleChar (charCode code)<font class="keyword"></font>
01366 <font class="keyword"></font>{
01367   ltoken stackToken = <a class="code" href="shift_c.html#a7">LSLGenTopPopShiftStack</a> ();
01368   <font class="keywordtype">char</font> firstChar = <a class="code" href="cstring_c.html#a1">cstring_firstChar</a> (ltoken_unparse (stackToken));
01369 
01370   <font class="keywordflow">if</font> (!defineSingleChar[(<font class="keywordtype">int</font>)firstChar]
01371       &amp;&amp; <a class="code" href="scanline_c.html#a10">lscanCharClass</a> (firstChar) == SINGLECHAR)
01372     {
01373       <font class="comment">/* Is a single character that has not been defined before.            */</font>
01374       <font class="comment">/* It's OK to redefine once. */</font>
01375       <a class="code" href="scanline_c.html#a12">lsetCharClass</a> (firstChar, code);
01376       <font class="comment">/* OK to mark as a defined singleChar even if not.  Only check        */</font>
01377       <font class="comment">/* defineSingleChar[] if defining a singleChar.                       */</font>
01378       defineSingleChar[(<font class="keywordtype">int</font>)firstChar] = TRUE;
01379     }
01380   <font class="keywordflow">else</font>
01381     {
01382       LocalUserError (stackToken, <font class="stringliteral">"character is already defined, cannot redefine"</font>);
01383     }
01384   <a class="code" href="ltoken_c.html#a43">ltoken_free</a> (stackToken);
01385 }
01386 
01387 <font class="keyword">static</font> <font class="keywordtype">void</font>
01388 ProcessToken (ltokenCode code)<font class="keyword"></font>
01389 <font class="keyword"></font>{
01390   ltoken stackToken, temp;
01391   lsymbol sym;
01392 
01393   stackToken = <a class="code" href="shift_c.html#a7">LSLGenTopPopShiftStack</a> ();
01394   sym = ltoken_getText (stackToken);
01395 
01396   <font class="keywordflow">if</font> (<a class="code" href="syntable_c.html#a5">LSLIsSyn</a> (sym))
01397     {
01398       LocalUserError (stackToken,
01399                       <font class="stringliteral">"already defined as a synonym, cannot redefine"</font>);
01400     }
01401 
01402   <font class="comment">/* Get the token from the token table, so can check if the token    */</font>
01403   <font class="comment">/* was updated by a previous token.                               */</font>
01404   temp = <a class="code" href="tokentable_c.html#a4">LSLGetToken</a> (sym);
01405   
01406   <font class="keywordflow">if</font> (ltoken_isStateDefined (temp))
01407     {
01408       <font class="keywordflow">if</font> ((code == LST_OPENSYM &amp;&amp; sym == <a class="code" href="lsymbol_c.html#a14">lsymbol_fromChars</a> (<font class="stringliteral">"["</font>)) ||
01409           (code == LST_CLOSESYM &amp;&amp; sym == <a class="code" href="lsymbol_c.html#a14">lsymbol_fromChars</a> (<font class="stringliteral">"]"</font>)))
01410         {
01411           <font class="comment">/* ignore "openSym [" and "closeSym ]" TokenClass */</font>
01412           <a class="code" href="ltoken_c.html#a43">ltoken_free</a> (stackToken);
01413           <font class="keywordflow">return</font>;
01414         }
01415       <font class="keywordflow">else</font>
01416         {
01417           LocalUserError (stackToken, <font class="stringliteral">"already defined, cannot redefine"</font>);
01418           <a class="code" href="signature_tab_c.html#a84">PrintToken</a> (temp);
01419         }
01420     }
01421   
01422   <a class="code" href="tokentable_c.html#a2">LSLUpdateToken</a> (code, ltoken_getText (stackToken), TRUE);
01423   <a class="code" href="ltoken_c.html#a43">ltoken_free</a> (stackToken);
01424 }
01425 
01426 
01427 <font class="keyword">static</font> <font class="keywordtype">void</font>
01428 ProcessSynonym (<font class="keywordtype">void</font>)<font class="keyword"></font>
01429 <font class="keyword"></font>{
01430   ltoken newtok;
01431   ltoken oldtok;
01432 
01433   newtok = <a class="code" href="shift_c.html#a7">LSLGenTopPopShiftStack</a> ();
01434   oldtok = <a class="code" href="shift_c.html#a7">LSLGenTopPopShiftStack</a> ();
01435 
01436   <font class="keywordflow">if</font> (ltoken_wasSyn (newtok))
01437     {
01438      <font class="comment">/* The token has a synonym.  This means that the synonym was in the */</font>
01439      <font class="comment">/* init file, so complain about redefining as a synonym again          */</font>
01440       LocalUserError (newtok, <font class="stringliteral">"newtok already is a synonym, cannot redefine"</font>);
01441     }
01442 
01443   <font class="keywordflow">if</font> (ltoken_hasSyn (newtok))
01444     {
01445       <font class="comment">/*</font>
01446 <font class="comment">      ** newtok already has a synonym defined for it.  Do not allow         </font>
01447 <font class="comment">      ** synonyms to be chained.                                            </font>
01448 <font class="comment">      */</font>
01449 
01450       LocalUserError (newtok,
01451                       <font class="stringliteral">"newtok already has a synonym, cannot chain synonyms"</font>);
01452     }
01453 
01454   <font class="keywordflow">if</font> (ltoken_isStateDefined (newtok))
01455     {
01456       LocalUserError (newtok, <font class="stringliteral">"newtok already defined, cannot redefine"</font>);
01457     }
01458 
01459   <a class="code" href="syntable_c.html#a3">LSLAddSyn</a> (ltoken_getText (newtok), ltoken_getText (oldtok));
01460   <a class="code" href="ltoken_c.html#a43">ltoken_free</a> (oldtok);
01461   <a class="code" href="ltoken_c.html#a43">ltoken_free</a> (newtok);
01462 }
01463 
01464 
01465 <font class="comment">/*</font>
01466 <font class="comment"> * Utilities, in alphabetical order</font>
01467 <font class="comment"> */</font>
01468 
01469 <font class="keyword">static</font> <font class="keywordtype">void</font>
01470 LocalUserError (ltoken t, <font class="comment">/*@temp@*/</font> <font class="keywordtype">char</font> *msg)<font class="keyword"></font>
01471 <font class="keyword"></font>{
01472   <a class="code" href="llerror_c.html#a22">lldiagmsg</a> (message (<font class="stringliteral">"%s %s in the LSL init file:"</font>, 
01473                       ltoken_unparse (t), <a class="code" href="cstring_c.html#a28">cstring_fromChars</a> (msg)));
01474 
01475   <a class="code" href="ltoken_c.html#a43">ltoken_free</a> (nextToken);
01476   nextToken = <a class="code" href="scan_c.html#a3">LSLScanNextToken</a> ();             
01477 
01478   <font class="keywordflow">while</font> (ltoken_getCode (nextToken) != LST_EOL)
01479     {
01480       <a class="code" href="ltoken_c.html#a43">ltoken_free</a> (nextToken);
01481       nextToken = <a class="code" href="scan_c.html#a3">LSLScanNextToken</a> ();
01482     }
01483 }
01484 
01485 <font class="comment">/*</font>
01486 <font class="comment">**  Required initialization and cleanup routines</font>
01487 <font class="comment">*/</font>
01488 
01489 <font class="keyword">static</font> <font class="comment">/*@exposed@*/</font> ltoken insertSimpleToken (<font class="keywordtype">char</font> *text) 
01490   <font class="comment">/*@modifies internalState@*/</font>
01491 {
01492   <font class="keywordflow">return</font> (<a class="code" href="tokentable_c.html#a1">LSLInsertToken</a> (LST_SIMPLEID, lsymbol_fromChars (text), 0, FALSE));
01493 }
01494 
01495 <font class="keywordtype">void</font>
<a name="l01496"></a><a class="code" href="lslinit_c.html#a4">01496</a> <a class="code" href="lslinit_c.html#a4">LSLProcessInitFileInit</a> (<font class="keywordtype">void</font>)<font class="keyword"></font>
01497 <font class="keyword"></font>{
01498   <font class="keywordtype">int</font> i;
01499 
01500   <a class="code" href="shift_c.html#a8">LSLGenInit</a> (TRUE);            <font class="comment">/* parsing LSLinit not LCLinit */</font>
01501 
01502   <font class="comment">/*</font>
01503 <font class="comment">  ** Insert the init file keywords into the token table as undefined        </font>
01504 <font class="comment">  ** SIMPLEIDs.  They are defined as simpleIds since they must be treated </font>
01505 <font class="comment">  ** that way if they do not appear as the first token on a line, and       </font>
01506 <font class="comment">  ** they must be treated that way for the actual LSL parsing. Save the   </font>
01507 <font class="comment">  ** tokens so can recognize as init file keywords when necessary.       </font>
01508 <font class="comment">  */</font>
01509 
01510   endCommentCharToken = insertSimpleToken (<font class="stringliteral">"endCommentChar"</font>);
01511   idCharToken = insertSimpleToken (<font class="stringliteral">"idChar"</font>);                        
01512   opCharToken = insertSimpleToken (<font class="stringliteral">"opChar"</font>);                        
01513   extensionCharToken = insertSimpleToken (<font class="stringliteral">"extensionChar"</font>);    
01514   singleCharToken = insertSimpleToken (<font class="stringliteral">"singleChar"</font>);   
01515   whiteCharToken = insertSimpleToken (<font class="stringliteral">"whiteChar"</font>);
01516 
01517   quantifierSymToken = insertSimpleToken (<font class="stringliteral">"quantifierSym"</font>);
01518   logicalOpToken = insertSimpleToken (<font class="stringliteral">"logicalOp"</font>);
01519   eqOpToken = insertSimpleToken (<font class="stringliteral">"eqOp"</font>);                          
01520   equationSymToken = insertSimpleToken (<font class="stringliteral">"equationSym"</font>);
01521   eqSepSymToken = insertSimpleToken (<font class="stringliteral">"eqSepSym"</font>);                              
01522   selectSymToken = insertSimpleToken (<font class="stringliteral">"selectSym"</font>);
01523   openSymToken = insertSimpleToken (<font class="stringliteral">"openSym"</font>);                       
01524   sepSymToken = insertSimpleToken (<font class="stringliteral">"sepSym"</font>);                        
01525   closeSymToken = insertSimpleToken (<font class="stringliteral">"closeSym"</font>);                              
01526   simpleIdToken = insertSimpleToken (<font class="stringliteral">"simpleId"</font>);                              
01527   mapSymToken = insertSimpleToken (<font class="stringliteral">"mapSym"</font>);                        
01528   markerSymToken = insertSimpleToken (<font class="stringliteral">"markerSym"</font>);
01529   commentSymToken = insertSimpleToken (<font class="stringliteral">"commentSym"</font>); 
01530   synonymToken = insertSimpleToken (<font class="stringliteral">"synonym"</font>);                       
01531 
01532   <font class="keywordflow">for</font> (i = 0; i &lt;= LASTCHAR; i++)
01533     {
01534       defineSingleChar[i] = FALSE;
01535     }
01536   
01537   <font class="comment">/*</font>
01538 <font class="comment">  ** Record the current extension character so can redefine back to         </font>
01539 <font class="comment">  ** singleChar if a new extension character is redefined.                  </font>
01540 <font class="comment">  */</font>
01541 
01542   currentExtensionChar = (charCode) CHAREXTENDER;
01543 
01544   <a class="code" href="scanline_c.html#a6">LSLReportEolTokens</a> (TRUE);
01545   <a class="code" href="ltoken_c.html#a43">ltoken_free</a> (nextToken);
01546   nextToken = <a class="code" href="scan_c.html#a3">LSLScanNextToken</a> ();             
01547 }
01548 
01549 
01550 
01551 
01552 
01553 
01554 
01555 
</div></pre><hr><address><small>Generated at Fri Nov 3 18:57:43 2000 for LCLint by
<a href="http://www.stack.nl/~dimitri/doxygen/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.3 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2000</small></address>
</body>
</html>
