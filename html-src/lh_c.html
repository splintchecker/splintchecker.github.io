<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>lh.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.3 on Fri Nov 3 18:58:00 2000 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>lh.c File Reference</h1><code>#include "lclintMacros.nf"</code><br>
<code>#include "llbasic.h"</code><br>
<code>#include "osd.h"</code><br>
<code>#include "herald.h"</code><br>
<code>#include "lh.h"</code><br>
<code>#include "llmain.h"</code><br>

<p>
<a href="lh_c-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td colspan=2><br><h2>Compounds</h2></td></tr>
<tr><td nowrap align=right valign=top>struct &nbsp;</td><td valign=bottom><a class="el" href="struct_outFile.html">outFile</a></td></tr>
<tr><td colspan=2><br><h2>Defines</h2></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="lh_c.html#a0">TABCH</a>&nbsp;&nbsp;&nbsp;'\1'</td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="lh_c.html#a1">TABINCH</a>&nbsp;&nbsp;&nbsp;'\2'</td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="lh_c.html#a2">TABOUTCH</a>&nbsp;&nbsp;&nbsp;'\3'</td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="lh_c.html#a3">LHTMP_SUFFIX</a>&nbsp;&nbsp;&nbsp;".lh_tmp"</td></tr>
<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td nowrap align=right valign=top>cstring&nbsp;</td><td valign=bottom><a class="el" href="lh_c.html#a11">lhFunction</a> (lclTypeSpecNode lclTypeSpec, declaratorNode declarator)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="lh_c.html#a12">lhForwardStruct</a> (ltoken t)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="lh_c.html#a13">lhForwardUnion</a> (ltoken t)</td></tr>
<tr><td nowrap align=right valign=top>cstring&nbsp;</td><td valign=bottom><a class="el" href="lh_c.html#a14">lhType</a> (typeNode t)</td></tr>
<tr><td nowrap align=right valign=top>cstring&nbsp;</td><td valign=bottom><a class="el" href="lh_c.html#a15">lhVarDecl</a> (lclTypeSpecNode lclTypeSpec, initDeclNodeList initDecls, qualifierKind qualifier)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="lh_c.html#a16">lhCleanup</a> (void)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="lh_c.html#a17">lhIncludeBool</a> (void)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="lh_c.html#a18">lhInit</a> (tsource * f)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="lh_c.html#a19">lhOutLine</a> ( cstring s)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="lh_c.html#a20">lhExternals</a> (interfaceNodeList x)</td></tr>
</table>
<hr><h2>Define Documentation</h2>
<a name="a3" doxytag="lh.c::LHTMP_SUFFIX"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
#define LHTMP_SUFFIX&nbsp;&nbsp;&nbsp;".lh_tmp"
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="lh_c-source.html#l00059">59</a> of file <a class="el" href="lh_c-source.html">lh.c</a>.    </td>
  </tr>
</table>
<a name="a0" doxytag="lh.c::TABCH"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
#define TABCH&nbsp;&nbsp;&nbsp;'\1'
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="lh_c-source.html#l00050">50</a> of file <a class="el" href="lh_c-source.html">lh.c</a>.    </td>
  </tr>
</table>
<a name="a1" doxytag="lh.c::TABINCH"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
#define TABINCH&nbsp;&nbsp;&nbsp;'\2'
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="lh_c-source.html#l00053">53</a> of file <a class="el" href="lh_c-source.html">lh.c</a>.    </td>
  </tr>
</table>
<a name="a2" doxytag="lh.c::TABOUTCH"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
#define TABOUTCH&nbsp;&nbsp;&nbsp;'\3'
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="lh_c-source.html#l00056">56</a> of file <a class="el" href="lh_c-source.html">lh.c</a>.    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a name="a16" doxytag="lh.c::lhCleanup"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void lhCleanup (
          </b></td>
          <td valign="bottom"><b>
void&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="lh_c-source.html#l00291">291</a> of file <a class="el" href="lh_c-source.html">lh.c</a>.<div class="fragment"><pre>00293 {
00294   <font class="keywordflow">if</font> (!genLh)
00295     {
00296       <font class="keywordflow">return</font>;
00297     }
00298   <font class="keywordflow">else</font>
00299     {
00300       FILE *f;
00301       <font class="keywordtype">int</font> c, col = 0, tabcol = 0;
00302       <font class="keywordtype">char</font> *fullname;
00303 
00304       
00305       fullname = mstring_create 
00306         (<a class="code" href="general_c.html#a34">size_toInt</a> (strlen (LhFile.name) + strlen (LHTMP_SUFFIX)));
00307 
00308       f = out_open (LhFile.name, LH_SUFFIX);
00309       llassert (LhFile.f != NULL);
00310 
00311       strcpy (fullname, LhFile.name);
00312       strcat (fullname, LHTMP_SUFFIX);
00313 
00314       <font class="keywordflow">if</font> (f == NULL)
00315         {
00316           <a class="code" href="llerror_c.html#a22">lldiagmsg</a> (message (<font class="stringliteral">"Cannot open lh file for output: %s"</font>, 
00317                               cstring_fromChars (fullname)));
00318         }
00319       <font class="keywordflow">else</font>
00320         {
00321           fprintf (f, <font class="stringliteral">"/* Output from %s */\n"</font>, LCL_PARSE_VERSION);
00322 
00323           rewind (LhFile.f);
00324 
00325           <font class="keywordflow">while</font> (EOF != (c = getc (LhFile.f)))
00326             {
00327               <font class="keywordflow">switch</font> (c)
00328                 {
00329                 <font class="keywordflow">case</font> TABCH:
00330                   <font class="keywordflow">if</font> (col == 0)
00331                     {
00332                       <font class="keywordflow">if</font> (tabcol &gt; 0)
00333                         fprintf (f, <font class="stringliteral">"%*s"</font>, tabcol, <font class="stringliteral">""</font>);
00334                     }
00335                   <font class="keywordflow">else</font>
00336                     {
00337                       check (fputc (<font class="charliteral">' '</font>, f) == (<font class="keywordtype">int</font>) <font class="charliteral">' '</font>);
00338                     }
00339                   <font class="comment">/*@switchbreak@*/</font> <font class="keywordflow">break</font>;
00340                   
00341                 <font class="keywordflow">case</font> TABINCH:
00342                   tabcol += 4;
00343                   <font class="comment">/*@switchbreak@*/</font> <font class="keywordflow">break</font>;
00344                   
00345                 <font class="keywordflow">case</font> TABOUTCH:
00346                   tabcol -= 4;
00347                   <font class="comment">/*@switchbreak@*/</font> <font class="keywordflow">break</font>;
00348                   
00349                 <font class="keywordflow">case</font> <font class="charliteral">'\n'</font>:
00350                   col = 0;
00351                   check (fputc (c, f) == (<font class="keywordtype">int</font>) c);
00352                   <font class="comment">/*@switchbreak@*/</font> <font class="keywordflow">break</font>;
00353                   
00354                 <font class="keywordflow">default</font>:
00355                   col++;
00356                   check (fputc (c, f) == (<font class="keywordtype">int</font>) c);
00357                   <font class="comment">/*@switchbreak@*/</font> <font class="keywordflow">break</font>;
00358                 }
00359             }
00360 
00361           check (fclose (f) == 0);
00362           check (fclose (LhFile.f) == 0);
00363 
00364           (<font class="keywordtype">void</font>) <a class="code" href="osd_c.html#a15">osd_unlink</a> (fullname);
00365           LhFile.f = NULL;
00366         }
00367       
00368       <a class="code" href="general_c.html#a0">sfree</a> (fullname);
00369     }
00370 }
</div></pre>    </td>
  </tr>
</table>
<a name="a20" doxytag="lh.c::lhExternals"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void lhExternals (
          </b></td>
          <td valign="bottom"><b>
interfaceNodeList <em>x</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="lh_c-source.html#l00448">448</a> of file <a class="el" href="lh_c-source.html">lh.c</a>.<div class="fragment"><pre>00449 {
00450   <font class="keywordflow">if</font> (genLh)
00451     {
00452       llassert (LhFile.f != NULL);
00453 
00454       <font class="comment">/*</font>
00455 <font class="comment">      ** Need to make sure all standard library includes come first.</font>
00456 <font class="comment">      */</font>
00457 
00458       interfaceNodeList_elements (x, el)<font class="keyword"></font>
00459 <font class="keyword">        </font>{
00460           <font class="keywordflow">if</font> (el-&gt;kind == INF_IMPORTS)
00461             {
00462               importNodeList imps = el-&gt;content.imports;
00463 
00464               importNodeList_elements (imps, il)<font class="keyword"></font>
00465 <font class="keyword">                </font>{
00466                   <font class="keywordflow">if</font> (il-&gt;kind == IMPBRACKET)
00467                     {
00468                       <a class="code" href="lh_c.html#a19">lhOutLine</a> (message (<font class="stringliteral">"# include &lt;%s.h&gt;"</font>, 
00469                                           ltoken_getRawString (il-&gt;val)));
00470                     }
00471                 } end_importNodeList_elements ;
00472             }
00473         } end_interfaceNodeList_elements;
00474 
00475       <a class="code" href="lh_c.html#a19">lhOutLine</a> (cstring_makeLiteral (<font class="stringliteral">"# include \"bool.h\""</font>));
00476       
00477       interfaceNodeList_elements (x, el)<font class="keyword"></font>
00478 <font class="keyword">        </font>{
00479           <font class="keywordflow">if</font> (el-&gt;kind == INF_IMPORTS)
00480             {
00481               importNodeList imps = el-&gt;content.imports;
00482 
00483               importNodeList_elements (imps, il)<font class="keyword"></font>
00484 <font class="keyword">                </font>{
00485                   <font class="keywordflow">if</font> (il-&gt;kind != IMPBRACKET)
00486                     {
00487                       <a class="code" href="lh_c.html#a19">lhOutLine</a> (message (<font class="stringliteral">"# include \"%s.h\""</font>, 
00488                                           ltoken_getRawString (il-&gt;val)));
00489                     }
00490                 } end_importNodeList_elements ;
00491             }
00492         } end_interfaceNodeList_elements;
00493 
00494       <a class="code" href="lh_c.html#a19">lhOutLine</a> (cstring_undefined);
00495     }
00496 }
</div></pre>    </td>
  </tr>
</table>
<a name="a12" doxytag="lh.c::lhForwardStruct"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void lhForwardStruct (
          </b></td>
          <td valign="bottom"><b>
ltoken <em>t</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="lh_c-source.html#l00176">176</a> of file <a class="el" href="lh_c-source.html">lh.c</a>.
<p>
Referenced by <a class="el" href="abstract_c-source.html#l02036">makeForwardstrOrUnionNode</a>().<div class="fragment"><pre>00177 {
00178   <font class="keywordflow">if</font> (!genLh)
00179     <font class="keywordflow">return</font>;
00180 
00181   <a class="code" href="lh_c.html#a19">lhOutLine</a> (message (<font class="stringliteral">"struct %s;"</font>, ltoken_unparse (t)));
00182 }
</div></pre>    </td>
  </tr>
</table>
<a name="a13" doxytag="lh.c::lhForwardUnion"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void lhForwardUnion (
          </b></td>
          <td valign="bottom"><b>
ltoken <em>t</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="lh_c-source.html#l00186">186</a> of file <a class="el" href="lh_c-source.html">lh.c</a>.
<p>
Referenced by <a class="el" href="abstract_c-source.html#l02036">makeForwardstrOrUnionNode</a>().<div class="fragment"><pre>00187 {
00188   <font class="keywordflow">if</font> (!genLh)
00189     <font class="keywordflow">return</font>;
00190 
00191   <a class="code" href="lh_c.html#a19">lhOutLine</a> (message (<font class="stringliteral">"union %s;"</font>, ltoken_unparse (t)));
00192 }
</div></pre>    </td>
  </tr>
</table>
<a name="a11" doxytag="lh.c::lhFunction"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
cstring lhFunction (
          </b></td>
          <td valign="bottom"><b>
lclTypeSpecNode <em>lclTypeSpec</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
declaratorNode <em>declarator</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="lh_c-source.html#l00103">103</a> of file <a class="el" href="lh_c-source.html">lh.c</a>.<div class="fragment"><pre>00104 {
00105   cstring s;
00106 
00107   <font class="keywordflow">if</font> (!genLh)
00108     <font class="keywordflow">return</font> cstring_undefined;
00109   
00110   s = <a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"extern %q\1%q;"</font>, lhTypeSpecNode (lclTypeSpec),
00111                lhDeclaratorNode (declarator));
00112   
00113   <font class="keywordflow">return</font> s;
00114 }
</div></pre>    </td>
  </tr>
</table>
<a name="a17" doxytag="lh.c::lhIncludeBool"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void lhIncludeBool (
          </b></td>
          <td valign="bottom"><b>
void&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="lh_c-source.html#l00374">374</a> of file <a class="el" href="lh_c-source.html">lh.c</a>.
<p>
Referenced by <a class="el" href="abstract_c-source.html#l05080">makeTypeSpecifier</a>().<div class="fragment"><pre>00375 {
00376   needIncludeBool = TRUE;
00377 }
</div></pre>    </td>
  </tr>
</table>
<a name="a18" doxytag="lh.c::lhInit"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void lhInit (
          </b></td>
          <td valign="bottom"><b>
tsource * <em>f</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="lh_c-source.html#l00404">404</a> of file <a class="el" href="lh_c-source.html">lh.c</a>.<div class="fragment"><pre>00405 {
00406   <font class="keyword">static</font> <font class="keywordtype">bool</font> lherror = FALSE;
00407   
00408   genLh = <a class="code" href="context_c.html#a199">context_msgLh</a> ();
00409   needIncludeBool = FALSE;
00410 
00411   <font class="keywordflow">if</font> (!genLh)
00412     {
00413       <font class="keywordflow">return</font>;
00414     }
00415   
00416   LhFile.name = <a class="code" href="osd_c.html#a3">LSLRootName</a> (tsource_fileName (f));
00417   LhFile.f = out_open (LhFile.name, LHTMP_SUFFIX);
00418 
00419   <font class="keywordflow">if</font> (LhFile.f == NULL)
00420     {
00421       genLh = FALSE;
00422       <font class="keywordflow">if</font> (!lherror)
00423         {
00424           <a class="code" href="llerror_c.html#a55">lclplainerror</a> (message (<font class="stringliteral">"Cannot write .lh file: %s.lh"</font>, 
00425                                   cstring_fromChars (LhFile.name)));
00426           lherror = TRUE;
00427         }
00428     } 
00429 }
</div></pre>    </td>
  </tr>
</table>
<a name="a19" doxytag="lh.c::lhOutLine"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void lhOutLine (
          </b></td>
          <td valign="bottom"><b>
cstring <em>s</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="lh_c-source.html#l00431">431</a> of file <a class="el" href="lh_c-source.html">lh.c</a>.
<p>
Referenced by <a class="el" href="abstract_c-source.html#l00397">interfaceNode_makeFcn</a>(), <a class="el" href="abstract_c-source.html#l00378">interfaceNode_makeType</a>(), <a class="el" href="abstract_c-source.html#l00359">interfaceNode_makeVar</a>(), <a class="el" href="lh_c-source.html#l00448">lhExternals</a>(), <a class="el" href="lh_c-source.html#l00176">lhForwardStruct</a>(), <a class="el" href="lh_c-source.html#l00186">lhForwardUnion</a>(), and <a class="el" href="abstract_c-source.html#l00304">makeInterfaceNodeImports</a>().<div class="fragment"><pre>00432 {
00433   <font class="keywordflow">if</font> (genLh)
00434     {
00435       llassert (LhFile.f != NULL);
00436 
00437       <font class="keywordflow">if</font> (<a class="code" href="cstring_c.html#a30">cstring_length</a> (s) &gt; 0) 
00438         {
00439           check (fputs (cstring_toCharsSafe (s), LhFile.f) != EOF); 
00440         }
00441 
00442       check (fputc (<font class="charliteral">'\n'</font>, LhFile.f) == (<font class="keywordtype">int</font>) <font class="charliteral">'\n'</font>); 
00443     }
00444 
00445   <a class="code" href="cstring_c.html#a27">cstring_free</a> (s);
00446 }
</div></pre>    </td>
  </tr>
</table>
<a name="a14" doxytag="lh.c::lhType"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
cstring lhType (
          </b></td>
          <td valign="bottom"><b>
typeNode <em>t</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="lh_c-source.html#l00195">195</a> of file <a class="el" href="lh_c-source.html">lh.c</a>.<div class="fragment"><pre>00196 {
00197   <font class="keywordflow">if</font> (!genLh)
00198     <font class="keywordflow">return</font> cstring_undefined;
00199 
00200   <font class="keywordflow">if</font> (t-&gt;kind == TK_EXPOSED)
00201     {
00202       exposedNode n = t-&gt;content.exposed;
00203 
00204       <font class="keywordflow">if</font> (n != (exposedNode) 0)
00205         {
00206           <font class="keywordflow">if</font> (declaratorInvNodeList_size (n-&gt;decls) == 0)
00207             {
00208               <font class="comment">/* </font>
00209 <font class="comment">              ** Forward struct or union declaration</font>
00210 <font class="comment">              */</font>
00211 
00212               <font class="keywordflow">return</font> (<a class="code" href="cstring_c.html#a37">cstring_appendChar</a> (lhTypeSpecNode (n-&gt;type), <font class="charliteral">';'</font>));
00213             }
00214           <font class="keywordflow">else</font>
00215             {
00216               cstring s = cstring_undefined;
00217 
00218               declaratorInvNodeList_elements (n-&gt;decls, d)<font class="keyword"></font>
00219 <font class="keyword">                </font>{
00220                   cstring name = <a class="code" href="abstract_c.html#a130">declaratorNode_unparse</a> (d-&gt;declarator);
00221                   cstring pname = <a class="code" href="abstract_c.html#a134">declaratorNode_unparseCode</a> (d-&gt;declarator); 
00222                   
00223                   s = <a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"%q\n# ifndef EXPOSED_TYPE_%q\ntypedef %q %q;\n# endif\n"</font>, 
00224                                s, pname, lhTypeSpecNode (n-&gt;type), name);
00225                 } end_declaratorInvNodeList_elements;
00226               
00227               <font class="keywordflow">return</font> s;
00228             }
00229         }
00230     }
00231 
00232   <font class="keywordflow">return</font> cstring_undefined;
00233 }
</div></pre>    </td>
  </tr>
</table>
<a name="a15" doxytag="lh.c::lhVarDecl"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
cstring lhVarDecl (
          </b></td>
          <td valign="bottom"><b>
lclTypeSpecNode <em>lclTypeSpec</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
initDeclNodeList <em>initDecls</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
qualifierKind <em>qualifier</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="lh_c-source.html#l00247">247</a> of file <a class="el" href="lh_c-source.html">lh.c</a>.<div class="fragment"><pre>00249 {
00250   <font class="keywordtype">bool</font> first = TRUE;
00251   cstring s;
00252 
00253   <font class="keywordflow">if</font> (!genLh)
00254     <font class="keywordflow">return</font> cstring_undefined;
00255 
00256   s = cstring_makeLiteral (<font class="stringliteral">"extern"</font>);
00257 
00258   <font class="keywordflow">switch</font> (qualifier)
00259     {
00260     <font class="keywordflow">case</font> QLF_NONE:
00261       <font class="keywordflow">break</font>;
00262     <font class="keywordflow">case</font> QLF_CONST:
00263       s = <a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"%q const"</font>, s);
00264       <font class="keywordflow">break</font>;
00265     <font class="keywordflow">case</font> QLF_VOLATILE:
00266       s = <a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"%q volatile"</font>, s);
00267       <font class="keywordflow">break</font>;
00268     <font class="keywordflow">default</font>:                    <font class="comment">/* ignore it */</font>
00269       <font class="keywordflow">break</font>;
00270     }
00271   
00272   s = <a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"%q %q\1"</font>, s, lhTypeSpecNode (lclTypeSpec));
00273 
00274   initDeclNodeList_elements (initDecls, i)<font class="keyword"></font>
00275 <font class="keyword">  </font>{
00276     <font class="keywordflow">if</font> (first)
00277       {
00278         s = <a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"%q %q"</font>, s, declaratorNode_unparse (i-&gt;declarator));
00279         first = FALSE;
00280       }
00281     <font class="keywordflow">else</font>
00282       {
00283         s = <a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"%q, %q"</font>, s, declaratorNode_unparse (i-&gt;declarator));
00284       }
00285   } end_initDeclNodeList_elements;
00286   
00287   <font class="keywordflow">return</font> (<a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"%q;"</font>, s));
00288 }
</div></pre>    </td>
  </tr>
</table>
<hr><address><small>Generated at Fri Nov 3 18:58:00 2000 for LCLint by
<a href="http://www.stack.nl/~dimitri/doxygen/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.3 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2000</small></address>
</body>
</html>
