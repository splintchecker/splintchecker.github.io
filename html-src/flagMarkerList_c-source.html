<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>flagMarkerList.c Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.3 on Fri Nov 3 18:57:41 2000 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>flagMarkerList.c</h1><a href="flagMarkerList_c.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">/*</font>
00002 <font class="comment">** LCLint - annotation-assisted static program checker</font>
00003 <font class="comment">** Copyright (C) 1994-2000 University of Virginia,</font>
00004 <font class="comment">**         Massachusetts Institute of Technology</font>
00005 <font class="comment">**</font>
00006 <font class="comment">** This program is free software; you can redistribute it and/or modify it</font>
00007 <font class="comment">** under the terms of the GNU General Public License as published by the</font>
00008 <font class="comment">** Free Software Foundation; either version 2 of the License, or (at your</font>
00009 <font class="comment">** option) any later version.</font>
00010 <font class="comment">** </font>
00011 <font class="comment">** This program is distributed in the hope that it will be useful, but</font>
00012 <font class="comment">** WITHOUT ANY WARRANTY; without even the implied warranty of</font>
00013 <font class="comment">** MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</font>
00014 <font class="comment">** General Public License for more details.</font>
00015 <font class="comment">** </font>
00016 <font class="comment">** The GNU General Public License is available from http://www.gnu.org/ or</font>
00017 <font class="comment">** the Free Software Foundation, Inc., 59 Temple Place - Suite 330, Boston,</font>
00018 <font class="comment">** MA 02111-1307, USA.</font>
00019 <font class="comment">**</font>
00020 <font class="comment">** For information on lclint: lclint-request@cs.virginia.edu</font>
00021 <font class="comment">** To report a bug: lclint-bug@cs.virginia.edu</font>
00022 <font class="comment">** For more information: http://lclint.cs.virginia.edu</font>
00023 <font class="comment">*/</font>
00024 <font class="comment">/*</font>
00025 <font class="comment">** flagMarkerList.c</font>
00026 <font class="comment">**</font>
00027 <font class="comment">** based on list_template.c</font>
00028 <font class="comment">**</font>
00029 <font class="comment">** where T has T_equal (or change this) and T_unparse</font>
00030 <font class="comment">**</font>
00031 <font class="comment">** invariant: flagMarker's are listed in order</font>
00032 <font class="comment">*/</font>
00033 
00034 <font class="preprocessor"># include "lclintMacros.nf"</font>
00035 <font class="preprocessor"># include "basic.h"</font>
00036 
00037 flagMarkerList
<a name="l00038"></a><a class="code" href="flagMarkerList_c.html#a0">00038</a>   <a class="code" href="flagMarkerList_c.html#a0">flagMarkerList_new</a> ()<font class="keyword"></font>
00039 <font class="keyword"></font>{
00040   flagMarkerList s = (flagMarkerList) dmalloc (<font class="keyword">sizeof</font> (*s));
00041   
00042   s-&gt;nelements = 0;
00043   s-&gt;nspace = flagMarkerListBASESIZE; 
00044   s-&gt;elements = (flagMarker *)
00045     dmalloc (<font class="keyword">sizeof</font> (*s-&gt;elements) * flagMarkerListBASESIZE);
00046 
00047   <font class="keywordflow">return</font> (s);
00048 }
00049 
00050 <font class="keyword">static</font> <font class="keywordtype">void</font>
00051 flagMarkerList_grow (flagMarkerList s)<font class="keyword"></font>
00052 <font class="keyword"></font>{
00053   <font class="keywordtype">int</font> i;
00054   flagMarker *newelements;
00055   
00056   s-&gt;nspace += flagMarkerListBASESIZE; 
00057 
00058   newelements = (flagMarker *) dmalloc (<font class="keyword">sizeof</font> (*newelements) 
00059                                         * (s-&gt;nelements + s-&gt;nspace));
00060 
00061   <font class="keywordflow">for</font> (i = 0; i &lt; s-&gt;nelements; i++)
00062     {
00063       newelements[i] = s-&gt;elements[i];
00064     }
00065   
00066   <a class="code" href="general_c.html#a0">sfree</a> (s-&gt;elements);
00067   s-&gt;elements = newelements;
00068 }
00069 
<a name="l00070"></a><a class="code" href="flagMarkerList_c.html#a2">00070</a> <font class="keywordtype">void</font> <a class="code" href="flagMarkerList_c.html#a2">flagMarkerList_add</a> (flagMarkerList s, flagMarker fm)<font class="keyword"></font>
00071 <font class="keyword"></font>{
00072   <font class="keywordtype">int</font> i = s-&gt;nelements - 1;
00073 
00074   
00075   <font class="keywordflow">if</font> (i &gt; 0)
00076     {
00077       flagMarker last = s-&gt;elements[i];
00078 
00079       
00080       <font class="keywordflow">if</font> (flagMarker_isIgnoreCount (last))
00081         {
00082           <font class="keywordflow">if</font> (!flagMarker_isIgnoreOff (fm))
00083             {
00084               <font class="keywordflow">if</font> (flagMarker_isLocalSet (fm))
00085                 {
00086                   llforceerror 
00087                     (FLG_WARNFLAGS,
00088                      cstring_makeLiteral (<font class="stringliteral">"Cannot set flag inside ignore "</font>
00089                                           <font class="stringliteral">"count region."</font>),
00090                      flagMarker_getLoc (fm));
00091                   llgenindentmsg 
00092                     (cstring_makeLiteral (<font class="stringliteral">"Ignore count region starts"</font>),
00093                      flagMarker_getLoc (last));
00094 
00095                 }
00096               <font class="keywordflow">else</font> 
00097                 {
00098                   <font class="keywordflow">if</font> (flagMarker_isIgnoreOn (fm)) 
00099                     {
00100                       llforceerror 
00101                         (FLG_WARNFLAGS,
00102                          cstring_makeLiteral (<font class="stringliteral">"Cannot nest ignore regions."</font>),
00103                          flagMarker_getLoc (fm));
00104                       llgenindentmsg 
00105                         (cstring_makeLiteral (<font class="stringliteral">"Previous ignore region starts"</font>),
00106                          flagMarker_getLoc (last));
00107                     }
00108                 }
00109 
00110               <a class="code" href="flagMarker_c.html#a9">flagMarker_free</a> (fm);
00111               <font class="keywordflow">return</font>;
00112             }
00113         }
00114       <font class="keywordflow">else</font> 
00115         {
00116           <font class="keywordflow">if</font> (flagMarker_isIgnoreOff (last))
00117             {
00118               flagMarker nlast = s-&gt;elements [i - 1];
00119               
00120               <font class="keywordflow">if</font> (flagMarker_isIgnoreCount (nlast))
00121                 {
00122                   <font class="keywordflow">if</font> (<a class="code" href="fileloc_c.html#a17">fileloc_sameFile</a> (flagMarker_getLoc (fm),
00123                                         flagMarker_getLoc (last))
00124                       &amp;&amp; <a class="code" href="fileloc_c.html#a15">fileloc_notAfter</a> (flagMarker_getLoc (fm), 
00125                                            flagMarker_getLoc (last)))
00126                     {
00127                       <font class="keywordflow">if</font> (flagMarker_isLocalSet (fm))
00128                         {
00129                           llforceerror 
00130                             (FLG_WARNFLAGS,
00131                              cstring_makeLiteral (<font class="stringliteral">"Cannot set flag inside ignore "</font>
00132                                                   <font class="stringliteral">"count region."</font>),
00133                              flagMarker_getLoc (fm));
00134                           llgenindentmsg 
00135                             (cstring_makeLiteral (<font class="stringliteral">"Ignore count region starts"</font>),
00136                              flagMarker_getLoc (nlast));
00137                           
00138                         }
00139                       <font class="keywordflow">else</font> 
00140                         {
00141                           <font class="keywordflow">if</font> (flagMarker_isIgnoreOn (fm)) 
00142                             {
00143                               llforceerror 
00144                                 (FLG_WARNFLAGS,
00145                                  cstring_makeLiteral (<font class="stringliteral">"Cannot nest ignore regions."</font>),
00146                                  flagMarker_getLoc (fm));
00147                               llgenindentmsg 
00148                                 (cstring_makeLiteral (<font class="stringliteral">"Previous ignore region starts"</font>),
00149                                  flagMarker_getLoc (nlast));
00150                             }
00151                         }
00152                       
00153                       <a class="code" href="flagMarker_c.html#a9">flagMarker_free</a> (fm);
00154                       <font class="keywordflow">return</font>;
00155                     }
00156                 }
00157             }
00158         }
00159     }
00160 
00161   
00162   <font class="comment">/*</font>
00163 <font class="comment">  ** all this code is necessary to check the invariant is preserved</font>
00164 <font class="comment">  */</font>
00165 
00166   <font class="keywordflow">while</font> (i &gt; 0
00167          &amp;&amp; !<a class="code" href="flagMarker_c.html#a10">flagMarker_sameFile</a> (s-&gt;elements[i],
00168                                   flagMarker_getLoc (fm))) 
00169     {
00170       i--;
00171     }
00172 
00173   <font class="comment">/*</font>
00174 <font class="comment">  ** reprocessing header file, okay to be out of order</font>
00175 <font class="comment">  */</font>
00176 
00177   <font class="keywordflow">if</font> (i &gt;= 0 &amp;&amp; !<a class="code" href="fileloc_c.html#a43">fileloc_isHeader</a> (flagMarker_getLoc (fm)))
00178     {
00179                   
00180       <font class="comment">/*</font>
00181 <font class="comment">      llassert (!flagMarker_beforeMarker (s-&gt;elements[i], </font>
00182 <font class="comment">                                          flagMarker_getLoc (fm)));</font>
00183 <font class="comment">                                          */</font>
00184     }
00185 
00186   <font class="keywordflow">if</font> (s-&gt;nspace &lt;= 0)
00187     {
00188       flagMarkerList_grow (s);
00189     }
00190   
00191   s-&gt;nspace--;
00192   s-&gt;elements[s-&gt;nelements] = fm;
00193   s-&gt;nelements++;
00194   }
00195 
<a name="l00196"></a><a class="code" href="flagMarkerList_c.html#a3">00196</a> <font class="keywordtype">void</font> <a class="code" href="flagMarkerList_c.html#a3">flagMarkerList_checkSuppressCounts</a> (flagMarkerList s)<font class="keyword"></font>
00197 <font class="keyword"></font>{
00198   <font class="keywordtype">int</font> nexpected = 0;
00199   <font class="keywordtype">int</font> nsuppressed = 0;
00200   fileloc loc = fileloc_undefined;
00201   <font class="keywordtype">bool</font> inCount = FALSE;
00202   <font class="keywordtype">int</font> i;
00203 
00204   
00205   <font class="keywordflow">for</font> (i = 0; i &lt; s-&gt;nelements; i++)
00206     {
00207       flagMarker current = s-&gt;elements[i];
00208 
00209       <font class="keywordflow">if</font> (flagMarker_isIgnoreCount (current))
00210         {
00211           llassert (!inCount);
00212           inCount = TRUE;
00213           nexpected = <a class="code" href="flagMarker_c.html#a7">flagMarker_getCount</a> (current);
00214           loc = flagMarker_getLoc (current);
00215           nsuppressed = 0;
00216                 }
00217       <font class="keywordflow">else</font> <font class="keywordflow">if</font> (flagMarker_isIgnoreOff (current))
00218         {
00219           <font class="keywordflow">if</font> (inCount)
00220             {
00221               inCount = FALSE;
00222               llassert (fileloc_isDefined (loc));
00223 
00224               <font class="keywordflow">if</font> (nexpected &gt; 0 &amp;&amp; nexpected != nsuppressed)
00225                 {
00226                   llforceerror 
00227                     (FLG_SUPCOUNTS,
00228                      message 
00229                      (<font class="stringliteral">"Line expects to suppress %d error%p, found %d error%p"</font>,
00230                       nexpected, nsuppressed),
00231                      loc);
00232                 }
00233             }
00234         }
00235       <font class="keywordflow">else</font> <font class="keywordflow">if</font> (flagMarker_isSuppress (current))
00236         {
00237           nsuppressed++;
00238         }
00239       <font class="keywordflow">else</font>
00240         {
00241           ;
00242         }
00243     }
00244 
00245   llassert (!inCount);
00246 }
00247 
00248 <font class="keyword">static</font> <font class="keywordtype">void</font> flagMarkerList_splice (flagMarkerList s, 
00249                                    <font class="keywordtype">int</font> index,
00250                                    <font class="comment">/*@keep@*/</font> flagMarker fm)<font class="keyword"></font>
00251 <font class="keyword"></font>{
00252   fileloc loc = flagMarker_getLoc (fm);
00253   fileloc beforeloc, afterloc;
00254   <font class="keywordtype">int</font> i;
00255 
00256   llassert (index &gt;= 0 &amp;&amp; (index + 1 &lt; s-&gt;nelements));
00257   
00258   beforeloc = flagMarker_getLoc (s-&gt;elements[index]);
00259   afterloc = flagMarker_getLoc (s-&gt;elements[index + 1]);;
00260   
00261   llassert (fileloc_sameFile (beforeloc, loc));
00262   llassert (fileloc_sameFile (afterloc, loc));
00263 
00264   <font class="keywordflow">if</font> (s-&gt;nspace &lt;= 0)
00265     {
00266       flagMarkerList_grow (s);
00267     }
00268   
00269   <font class="keywordflow">for</font> (i = s-&gt;nelements; i &gt; index + 1; i--)
00270     {
00271       s-&gt;elements[i] = s-&gt;elements[i - 1];
00272     }
00273 
00274   s-&gt;elements[index + 1] = fm;
00275   s-&gt;nelements++;
00276   s-&gt;nspace--;
00277 
00278   }
00279 
00280 <font class="comment">/*@only@*/</font> cstring
<a name="l00281"></a><a class="code" href="flagMarkerList_c.html#a5">00281</a> <a class="code" href="flagMarkerList_c.html#a5">flagMarkerList_unparse</a> (flagMarkerList s)<font class="keyword"></font>
00282 <font class="keyword"></font>{
00283    <font class="keywordtype">int</font> i;
00284    cstring st = cstring_makeLiteral (<font class="stringliteral">"["</font>);
00285 
00286    <font class="keywordflow">for</font> (i = 0; i &lt; s-&gt;nelements; i++)
00287      {
00288        <font class="keywordflow">if</font> (i == 0)
00289          {
00290            st = <a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"%q %q"</font>, st, flagMarker_unparse (s-&gt;elements[i]));
00291          }
00292        <font class="keywordflow">else</font>
00293          st = <a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"%q, %q"</font>, st, flagMarker_unparse (s-&gt;elements[i]));
00294      }
00295    
00296    st = <a class="code" href="message_c.html#a18">message</a> (<font class="stringliteral">"%q ]"</font>, st);
00297    <font class="keywordflow">return</font> st;
00298 }
00299 
00300 <font class="keywordtype">void</font>
<a name="l00301"></a><a class="code" href="flagMarkerList_c.html#a6">00301</a> <a class="code" href="flagMarkerList_c.html#a6">flagMarkerList_free</a> (flagMarkerList s)<font class="keyword"></font>
00302 <font class="keyword"></font>{
00303   <font class="keywordtype">int</font> i;
00304   <font class="keywordflow">for</font> (i = 0; i &lt; s-&gt;nelements; i++)
00305     {
00306       <a class="code" href="flagMarker_c.html#a9">flagMarker_free</a> (s-&gt;elements[i]);
00307     }
00308   
00309   <a class="code" href="general_c.html#a0">sfree</a> (s-&gt;elements); 
00310   <a class="code" href="general_c.html#a0">sfree</a> (s);
00311 }
00312 
00313 <font class="comment">/*</font>
00314 <font class="comment">** returns YES iff</font>
00315 <font class="comment">**    &gt; in ignore region (there is an ignore ON marker not followed by OFF)</font>
00316 <font class="comment">**    &gt; code is OFF (-)</font>
00317 <font class="comment">**</font>
00318 <font class="comment">** returns NO iff</font>
00319 <font class="comment">**    &gt; not in ignore region</font>
00320 <font class="comment">**    &gt; code is ON (+)</font>
00321 <font class="comment">**</font>
00322 <font class="comment">** returns MAYBE iff</font>
00323 <font class="comment">**    &gt; not in ignore region</font>
00324 <font class="comment">**    &gt; code is unset or =</font>
00325 <font class="comment">**</font>
00326 <font class="comment">** requires: invariant for flagMarkerList:</font>
00327 <font class="comment">**    flagMarker's are sorted by line and col</font>
00328 <font class="comment">*/</font>
00329 
00330 <font class="keyword">static</font> <font class="keywordtype">int</font>
00331 flagMarkerList_lastBeforeLoc (flagMarkerList s, fileloc loc)<font class="keyword"></font>
00332 <font class="keyword"></font>{
00333   <font class="keywordtype">int</font> i;
00334 
00335   <font class="keywordflow">for</font> (i = s-&gt;nelements - 1; i &gt;= 0; i--) 
00336     {
00337       flagMarker current = s-&gt;elements[i];
00338       
00339       <font class="keywordflow">if</font> (<a class="code" href="fileloc_c.html#a17">fileloc_sameFile</a> (current-&gt;loc, loc) 
00340           &amp;&amp; (!<a class="code" href="flagMarker_c.html#a11">flagMarker_beforeMarker</a> (current, loc)))
00341         {
00342           <font class="keywordflow">return</font> i;
00343         }
00344 <font class="comment">/*</font>
00345 <font class="comment">      if (flagMarker_sameFile (current, loc) </font>
00346 <font class="comment">          &amp;&amp; (!flagMarker_beforeMarker (current, loc)))</font>
00347 <font class="comment">        {</font>
00348 <font class="comment">          return i;</font>
00349 <font class="comment">        }</font>
00350 <font class="comment">*/</font>
00351     }
00352 
00353   <font class="keywordflow">return</font> -1;
00354 }
00355           
00356 ynm
<a name="l00357"></a><a class="code" href="flagMarkerList_c.html#a8">00357</a> <a class="code" href="flagMarkerList_c.html#a8">flagMarkerList_suppressError</a> (flagMarkerList s, flagcode code, fileloc loc)<font class="keyword"></font>
00358 <font class="keyword"></font>{
00359   <font class="keywordtype">int</font> i;
00360   <font class="keywordtype">bool</font> ignoreOff = FALSE;
00361   <font class="keywordtype">bool</font> nameChecksOff = FALSE;
00362   <font class="keywordtype">bool</font> flagOff = FALSE;
00363   ynm flagSet = MAYBE;
00364   <font class="keywordtype">bool</font> islib = FALSE;
00365   <font class="keywordtype">bool</font> isNameChecksFlag = <a class="code" href="flags_c.html#a19">flagcode_isNameChecksFlag</a> (code);
00366 
00367   <font class="keywordflow">if</font> (<a class="code" href="fileloc_c.html#a47">fileloc_isLib</a> (loc))
00368     {
00369       i = s-&gt;nelements - 1;
00370       islib = TRUE;
00371     }
00372   <font class="keywordflow">else</font>
00373     {
00374       i = flagMarkerList_lastBeforeLoc (s, loc);
00375     }
00376 
00377   
00378   <font class="keywordflow">if</font> (i &lt; 0)
00379     {
00380       <font class="keywordflow">return</font> MAYBE;
00381     }
00382   
00383   <font class="comment">/*</font>
00384 <font class="comment">  ** Go backwards through the remaining flagMarkers in this file.</font>
00385 <font class="comment">  */</font>
00386 
00387   <font class="keywordflow">for</font> (; i &gt;= 0; i--) 
00388     {
00389       flagMarker current = s-&gt;elements[i];
00390 
00391       
00392       <font class="keywordflow">if</font> (!islib &amp;&amp; !<a class="code" href="flagMarker_c.html#a10">flagMarker_sameFile</a> (current, loc))
00393         {
00394           <font class="keywordflow">break</font>;
00395         }
00396 
00397       <font class="keywordflow">if</font> (flagMarker_isIgnoreOff (current))
00398         {
00399           ignoreOff = TRUE;
00400         }
00401       <font class="keywordflow">else</font> <font class="keywordflow">if</font> (flagMarker_isIgnoreOn (current))
00402         {
00403           <font class="keywordflow">if</font> (!ignoreOff)
00404             {
00405               <font class="keywordflow">return</font> YES;
00406             }
00407         }
00408       <font class="keywordflow">else</font> <font class="keywordflow">if</font> (flagMarker_isIgnoreCount (current))
00409         {
00410           <font class="keywordflow">if</font> (!ignoreOff)
00411             {
00412               flagMarkerList_splice (s, i,
00413                                      flagMarker_createSuppress (code, loc));
00414               <font class="keywordflow">return</font> YES;
00415             }
00416         }
00417       <font class="keywordflow">else</font> <font class="keywordflow">if</font> (flagMarker_isLocalSet (current))
00418         {
00419           
00420           <font class="keywordflow">if</font> (!flagOff &amp;&amp; <a class="code" href="flagMarker_c.html#a6">flagMarker_getCode</a> (current) == code)
00421             {
00422               ynm set  = <a class="code" href="flagMarker_c.html#a5">flagMarker_getSet</a> (current);
00423               
00424               <font class="keywordflow">if</font> (ynm_isOff (set))
00425                 {
00426                   <font class="keywordflow">return</font> YES;
00427                 }
00428               <font class="keywordflow">else</font>
00429                 {
00430                   <font class="keywordflow">if</font> (ynm_isOn (set))
00431                     {
00432                       flagOff = TRUE;
00433                       flagSet = NO;
00434                     }
00435                   <font class="keywordflow">else</font>
00436                     {
00437                                       flagOff = TRUE;
00438                       flagSet = MAYBE;
00439                     }
00440                   
00441                   <font class="keywordflow">if</font> (ignoreOff)
00442                     {
00443                       <font class="keywordflow">if</font> (isNameChecksFlag &amp;&amp; !nameChecksOff)
00444                         {
00445                           ;
00446                         }
00447                       <font class="keywordflow">else</font>
00448                         {
00449                           <font class="keywordflow">return</font> flagSet;
00450                         }
00451                     }
00452                 }
00453             }
00454           
00455           <font class="keywordflow">if</font> (<a class="code" href="flagMarker_c.html#a6">flagMarker_getCode</a> (current) == FLG_NAMECHECKS
00456               &amp;&amp; !nameChecksOff &amp;&amp; isNameChecksFlag)
00457             {
00458               ynm set  = <a class="code" href="flagMarker_c.html#a5">flagMarker_getSet</a> (current);
00459               
00460               <font class="keywordflow">if</font> (ynm_isOff (set))
00461                 {
00462                   <font class="keywordflow">return</font> YES;
00463                 }
00464               <font class="keywordflow">else</font>
00465                 {
00466                   <font class="keywordflow">if</font> (ynm_isOn (set))
00467                     {
00468                       nameChecksOff = TRUE;
00469                       flagSet = NO;
00470                     }
00471                   <font class="keywordflow">else</font>
00472                     {
00473                                       nameChecksOff = TRUE;
00474                       flagSet = MAYBE;
00475                     }
00476                   
00477                   <font class="keywordflow">if</font> (ignoreOff &amp;&amp; flagOff)
00478                     {
00479                       <font class="keywordflow">return</font> flagSet;
00480                     }
00481                 }
00482             }
00483         }
00484       <font class="keywordflow">else</font>
00485         {
00486           llassert (flagMarker_isSuppress (current));
00487         }
00488     }
00489   
00490   <font class="keywordflow">return</font> flagSet;
00491 }
00492 
00493 <font class="keywordtype">bool</font>
<a name="l00494"></a><a class="code" href="flagMarkerList_c.html#a9">00494</a> <a class="code" href="flagMarkerList_c.html#a9">flagMarkerList_inIgnore</a> (flagMarkerList s, fileloc loc)<font class="keyword"></font>
00495 <font class="keyword"></font>{
00496   <font class="keywordtype">int</font> i;
00497 
00498   <font class="keywordflow">if</font> (<a class="code" href="fileloc_c.html#a47">fileloc_isLib</a> (loc))
00499     {
00500       <font class="keywordflow">return</font> FALSE;
00501     }
00502 
00503   i = flagMarkerList_lastBeforeLoc (s, loc);
00504   
00505   <font class="comment">/*</font>
00506 <font class="comment">  ** Go backwards through the remaining flagMarkers in this file.</font>
00507 <font class="comment">  */</font>
00508 
00509   <font class="keywordflow">for</font> (; i &gt;= 0; i--) 
00510     {
00511       flagMarker current = s-&gt;elements[i];
00512       
00513       <font class="keywordflow">if</font> (!<a class="code" href="flagMarker_c.html#a10">flagMarker_sameFile</a> (current, loc))
00514         {
00515           <font class="keywordflow">break</font>;
00516         }
00517 
00518       <font class="keywordflow">if</font> (flagMarker_isIgnoreOff (current))
00519         {
00520           <font class="keywordflow">return</font> FALSE;;
00521         }
00522       <font class="keywordflow">else</font> <font class="keywordflow">if</font> (flagMarker_isIgnoreOn (current))
00523         {
00524           <font class="keywordflow">return</font> TRUE;
00525         }
00526       <font class="keywordflow">else</font> <font class="keywordflow">if</font> (flagMarker_isIgnoreCount (current))
00527         {
00528           flagMarkerList_splice (s, i,
00529                                  flagMarker_createSuppress (SKIP_FLAG, loc));
00530           <font class="keywordflow">return</font> TRUE;
00531         }
00532       <font class="keywordflow">else</font>
00533         {
00534           llassert (flagMarker_isLocalSet (current)
00535                     || flagMarker_isSuppress (current));
00536         }
00537     }
00538   
00539   <font class="keywordflow">return</font> FALSE;
00540 }
00541 
</div></pre><hr><address><small>Generated at Fri Nov 3 18:57:41 2000 for LCLint by
<a href="http://www.stack.nl/~dimitri/doxygen/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.3 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2000</small></address>
</body>
</html>
