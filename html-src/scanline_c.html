<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>scanline.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.3 on Fri Nov 3 18:58:04 2000 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>scanline.c File Reference</h1><code>#include "lclintMacros.nf"</code><br>
<code>#include "llbasic.h"</code><br>
<code>#include "signature.h"</code><br>
<code>#include "signature2.h"</code><br>
<code>#include "scan.h"</code><br>
<code>#include "scanline.h"</code><br>
<code>#include "tokentable.h"</code><br>
<code>#include "syntable.h"</code><br>

<p>
<a href="scanline_c-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td colspan=2><br><h2>Defines</h2></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="scanline_c.html#a0">MOVECHAR</a>()   &nbsp;&nbsp;&nbsp;do { *bufptr++ = c; c = *currentLine++; colNumber++; } while (FALSE)</td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="scanline_c.html#a1">MAXCHAR</a>&nbsp;&nbsp;&nbsp;512</td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="scanline_c.html#a2">TABSIZE</a>&nbsp;&nbsp;&nbsp;8</td></tr>
<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="scanline_c.html#a4">lscanLine</a> (char *currentLine)</td></tr>
<tr><td nowrap align=right valign=top>ltoken&nbsp;</td><td valign=bottom><a class="el" href="scanline_c.html#a5">LSLScanEofToken</a> (void)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="scanline_c.html#a6">LSLReportEolTokens</a> (bool setting)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="scanline_c.html#a7">lscanLineInit</a> (void)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="scanline_c.html#a8">lscanLineReset</a> (void)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="scanline_c.html#a9">lscanLineCleanup</a> (void)</td></tr>
<tr><td nowrap align=right valign=top>charCode&nbsp;</td><td valign=bottom><a class="el" href="scanline_c.html#a10">lscanCharClass</a> (char c)</td></tr>
<tr><td nowrap align=right valign=top>bool&nbsp;</td><td valign=bottom><a class="el" href="scanline_c.html#a11">LSLIsEndComment</a> (char c)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="scanline_c.html#a12">lsetCharClass</a> (char c, charCode cod)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="scanline_c.html#a13">lsetEndCommentChar</a> (char c, bool flag)</td></tr>
</table>
<hr><h2>Define Documentation</h2>
<a name="a1" doxytag="scanline.c::MAXCHAR"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
#define MAXCHAR&nbsp;&nbsp;&nbsp;512
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="scanline_c-source.html#l00055">55</a> of file <a class="el" href="scanline_c-source.html">scanline.c</a>.    </td>
  </tr>
</table>
<a name="a0" doxytag="scanline.c::MOVECHAR"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
#define MOVECHAR(
          </b></td>
          <td valign="bottom"><b>
)&nbsp;&nbsp;&nbsp;do { *bufptr++ = c; c = *currentLine++; colNumber++; } while (FALSE)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="scanline_c-source.html#l00052">52</a> of file <a class="el" href="scanline_c-source.html">scanline.c</a>.
<p>
Referenced by <a class="el" href="scanline_c-source.html#l00393">lscanLine</a>().    </td>
  </tr>
</table>
<a name="a2" doxytag="scanline.c::TABSIZE"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
#define TABSIZE&nbsp;&nbsp;&nbsp;8
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="scanline_c-source.html#l00058">58</a> of file <a class="el" href="scanline_c-source.html">scanline.c</a>.    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a name="a11" doxytag="scanline.c::LSLIsEndComment"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
bool LSLIsEndComment (
          </b></td>
          <td valign="bottom"><b>
char <em>c</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="scanline_c-source.html#l00809">809</a> of file <a class="el" href="scanline_c-source.html">scanline.c</a>.
<p>
Referenced by <a class="el" href="scanline_c-source.html#l00393">lscanLine</a>().<div class="fragment"><pre>00810 {
00811   <font class="keywordflow">return</font> charClass[(<font class="keywordtype">int</font>)(c)].endCommentChar;
00812 }
</div></pre>    </td>
  </tr>
</table>
<a name="a6" doxytag="scanline.c::LSLReportEolTokens"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void LSLReportEolTokens (
          </b></td>
          <td valign="bottom"><b>
bool <em>setting</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="scanline_c-source.html#l00662">662</a> of file <a class="el" href="scanline_c-source.html">scanline.c</a>.
<p>
Referenced by <a class="el" href="lslinit_c-source.html#l01496">LSLProcessInitFileInit</a>(), <a class="el" href="lslparse_c-source.html#l00113">parseOpLine</a>(), and <a class="el" href="lslparse_c-source.html#l00055">parseSignatures</a>().<div class="fragment"><pre>00663 {
00664   reportEOL = setting;
00665 }
</div></pre>    </td>
  </tr>
</table>
<a name="a5" doxytag="scanline.c::LSLScanEofToken"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
ltoken LSLScanEofToken (
          </b></td>
          <td valign="bottom"><b>
void&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="scanline_c-source.html#l00650">650</a> of file <a class="el" href="scanline_c-source.html">scanline.c</a>.
<p>
Referenced by <a class="el" href="scan_c-source.html#l00070">LSLScanNextToken</a>().<div class="fragment"><pre>00651 {
00652   ltoken t = <a class="code" href="ltoken_c.html#a39">ltoken_copy</a> (LSLInsertToken (LEOFTOKEN, 
00653                                           lsymbol_fromChars (<font class="stringliteral">"E O F"</font>),
00654                                           0, TRUE));
00655   ltoken_setCol (t, colNumber);
00656   ltoken_setLine (t, tsource_thisLineNumber (LSLScanSource ()));
00657   ltoken_setFileName (t, tsource_fileName (LSLScanSource ()));
00658   <font class="keywordflow">return</font> t;
00659 }
</div></pre>    </td>
  </tr>
</table>
<a name="a10" doxytag="scanline.c::lscanCharClass"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
charCode lscanCharClass (
          </b></td>
          <td valign="bottom"><b>
char <em>c</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="scanline_c-source.html#l00804">804</a> of file <a class="el" href="scanline_c-source.html">scanline.c</a>.
<p>
Referenced by <a class="el" href="lslinit_c-source.html#l00047">LTRACE</a>(), and <a class="el" href="scanline_c-source.html#l00393">lscanLine</a>().<div class="fragment"><pre>00805 {
00806   <font class="keywordflow">return</font> charClass[(<font class="keywordtype">int</font>)(c)].code;
00807 }
</div></pre>    </td>
  </tr>
</table>
<a name="a4" doxytag="scanline.c::lscanLine"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void lscanLine (
          </b></td>
          <td valign="bottom"><b>
char * <em>currentLine</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="scanline_c-source.html#l00393">393</a> of file <a class="el" href="scanline_c-source.html">scanline.c</a>.
<p>
Referenced by <a class="el" href="scan_c-source.html#l00070">LSLScanNextToken</a>().<div class="fragment"><pre>00394 {
00395   ltokenCode cod;        
00396   lsymbol sym;          
00397   <font class="keyword">register</font> <font class="keywordtype">char</font> c;      
00398   <font class="keyword">register</font> <font class="keywordtype">char</font> *bufptr;
00399   ltoken newToken;      
00400 
00401   c = *currentLine++;   
00402   colNumber = 0;        
00403 
00404   <font class="keywordflow">for</font> (;;)
00405     {                   
00406       bufptr = &amp;tokenBuffer[0]; 
00407       startCol = colNumber;     
00408 
00409       <font class="comment">/*@-loopswitchbreak@*/</font>
00410       <font class="keywordflow">switch</font> (<a class="code" href="scanline_c.html#a10">lscanCharClass</a> (c))
00411         {                       
00412 
00413         <font class="keywordflow">case</font> CHC_NULL:  
00414           sym = <a class="code" href="lsymbol_c.html#a14">lsymbol_fromChars</a> (<font class="stringliteral">"E O L"</font>);
00415           cod = LST_EOL;
00416           <font class="keywordflow">break</font>;
00417           
00418          <font class="comment">/* Identifiers */</font>
00419 
00420         <font class="keywordflow">case</font> IDCHAR:
00421 
00422           <font class="keywordflow">while</font> (<a class="code" href="scanline_c.html#a10">lscanCharClass</a> (c) == IDCHAR)
00423             {                   
00424               <a class="code" href="scanline_c.html#a0">MOVECHAR</a> ();
00425             }
00426 
00427           *bufptr = <font class="charliteral">'\0'</font>;       
00428           sym = <a class="code" href="lsymbol_c.html#a14">lsymbol_fromChars</a> (&amp;tokenBuffer[0]);
00429           cod = LST_SIMPLEID;
00430           <font class="keywordflow">break</font>;
00431 
00432          <font class="comment">/* One-character tokens */</font>
00433 
00434         <font class="keywordflow">case</font> SINGLECHAR:
00435         <font class="keywordflow">case</font> PERMCHAR:          
00436           <a class="code" href="scanline_c.html#a0">MOVECHAR</a> ();
00437           *bufptr = <font class="charliteral">'\0'</font>;       
00438           sym = <a class="code" href="lsymbol_c.html#a14">lsymbol_fromChars</a> (&amp;tokenBuffer[0]);
00439           cod = LST_SIMPLEOP;
00440           <font class="keywordflow">break</font>;
00441 
00442         <font class="keywordflow">case</font> SLASHCHAR:
00443           <font class="keywordflow">if</font> (*currentLine == <font class="charliteral">'\\'</font>)
00444             {
00445               <a class="code" href="scanline_c.html#a0">MOVECHAR</a> ();
00446               <a class="code" href="scanline_c.html#a0">MOVECHAR</a> ();
00447               *bufptr = <font class="charliteral">'\0'</font>;
00448               sym = <a class="code" href="lsymbol_c.html#a14">lsymbol_fromChars</a> (&amp;tokenBuffer[0]);
00449               cod = LST_SIMPLEOP;
00450               <font class="keywordflow">break</font>;
00451             }
00452           <a class="code" href="scanline_c.html#a0">MOVECHAR</a> ();
00453           <font class="comment">/* We fall through to next case if we have / followed  */</font>
00454           <font class="comment">/* by anything else.                                   */</font>
00455           <font class="comment">/*@fallthrough@*/</font>
00456         <font class="keywordflow">case</font> OPCHAR: 
00457 
00458          <font class="comment">/* Operator symbols */</font>
00459 
00460          <font class="comment">/* possible multi character */</font>
00461           <font class="keywordflow">while</font> (<a class="code" href="scanline_c.html#a10">lscanCharClass</a> (c) == OPCHAR)
00462             {                   
00463               <a class="code" href="scanline_c.html#a0">MOVECHAR</a> ();
00464             }
00465 
00466           *bufptr = <font class="charliteral">'\0'</font>;       <font class="comment">/* null terminate in buffer */</font>
00467           sym = <a class="code" href="lsymbol_c.html#a14">lsymbol_fromChars</a> (&amp;tokenBuffer[0]);
00468           cod = LST_SIMPLEOP;
00469           <font class="keywordflow">break</font>;
00470 
00471          <font class="comment">/* White space */</font>
00472         <font class="keywordflow">case</font> WHITECHAR:
00473           <font class="comment">/*@-switchswitchbreak@*/</font>
00474           <font class="keywordflow">switch</font> (c)
00475             {
00476             <font class="keywordflow">case</font> <font class="charliteral">'\t'</font>:
00477               <a class="code" href="scanline_c.html#a0">MOVECHAR</a> ();
00478               colNumber--;
00479               colNumber += TABSIZE;
00480               colNumber -= (colNumber % TABSIZE);
00481               <font class="keywordflow">break</font>;
00482 
00483             <font class="keywordflow">case</font> <font class="charliteral">'\v'</font>:
00484             <font class="keywordflow">case</font> <font class="charliteral">'\f'</font>:
00485               <a class="code" href="scanline_c.html#a0">MOVECHAR</a> ();
00486               colNumber--;
00487               <font class="keywordflow">break</font>;
00488 
00489             <font class="keywordflow">default</font>:
00490               <a class="code" href="scanline_c.html#a0">MOVECHAR</a> ();
00491               <font class="keywordflow">break</font>;
00492             }
00493           *bufptr = <font class="charliteral">'\0'</font>;       
00494           sym = <a class="code" href="lsymbol_c.html#a14">lsymbol_fromChars</a> (&amp;tokenBuffer[0]);
00495           cod = LST_WHITESPACE;
00496           <font class="keywordflow">break</font>;
00497 
00498         <font class="keywordflow">case</font> CHC_EXTENSION:     
00499           <a class="code" href="scanline_c.html#a0">MOVECHAR</a> ();
00500 
00501           <font class="keywordflow">switch</font> (c)
00502             {                   
00503 
00504              <font class="comment">/* open and close */</font>
00505             <font class="keywordflow">case</font> <font class="charliteral">'('</font>:           
00506               <a class="code" href="scanline_c.html#a0">MOVECHAR</a> ();
00507               <font class="keywordflow">while</font> (<a class="code" href="scanline_c.html#a10">lscanCharClass</a> (c) == IDCHAR)
00508                 {               
00509                   <a class="code" href="scanline_c.html#a0">MOVECHAR</a> ();
00510                 }
00511               *bufptr = <font class="charliteral">'\0'</font>;   
00512               sym = <a class="code" href="lsymbol_c.html#a14">lsymbol_fromChars</a> (&amp;tokenBuffer[0]);
00513               cod = LST_OPENSYM;
00514               <font class="keywordflow">break</font>;
00515 
00516             <font class="keywordflow">case</font> <font class="charliteral">')'</font>:           
00517               <a class="code" href="scanline_c.html#a0">MOVECHAR</a> ();
00518               <font class="keywordflow">while</font> (<a class="code" href="scanline_c.html#a10">lscanCharClass</a> (c) == IDCHAR)
00519                 {               
00520                   <a class="code" href="scanline_c.html#a0">MOVECHAR</a> ();
00521                 }
00522               *bufptr = <font class="charliteral">'\0'</font>;   
00523               sym = <a class="code" href="lsymbol_c.html#a14">lsymbol_fromChars</a> (&amp;tokenBuffer[0]);
00524               cod = LST_CLOSESYM;
00525               <font class="keywordflow">break</font>;
00526 
00527              <font class="comment">/* separator */</font>
00528             <font class="keywordflow">case</font> <font class="charliteral">','</font>:           
00529               <a class="code" href="scanline_c.html#a0">MOVECHAR</a> ();
00530               <font class="keywordflow">while</font> (<a class="code" href="scanline_c.html#a10">lscanCharClass</a> (c) == IDCHAR)
00531                 {               
00532                   <a class="code" href="scanline_c.html#a0">MOVECHAR</a> ();
00533                 }
00534               *bufptr = <font class="charliteral">'\0'</font>;   
00535               sym = <a class="code" href="lsymbol_c.html#a14">lsymbol_fromChars</a> (&amp;tokenBuffer[0]);
00536               cod = LST_SEPSYM;
00537               <font class="keywordflow">break</font>;
00538 
00539               <font class="comment">/* simpleid */</font>
00540             <font class="keywordflow">case</font> <font class="charliteral">':'</font>:           
00541               <a class="code" href="scanline_c.html#a0">MOVECHAR</a> ();
00542               <font class="keywordflow">while</font> (<a class="code" href="scanline_c.html#a10">lscanCharClass</a> (c) == IDCHAR)
00543                 {               
00544                   <a class="code" href="scanline_c.html#a0">MOVECHAR</a> ();
00545                 }
00546               *bufptr = <font class="charliteral">'\0'</font>;   
00547               sym = <a class="code" href="lsymbol_c.html#a14">lsymbol_fromChars</a> (&amp;tokenBuffer[0]);
00548               cod = LST_SIMPLEID;
00549               <font class="keywordflow">break</font>;
00550 
00551             <font class="keywordflow">default</font>:            
00552               <font class="keywordflow">if</font> (<a class="code" href="scanline_c.html#a10">lscanCharClass</a> (c) == IDCHAR)
00553                 {
00554                   <font class="keywordflow">do</font>
00555                     {
00556                       <a class="code" href="scanline_c.html#a0">MOVECHAR</a> ();
00557                     }
00558                   <font class="keywordflow">while</font> (<a class="code" href="scanline_c.html#a10">lscanCharClass</a> (c) == IDCHAR);
00559                   *bufptr = <font class="charliteral">'\0'</font>;
00560                   sym = <a class="code" href="lsymbol_c.html#a14">lsymbol_fromChars</a> (&amp;tokenBuffer[0]);
00561                   cod = LST_SIMPLEOP;
00562                 }
00563               <font class="keywordflow">else</font>
00564                 {
00565                   <font class="comment">/*</font>
00566 <font class="comment">                  ** Meets none of the above.  Take the extension           </font>
00567 <font class="comment">                  ** character and the character following and treat        </font>
00568 <font class="comment">                  ** together as a SINGLECHAR.  SINGLECHARs tranlate into </font>
00569 <font class="comment">                  ** SIMPLEOPs.                                     </font>
00570 <font class="comment">                  */</font>
00571 
00572                   <a class="code" href="scanline_c.html#a0">MOVECHAR</a> ();
00573                   *bufptr = <font class="charliteral">'\0'</font>;       
00574                   sym = <a class="code" href="lsymbol_c.html#a14">lsymbol_fromChars</a> (&amp;tokenBuffer[0]);
00575                   cod = LST_SIMPLEOP;
00576                 }
00577               <font class="keywordflow">break</font>;
00578             }
00579           <font class="comment">/*@switchbreak@*/</font> <font class="keywordflow">break</font>;      
00580           <font class="comment">/*@=switchswitchbreak@*/</font>
00581         <font class="keywordflow">default</font>:
00582 
00583           LocalUserError (<font class="stringliteral">"unexpected character in input"</font>);
00584           <font class="keywordflow">return</font>;
00585         }
00586       <font class="comment">/*@=loopswitchbreak@*/</font>
00587 
00588       <font class="comment">/*</font>
00589 <font class="comment">      ** Above code only "guessed" at token type.  Insert it into the    </font>
00590 <font class="comment">      ** TokenTable.  If the token already exists, it is returned as</font>
00591 <font class="comment">      ** previously defined.  If it does not exist, it is inserted as the </font>
00592 <font class="comment">      ** token code computed above.</font>
00593 <font class="comment">      */</font>
00594 
00595       newToken = <a class="code" href="tokentable_c.html#a1">LSLInsertToken</a> (cod, sym, 0, FALSE);
00596 
00597       <font class="keywordflow">if</font> (<a class="code" href="syntable_c.html#a5">LSLIsSyn</a> (ltoken_getText (newToken)))
00598         {
00599           <font class="comment">/* </font>
00600 <font class="comment">          ** Token is a synonym.  Get the actual token and set the raw    </font>
00601 <font class="comment">          ** text to the synonym name.                              </font>
00602 <font class="comment">          */</font>
00603 
00604           newToken = <a class="code" href="syntable_c.html#a4">LSLGetTokenForSyn</a> (ltoken_getText (newToken));
00605           ltoken_setRawText (newToken, sym);
00606         }
00607 
00608       ltoken_setCol (newToken, startCol);
00609       ltoken_setLine (newToken, tsource_thisLineNumber (LSLScanSource ()));
00610       ltoken_setFileName (newToken, tsource_fileName (LSLScanSource ()));
00611       
00612       <font class="keywordflow">if</font> (ltoken_getCode (newToken) == LST_COMMENTSYM)
00613         {
00614           bufptr = &amp;tokenBuffer[0];
00615 
00616           <font class="keywordflow">while</font> (!<a class="code" href="scanline_c.html#a11">LSLIsEndComment</a> (c))
00617             {
00618               <a class="code" href="scanline_c.html#a0">MOVECHAR</a> ();
00619             }
00620           <font class="keywordflow">if</font> (<a class="code" href="scanline_c.html#a10">lscanCharClass</a> (c) != CHC_NULL)
00621             {
00622               <a class="code" href="scanline_c.html#a0">MOVECHAR</a> ();
00623             }
00624           <font class="keywordflow">if</font> (reportComments)
00625             {
00626               *bufptr = <font class="charliteral">'\0'</font>;
00627               ltoken_setRawText (newToken, lsymbol_fromChars (&amp;tokenBuffer[0]));
00628               <a class="code" href="scan_c.html#a4">LSLScanFreshToken</a> (newToken);
00629             }
00630         }
00631       <font class="keywordflow">else</font> <font class="keywordflow">if</font> (ltoken_getCode (newToken) == LST_EOL)
00632         {
00633           <font class="keywordflow">if</font> (reportEOL)
00634             {
00635               <a class="code" href="scan_c.html#a4">LSLScanFreshToken</a> (newToken);
00636             }
00637           <font class="keywordflow">return</font>;
00638         }
00639       <font class="keywordflow">else</font> 
00640         {
00641           <font class="keywordflow">if</font> (cod != LST_WHITESPACE)
00642             {
00643               <a class="code" href="scan_c.html#a4">LSLScanFreshToken</a> (newToken);
00644             }
00645         }
00646     }
00647 }
</div></pre>    </td>
  </tr>
</table>
<a name="a9" doxytag="scanline.c::lscanLineCleanup"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void lscanLineCleanup (
          </b></td>
          <td valign="bottom"><b>
void&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="scanline_c-source.html#l00800">800</a> of file <a class="el" href="scanline_c-source.html">scanline.c</a>.<div class="fragment"><pre>00801 {
00802 }
</div></pre>    </td>
  </tr>
</table>
<a name="a7" doxytag="scanline.c::lscanLineInit"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void lscanLineInit (
          </b></td>
          <td valign="bottom"><b>
void&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="scanline_c-source.html#l00712">712</a> of file <a class="el" href="scanline_c-source.html">scanline.c</a>.<div class="fragment"><pre>00713 {
00714   <font class="keywordtype">int</font> i;
00715 
00716   reportEOL = FALSE;
00717   reportComments = FALSE;
00718 
00719   <font class="keywordflow">for</font> (i = 0; i &lt;= LASTCHAR; i++)
00720     {
00721       charClass[i] = charClassDef[i];
00722     }
00723 
00724  <font class="comment">/*</font>
00725 <font class="comment"> ** NOTE: The following line ensures that all tokens have nonzero</font>
00726 <font class="comment"> ** handles, so that a handle of zero can be used to indicate that a</font>
00727 <font class="comment"> ** token does not have a synonym.</font>
00728 <font class="comment"> */</font>
00729 
00730   (<font class="keywordtype">void</font>) <a class="code" href="tokentable_c.html#a5">LSLReserveToken</a> (LST_SIMPLEID, <font class="stringliteral">"dummy token"</font>);
00731 
00732   ltoken_forall = <a class="code" href="tokentable_c.html#a5">LSLReserveToken</a> (LST_QUANTIFIERSYM, <font class="stringliteral">"\\forall"</font>);
00733   ltoken_true = <a class="code" href="tokentable_c.html#a5">LSLReserveToken</a> (LST_SIMPLEID, <font class="stringliteral">"true"</font>);
00734   ltoken_false = <a class="code" href="tokentable_c.html#a5">LSLReserveToken</a> (LST_SIMPLEID, <font class="stringliteral">"false"</font>);
00735   ltoken_not = <a class="code" href="tokentable_c.html#a5">LSLReserveToken</a> (LST_SIMPLEOP, <font class="stringliteral">"\\not"</font>);
00736   ltoken_and = <a class="code" href="tokentable_c.html#a5">LSLReserveToken</a> (LST_LOGICALOP, <font class="stringliteral">"\\and"</font>);
00737   ltoken_or = <a class="code" href="tokentable_c.html#a5">LSLReserveToken</a> (LST_LOGICALOP, <font class="stringliteral">"\\or"</font>);
00738   ltoken_implies = <a class="code" href="tokentable_c.html#a5">LSLReserveToken</a> (LST_LOGICALOP, <font class="stringliteral">"\\implies"</font>);
00739 
00740   ltoken_eq = <a class="code" href="tokentable_c.html#a5">LSLReserveToken</a> (LST_EQOP, <font class="stringliteral">"\\eq"</font>);
00741   ltoken_neq = <a class="code" href="tokentable_c.html#a5">LSLReserveToken</a> (LST_EQOP, <font class="stringliteral">"\\neq"</font>);
00742 
00743   ltoken_equals = <a class="code" href="tokentable_c.html#a5">LSLReserveToken</a> (LST_EQUATIONSYM, <font class="stringliteral">"\\equals"</font>);
00744   ltoken_eqsep = <a class="code" href="tokentable_c.html#a5">LSLReserveToken</a> (LST_EQSEPSYM, <font class="stringliteral">"\\eqsep"</font>);
00745   ltoken_select = <a class="code" href="tokentable_c.html#a5">LSLReserveToken</a> (LST_SELECTSYM, <font class="stringliteral">"\\select"</font>);
00746   ltoken_open = <a class="code" href="tokentable_c.html#a5">LSLReserveToken</a> (LST_OPENSYM, <font class="stringliteral">"\\open"</font>);
00747   ltoken_sep = <a class="code" href="tokentable_c.html#a5">LSLReserveToken</a> (LST_SEPSYM, <font class="stringliteral">"\\,"</font>);
00748   ltoken_close = <a class="code" href="tokentable_c.html#a5">LSLReserveToken</a> (LST_CLOSESYM, <font class="stringliteral">"\\close"</font>);
00749   ltoken_id = <a class="code" href="tokentable_c.html#a5">LSLReserveToken</a> (LST_SIMPLEID, <font class="stringliteral">"\\:"</font>);
00750   ltoken_arrow = <a class="code" href="tokentable_c.html#a5">LSLReserveToken</a> (LST_MAPSYM, <font class="stringliteral">"\\arrow"</font>);
00751   ltoken_farrow = <a class="code" href="tokentable_c.html#a5">LSLReserveToken</a> (LST_FIELDMAPSYM, <font class="stringliteral">"\\field_arrow"</font>);
00752 
00753   ltoken_marker = <a class="code" href="tokentable_c.html#a5">LSLReserveToken</a> (LST_MARKERSYM, <font class="stringliteral">"\\marker"</font>);
00754   ltoken_comment = <a class="code" href="tokentable_c.html#a5">LSLReserveToken</a> (LST_COMMENTSYM, <font class="stringliteral">"\\comment"</font>);
00755   ltoken_compose = <a class="code" href="tokentable_c.html#a5">LSLReserveToken</a> (LST_COMPOSESYM, <font class="stringliteral">"\\composeSort"</font>);
00756   ltoken_if = <a class="code" href="tokentable_c.html#a5">LSLReserveToken</a> (LST_ifTOKEN, <font class="stringliteral">"if"</font>);
00757 
00758   (<font class="keywordtype">void</font>) <a class="code" href="tokentable_c.html#a5">LSLReserveToken</a> (LST_LPAR, <font class="stringliteral">"("</font>);
00759   (<font class="keywordtype">void</font>) <a class="code" href="tokentable_c.html#a5">LSLReserveToken</a> (LST_RPAR, <font class="stringliteral">")"</font>);
00760   (<font class="keywordtype">void</font>) <a class="code" href="tokentable_c.html#a5">LSLReserveToken</a> (LST_COMMA, <font class="stringliteral">","</font>);
00761   (<font class="keywordtype">void</font>) <a class="code" href="tokentable_c.html#a5">LSLReserveToken</a> (LST_COLON, <font class="stringliteral">":"</font>);
00762 
00763   (<font class="keywordtype">void</font>) <a class="code" href="tokentable_c.html#a5">LSLReserveToken</a> (LST_LBRACKET, <font class="stringliteral">"["</font>);
00764   (<font class="keywordtype">void</font>) <a class="code" href="tokentable_c.html#a5">LSLReserveToken</a> (LST_RBRACKET, <font class="stringliteral">"]"</font>);
00765 
00766   (<font class="keywordtype">void</font>) <a class="code" href="tokentable_c.html#a5">LSLReserveToken</a> (LST_WHITESPACE, <font class="stringliteral">" "</font>);
00767   (<font class="keywordtype">void</font>) <a class="code" href="tokentable_c.html#a5">LSLReserveToken</a> (LST_WHITESPACE, <font class="stringliteral">"\t"</font>);
00768   (<font class="keywordtype">void</font>) <a class="code" href="tokentable_c.html#a5">LSLReserveToken</a> (LST_WHITESPACE, <font class="stringliteral">"\n"</font>);
00769 
00770   (<font class="keywordtype">void</font>) <a class="code" href="tokentable_c.html#a5">LSLReserveToken</a> (LEOFTOKEN, <font class="stringliteral">"E O F"</font>);
00771   (<font class="keywordtype">void</font>) <a class="code" href="tokentable_c.html#a5">LSLReserveToken</a> (LST_EOL, <font class="stringliteral">"E O L"</font>);
00772 
00773   (<font class="keywordtype">void</font>) <a class="code" href="tokentable_c.html#a5">LSLReserveToken</a> (LST_assertsTOKEN, <font class="stringliteral">"asserts"</font>);
00774   (<font class="keywordtype">void</font>) <a class="code" href="tokentable_c.html#a5">LSLReserveToken</a> (LST_assumesTOKEN, <font class="stringliteral">"assumes"</font>);
00775   (<font class="keywordtype">void</font>) <a class="code" href="tokentable_c.html#a5">LSLReserveToken</a> (LST_byTOKEN, <font class="stringliteral">"by"</font>);
00776   (<font class="keywordtype">void</font>) <a class="code" href="tokentable_c.html#a5">LSLReserveToken</a> (LST_convertsTOKEN, <font class="stringliteral">"converts"</font>);
00777   (<font class="keywordtype">void</font>) <a class="code" href="tokentable_c.html#a5">LSLReserveToken</a> (LST_elseTOKEN, <font class="stringliteral">"else"</font>);
00778   (<font class="keywordtype">void</font>) <a class="code" href="tokentable_c.html#a5">LSLReserveToken</a> (LST_enumerationTOKEN, <font class="stringliteral">"enumeration"</font>);
00779   (<font class="keywordtype">void</font>) <a class="code" href="tokentable_c.html#a5">LSLReserveToken</a> (LST_equationsTOKEN, <font class="stringliteral">"equations"</font>);
00780   (<font class="keywordtype">void</font>) <a class="code" href="tokentable_c.html#a5">LSLReserveToken</a> (LST_exemptingTOKEN, <font class="stringliteral">"exempting"</font>);
00781   (<font class="keywordtype">void</font>) <a class="code" href="tokentable_c.html#a5">LSLReserveToken</a> (LST_forTOKEN, <font class="stringliteral">"for"</font>);
00782   (<font class="keywordtype">void</font>) <a class="code" href="tokentable_c.html#a5">LSLReserveToken</a> (LST_generatedTOKEN, <font class="stringliteral">"generated"</font>);
00783   (<font class="keywordtype">void</font>) <a class="code" href="tokentable_c.html#a5">LSLReserveToken</a> (LST_impliesTOKEN, <font class="stringliteral">"implies"</font>);
00784   (<font class="keywordtype">void</font>) <a class="code" href="tokentable_c.html#a5">LSLReserveToken</a> (LST_includesTOKEN, <font class="stringliteral">"includes"</font>);
00785   (<font class="keywordtype">void</font>) <a class="code" href="tokentable_c.html#a5">LSLReserveToken</a> (LST_introducesTOKEN, <font class="stringliteral">"introduces"</font>);
00786   (<font class="keywordtype">void</font>) <a class="code" href="tokentable_c.html#a5">LSLReserveToken</a> (LST_ofTOKEN, <font class="stringliteral">"of"</font>);
00787   (<font class="keywordtype">void</font>) <a class="code" href="tokentable_c.html#a5">LSLReserveToken</a> (LST_partitionedTOKEN, <font class="stringliteral">"partitioned"</font>);
00788   (<font class="keywordtype">void</font>) <a class="code" href="tokentable_c.html#a5">LSLReserveToken</a> (LST_thenTOKEN, <font class="stringliteral">"then"</font>);
00789   (<font class="keywordtype">void</font>) <a class="code" href="tokentable_c.html#a5">LSLReserveToken</a> (LST_traitTOKEN, <font class="stringliteral">"trait"</font>);
00790   (<font class="keywordtype">void</font>) <a class="code" href="tokentable_c.html#a5">LSLReserveToken</a> (LST_tupleTOKEN, <font class="stringliteral">"tuple"</font>);
00791   (<font class="keywordtype">void</font>) <a class="code" href="tokentable_c.html#a5">LSLReserveToken</a> (LST_unionTOKEN, <font class="stringliteral">"union"</font>);
00792 }
</div></pre>    </td>
  </tr>
</table>
<a name="a8" doxytag="scanline.c::lscanLineReset"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void lscanLineReset (
          </b></td>
          <td valign="bottom"><b>
void&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="scanline_c-source.html#l00795">795</a> of file <a class="el" href="scanline_c-source.html">scanline.c</a>.<div class="fragment"><pre>00796 {
00797 }
</div></pre>    </td>
  </tr>
</table>
<a name="a12" doxytag="scanline.c::lsetCharClass"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void lsetCharClass (
          </b></td>
          <td valign="bottom"><b>
char <em>c</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
charCode <em>cod</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="scanline_c-source.html#l00814">814</a> of file <a class="el" href="scanline_c-source.html">scanline.c</a>.<div class="fragment"><pre>00815 {
00816   charClass[(<font class="keywordtype">int</font>)(c)].code = cod;
00817 }
</div></pre>    </td>
  </tr>
</table>
<a name="a13" doxytag="scanline.c::lsetEndCommentChar"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void lsetEndCommentChar (
          </b></td>
          <td valign="bottom"><b>
char <em>c</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
bool <em>flag</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="scanline_c-source.html#l00819">819</a> of file <a class="el" href="scanline_c-source.html">scanline.c</a>.<div class="fragment"><pre>00820 {
00821   charClass[(<font class="keywordtype">int</font>)(c)].endCommentChar = flag;
00822 }
</div></pre>    </td>
  </tr>
</table>
<hr><address><small>Generated at Fri Nov 3 18:58:04 2000 for LCLint by
<a href="http://www.stack.nl/~dimitri/doxygen/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.3 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2000</small></address>
</body>
</html>
